# llms-full (private-aware)
> Built from GitHub files and website pages. Large files may be truncated.

--- docs/guide/installation.md ---
# Installation

Bootstrap a new project, start from scratch, or [migrate an existing project](/guide/resources/migrate).

[[toc]]

## Bootstrap Project

Run the [`init` command](/api/cli/wxt-init), and follow the instructions.

:::code-group

```sh [PNPM]
pnpm dlx wxt@latest init
```

```sh [Bun]
bunx wxt@latest init
```

```sh [NPM]
npx wxt@latest init
```

```sh [Yarn]
# Use NPM initially, but select Yarn when prompted
npx wxt@latest init
```

:::

:::info Starter Templates:
[<Icon name="TypeScript" style="margin-left: 16px;" />Vanilla](https://github.com/wxt-dev/wxt/tree/main/templates/vanilla)<br/>[<Icon name="Vue" style="margin-left: 16px;" />Vue](https://github.com/wxt-dev/wxt/tree/main/templates/vue)<br/>[<Icon name="React" style="margin-left: 16px;" />React](https://github.com/wxt-dev/wxt/tree/main/templates/react)<br/>[<Icon name="Svelte" style="margin-left: 16px;" />Svelte](https://github.com/wxt-dev/wxt/tree/main/templates/svelte)<br/>[<Icon name="Solid" icon="https://www.solidjs.com/img/favicons/favicon-32x32.png"  style="margin-left: 16px;" />Solid](https://github.com/wxt-dev/wxt/tree/main/templates/solid)

<small style="opacity: 50%">All templates use TypeScript by default. To use JavaScript, change the file extensions.</small>
:::

### Demo

![wxt init demo](/assets/init-demo.gif)

Once you've run the `dev` command, continue to [Next Steps](#next-steps)!

## From Scratch

1. Create a new project
   :::code-group

   ```sh [PNPM]
   cd my-project
   pnpm init
   ```

   ```sh [Bun]
   cd my-project
   bun init
   ```

   ```sh [NPM]
   cd my-project
   npm init
   ```

   ```sh [Yarn]
   cd my-project
   yarn init
   ```

   :::

2. Install WXT:
   :::code-group

   ```sh [PNPM]
   pnpm i -D wxt
   ```

   ```sh [Bun]
   bun i -D wxt
   ```

   ```sh [NPM]
   npm i -D wxt
   ```

   ```sh [Yarn]
   yarn add --dev wxt
   ```

   :::

3. Add an entrypoint, `my-project/entrypoints/background.ts`:
   :::code-group

   ```ts
   export default defineBackground(() => {
     console.log('Hello world!');
   });
   ```

   :::

4. Add scripts to your `package.json`:

   ```json [package.json]
   {
     "scripts": {
       "dev": "wxt", // [!code ++]
       "dev:firefox": "wxt -b firefox", // [!code ++]
       "build": "wxt build", // [!code ++]
       "build:firefox": "wxt build -b firefox", // [!code ++]
       "zip": "wxt zip", // [!code ++]
       "zip:firefox": "wxt zip -b firefox", // [!code ++]
       "postinstall": "wxt prepare" // [!code ++]
     }
   }
   ```

5. Run your extension in dev mode
   :::code-group

   ```sh [PNPM]
   pnpm dev
   ```

   ```sh [Bun]
   bun run dev
   ```

   ```sh [NPM]
   npm run dev
   ```

   ```sh [Yarn]
   yarn dev
   ```

   :::
   WXT will automatically open a browser window with your extension installed.

## Next Steps

- Keep reading on about WXT's [Project Structure](/guide/essentials/project-structure) and other essential concepts to learn
- Configure [automatic browser startup](/guide/essentials/config/browser-startup) during dev mode
- Explore [WXT's example library](/examples) to see how to use specific APIs or perform common tasks
- Checkout the [community page](/guide/resources/community) for a list of resources made by the community!


## Links discovered
- [migrate an existing project](https://github.com/wxt-dev/wxt/blob/main/guide/resources/migrate.md)
- [`init` command](https://github.com/wxt-dev/wxt/blob/main/api/cli/wxt-init.md)
- [<Icon name="TypeScript" style="margin-left: 16px;" />Vanilla](https://github.com/wxt-dev/wxt/tree/main/templates/vanilla)
- [<Icon name="Vue" style="margin-left: 16px;" />Vue](https://github.com/wxt-dev/wxt/tree/main/templates/vue)
- [<Icon name="React" style="margin-left: 16px;" />React](https://github.com/wxt-dev/wxt/tree/main/templates/react)
- [<Icon name="Svelte" style="margin-left: 16px;" />Svelte](https://github.com/wxt-dev/wxt/tree/main/templates/svelte)
- [<Icon name="Solid" icon="https://www.solidjs.com/img/favicons/favicon-32x32.png"  style="margin-left: 16px;" />Solid](https://github.com/wxt-dev/wxt/tree/main/templates/solid)
- [wxt init demo](https://github.com/wxt-dev/wxt/blob/main/assets/init-demo.gif)
- [Project Structure](https://github.com/wxt-dev/wxt/blob/main/guide/essentials/project-structure.md)
- [automatic browser startup](https://github.com/wxt-dev/wxt/blob/main/guide/essentials/config/browser-startup.md)
- [WXT's example library](https://github.com/wxt-dev/wxt/blob/main/examples.md)
- [community page](https://github.com/wxt-dev/wxt/blob/main/guide/resources/community.md)

--- packages/runner/src/install.ts ---
import type { ChildProcess } from 'node:child_process';
import { createBidiConnection } from './bidi';
import { createCdpConnection } from './cdp';

/**
 * Install an extension to an already running instance of Firefox.
 * @param debuggerUrl The URL of the Firefox BiDi server (ex: `ws://127.0.0.1:45912`).
 * @param extensionDir Absolute path to the directory containing the extension to be installed.
 */
export async function installFirefox(
  debuggerUrl: string,
  extensionDir: string,
): Promise<BidiWebExtensionInstallResponse> {
  using bidi = await createBidiConnection(debuggerUrl);

  // Start a session
  await bidi.send<unknown>('session.new', { capabilities: {} });

  // Install the extension
  return await bidi.send<BidiWebExtensionInstallResponse>(
    'webExtension.install',
    {
      extensionData: {
        type: 'path',
        path: extensionDir,
      },
    },
  );
}

export type BidiWebExtensionInstallResponse = {
  extension: string;
};

/**
 * Given a child process of Chrome, install an extension. The process must be started with the following flags:
 *
 * - `--remote-debugging-pipe`
 * - `--user-data-dir=...`
 * - `--enable-unsafe-extension-debugging`
 *
 * Otherwise it the CDP doesn't have permission to install extensions.
 */
export async function installChromium(
  browserProcess: ChildProcess,
  extensionDir: string,
): Promise<CdpExtensionsLoadUnpackedResponse> {
  using cdp = createCdpConnection(browserProcess);
  return await cdp.send<CdpExtensionsLoadUnpackedResponse>(
    'Extensions.loadUnpacked',
    {
      path: extensionDir,
    },
  );
}

export type CdpExtensionsLoadUnpackedResponse = {
  id: string;
};


--- packages/runner/src/__tests__/install.test.ts ---
import { describe, it, expect, vi } from 'vitest';
import { mock } from 'vitest-mock-extended';
import { createCdpConnection, type CDPConnection } from '../cdp';
import { createBidiConnection, type BidiConnection } from '../bidi';
import type { ChildProcess } from 'node:child_process';
import { installChromium, installFirefox } from '../install';

vi.mock('../cdp');
const createCdpConnectionMock = vi.mocked(createCdpConnection);

vi.mock('../bidi');
const createBidiConnectionMock = vi.mocked(createBidiConnection);

describe('Install', () => {
  describe('Chromium', () => {
    it('Should send the install command to the process', async () => {
      const browserProcess = mock<ChildProcess>();
      const connection = mock<CDPConnection>({
        [Symbol.dispose]: vi.fn(),
      });
      const extensionDir = '/path/to/extension';
      const expectedExtensionId = 'chromium-extension-id';

      createCdpConnectionMock.mockReturnValue(connection);
      connection.send.mockImplementation(async (method) => {
        if (method === 'Extensions.loadUnpacked')
          return { id: expectedExtensionId };
        throw Error('Unknown method');
      });

      const res = await installChromium(browserProcess, extensionDir);

      expect(createCdpConnectionMock).toBeCalledTimes(1);
      expect(createCdpConnectionMock).toBeCalledWith(browserProcess);

      expect(connection.send).toBeCalledTimes(1);
      expect(connection.send).toBeCalledWith('Extensions.loadUnpacked', {
        path: extensionDir,
      });

      expect(res).toEqual({ id: expectedExtensionId });
    });
  });

  describe('Firefox', () => {
    it('Should connect to the server, start a session, then install the extension', async () => {
      const debuggerUrl = 'http://127.0.0.1:9222';
      const extensionDir = '/path/to/extension';
      const expectedExtensionId = 'firefox-extension-id';
      const connection = mock<BidiConnection>({
        [Symbol.dispose]: vi.fn(),
      });

      createBidiConnectionMock.mockResolvedValue(connection);
      connection.send.mockImplementation(async (method) => {
        if (method === 'session.new') return { sessionId: 'session-id' };
        if (method === 'webExtension.install')
          return { extension: expectedExtensionId };
      });

      const res = await installFirefox(debuggerUrl, extensionDir);

      expect(createBidiConnectionMock).toBeCalledTimes(1);
      expect(createBidiConnectionMock).toBeCalledWith(debuggerUrl);

      expect(connection.send).toBeCalledTimes(2);
      expect(connection.send).toBeCalledWith('session.new', {
        capabilities: {},
      });
      expect(connection.send).toBeCalledWith('webExtension.install', {
        extensionData: {
          type: 'path',
          path: extensionDir,
        },
      });

      expect(res).toEqual({ extension: expectedExtensionId });
    });
  });
});


--- docs/examples.md ---
---
layout: page
---

<style>
.examples-container {
  padding: 32px;
}
</style>

<div class="examples-container">
  <div class="vp-doc">
    <h1>Examples</h1>
  </div>

  <br />

  <ExampleSearch />
</div>


--- docs/index.md ---
---
# https://vitepress.dev/reference/default-theme-home-page
layout: home
title: Next-gen Web Extension Framework

hero:
  name: WXT
  text: Next-gen Web Extension Framework
  tagline: An open source tool that makes web extension development faster than ever before.
  image:
    src: /hero-logo.svg
    alt: WXT
  actions:
    - theme: brand
      text: Get Started
      link: /guide/installation
    - theme: alt
      text: Learn More
      link: /guide/introduction

features:
  - icon: üåê
    title: Supported Browsers
    details: WXT will build extensions for Chrome, Firefox, Edge, Safari, and any Chromium based browser.
    link: /guide/essentials/target-different-browsers
    linkText: Read docs
  - icon: ‚úÖ
    title: MV2 and MV3
    details: Build Manifest V2 or V3 extensions for any browser using the same codebase.
    link: /guide/essentials/config/manifest
    linkText: Read docs
  - icon: ‚ö°
    title: Fast Dev Mode
    details: Lightning fast HMR for UI development and fast reloads for content/background scripts enables faster iterations.
  - icon: üìÇ
    title: File Based Entrypoints
    details: Manifest is generated based on files in the project with inline configuration.
    link: /guide/essentials/project-structure
    linkText: See project structure
  - icon: üöî
    title: TypeScript
    details: Create large projects with confidence using TS by default.
  - icon: ü¶æ
    title: Auto-imports
    details: Nuxt-like auto-imports to speed up development.
    link: /guide/essentials/config/auto-imports
    linkText: Read docs
  - icon: ü§ñ
    title: Automated Publishing
    details: Automatically zip, upload, submit, and publish extensions.
  - icon: üé®
    title: Frontend Framework Agnostic
    details: Works with any front-end framework with a Vite plugin.
    link: /guide/essentials/frontend-frameworks
    linkText: Add a framework
  - icon: üì¶
    title: Module System
    details: Reuse build-time and runtime-code across multiple extensions.
    link: /guide/essentials/wxt-modules
    linkText: Read docs
  - icon: üñçÔ∏è
    title: Bootstrap a New Project
    details: Get started quickly with several awesome project templates.
    link: /guide/installation#bootstrap-project
    linkText: See templates
  - icon: üìè
    title: Bundle Analysis
    details: Tools for analyzing the final extension bundle and minimizing your extension's size.
  - icon: ‚¨áÔ∏è
    title: Bundle Remote Code
    details: Downloads and bundles remote code imported from URLs.
    link: /guide/essentials/remote-code
    linkText: Read docs
---

## Sponsors

WXT is a [MIT-licensed](https://github.com/wxt-dev/wxt/blob/main/LICENSE) open source project with its ongoing development made possible entirely by the support of these awesome backers. If you'd like to join them, please consider [sponsoring WXT's development](https://github.com/sponsors/wxt-dev).

<a href="https://github.com/sponsors/wxt-dev"><img alt="WXT Sponsors" src="https://raw.githubusercontent.com/wxt-dev/static/refs/heads/main/sponsorkit/sponsors-wide.svg"></a>

## Put <span style="color: var(--vp-c-brand-1)">Developer Experience</span> First

WXT simplifies the web extension development process by providing tools for zipping and publishing, the best-in-class dev mode, an opinionated project structure, and more. Iterate faster, develop features not build scripts, and use everything the JS ecosystem has to offer.

<div style="margin: auto; width: 100%; max-width: 900px; text-align: center">
  <video src="https://github.com/wxt-dev/wxt/assets/10101283/4d678939-1bdb-495c-9c36-3aa281d84c94" controls></video>
  <br />
  <small>
    And who doesn't appreciate a beautiful CLI?
  </small>
</div>

## Who's Using WXT?

Battle tested and ready for production. Explore web extensions made with WXT.

<ClientOnly>
  <UsingWxtSection />
</ClientOnly>


## Links discovered
- [MIT-licensed](https://github.com/wxt-dev/wxt/blob/main/LICENSE)
- [sponsoring WXT's development](https://github.com/sponsors/wxt-dev)
- [<img alt="WXT Sponsors" src="https://raw.githubusercontent.com/wxt-dev/static/refs/heads/main/sponsorkit/sponsors-wide.svg">](https://github.com/sponsors/wxt-dev)

--- docs/analytics.md ---
<!--@include: ../packages/analytics/README.md-->


--- docs/auto-icons.md ---
<!--@include: ../packages/auto-icons/README.md-->


--- docs/blog.md ---
---
layout: page
---

<script lang="ts" setup>
import BlogHome from './.vitepress/components/BlogHome.vue';
</script>

<BlogHome />


--- docs/i18n.md ---
---
outline: deep
---

<!--@include: ../packages/i18n/README.md-->


--- docs/runner.md ---
<!--@include: ../packages/runner/README.md-->


--- packages/wxt-demo/src/entrypoints/example.sandbox/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script type="module" src="../../utils/logger.ts"></script>
  </head>
  <body></body>
</html>


--- packages/wxt-demo/src/entrypoints/iframe-src/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Iframe Example</title>
  </head>
  <body>
    <p>Hello iframe page!</p>
    <script type="module" src="./main.ts"></script>
  </body>
</html>


--- packages/wxt-demo/src/entrypoints/options/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Extension Settings</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <p>Hello options page!</p>
    <script type="module" src="./main.ts"></script>
  </body>
</html>


--- packages/wxt-demo/eslint.config.js ---
import autoImports from './.wxt/eslintrc-auto-import.js';

export default [
  {
    languageOptions: {
      globals: {
        ...autoImports.globals,
      },
      sourceType: 'module',
    },
  },
];


--- packages/wxt-demo/vitest.config.ts ---
import { defineProject } from 'vitest/config';
import { WxtVitest } from 'wxt/testing';

export default defineProject({
  test: {
    mockReset: true,
    restoreMocks: true,
  },
  plugins: [WxtVitest()],
});


--- packages/wxt-demo/wxt.config.ts ---
import { defineConfig } from 'wxt';
import { presetUno } from 'unocss';

export default defineConfig({
  srcDir: 'src',
  targetBrowsers: ['chrome', 'firefox', 'safari'],
  manifest: {
    permissions: ['storage'],
    default_locale: 'en',
    web_accessible_resources: [
      {
        resources: ['/iframe-src.html'],
        matches: ['*://*.google.com/*'],
      },
    ],
  },
  zip: {
    downloadPackages: ['sass'],
  },
  analysis: {
    open: true,
  },
  webExt: {
    startUrls: ['https://duckduckgo.com'],
  },
  example: {
    a: 'a',
    // @ts-expect-error: c is not defined, this should be a type error, but it should show up in the module
    c: 'c',
  },
  unocss: {
    excludeEntrypoints: [
      'example',
      'iframe-src',
      'injected',
      'example-tsx',
      'example-2',
      'iframe',
      'location-change',
      'main-world',
      'sandbox',
      'sidepanel',
      'unlisted',
    ],
    configOrPath: {
      content: {
        pipeline: {
          include: [
            // the default
            /\.(vue|svelte|[jt]sx|mdx?|astro|elm|php|phtml|html)($|\?)/,
            // include js/ts files
            'src/entrypoints/**/*.{js,ts}',
          ],
        },
      },
      presets: [presetUno()],
    },
  },
});


--- packages/wxt-demo/src/app.config.ts ---
import { defineAppConfig } from '#imports';

declare module 'wxt/utils/define-app-config' {
  export interface WxtAppConfig {
    example: string;
  }
}

export default defineAppConfig({
  example: 'value',
});


--- packages/wxt-demo/modules/auto-icons.ts ---
import autoIcons from '@wxt-dev/auto-icons';

export default autoIcons;


--- packages/runner/demo-extension/background.js ---
console.log('Hello background!');


--- packages/wxt-demo/modules/example.ts ---
import { defineWxtModule } from 'wxt/modules';

// Example of adding option types to wxt config file
export interface ExampleModuleOptions {
  a: string;
  b?: string;
}
declare module 'wxt' {
  interface InlineConfig {
    example?: ExampleModuleOptions;
  }
}

export default defineWxtModule<ExampleModuleOptions>({
  configKey: 'example',
  setup(wxt, options) {
    wxt.logger.info('Example module with options:', options);
  },
});


--- packages/module-react/README.md ---
# `@wxt-dev/module-react`

Enables the use of [React](https://react.dev/) in your web extension, in HTML pages and content scripts.

This plugin makes a few changes:

1. Adds `@vitejs/plugin-react` to vite
2. Adds the [`react` preset](https://github.com/unjs/unimport/blob/main/src/presets/react.ts) to auto-imports

## Usage

```sh
pnpm i react react-dom
pnpm i -D @wxt-dev/module-react
```

Then add the module to your config:

```ts
// wxt.config.ts
export default defineConfig({
  // Required
  modules: ['@wxt-dev/module-react'],

  // Optional: Pass options to the module:
  react: {
    vite: {
      // ...
    },
  },
});
```


## Links discovered
- [React](https://react.dev/)
- [`react` preset](https://github.com/unjs/unimport/blob/main/src/presets/react.ts)

--- packages/module-solid/README.md ---
# `@wxt-dev/module-solid`

Enables the use of [SolidJS](https://www.solidjs.com/) in your web extension, in HTML pages and content scripts.

This plugin makes a few changes:

1. Adds `vite-plugin-solid` to and sets `build.target: esnext` in the vite config
2. Adds the [`solid-js` preset](https://github.com/unjs/unimport/blob/main/src/presets/solid.ts) to auto-imports

## Usage

```sh
pnpm i solid-js
pnpm i -D @wxt-dev/module-solid
```

Then add the module to your config:

```ts
// wxt.config.ts
export default defineConfig({
  // Required
  modules: ['@wxt-dev/module-solid'],

  // Optional: Pass options to the module:
  solid: {
    vite: {
      // ...
    },
  },
});
```


## Links discovered
- [SolidJS](https://www.solidjs.com/)
- [`solid-js` preset](https://github.com/unjs/unimport/blob/main/src/presets/solid.ts)

--- packages/module-svelte/README.md ---
# `@wxt-dev/module-svelte`

Enables the use of [Svelte](https://svelte.dev/) in your web extension, in HTML pages and content scripts.

This plugin makes a few changes:

1. Adds `@sveltejs/vite-plugin-svelte` to vite
2. Adds the [`svelte` preset](https://github.com/unjs/unimport/blob/main/src/presets/svelte.ts) to auto-imports

## Usage

```sh
pnpm i svelte
pnpm i -D @wxt-dev/module-svelte
```

Then add the module to your config:

```ts
// wxt.config.ts
export default defineConfig({
  // Required
  modules: ['@wxt-dev/module-svelte'],

  // Optional: Pass options to the module:
  svelte: {
    vite: {
      // ...
    },
  },
});
```


## Links discovered
- [Svelte](https://svelte.dev/)
- [`svelte` preset](https://github.com/unjs/unimport/blob/main/src/presets/svelte.ts)

--- packages/module-vue/README.md ---
# `@wxt-dev/module-vue`

Enables the use of [Vue](https://vuejs.org/) in your web extension, in HTML pages and content scripts.

This plugin makes a few changes:

1. Adds `@vitejs/plugin-vue` to vite config
2. Adds the [`vue` preset](https://github.com/unjs/unimport/blob/main/src/presets/vue.ts) to auto-imports
3. Applies sourcemap fix to prevent HMR errors during development
4. Enable auto-imports in `.vue` files

## Usage

```sh
pnpm i vue
pnpm i -D @wxt-dev/module-vue
```

Then add the module to your config:

```ts
// wxt.config.ts
export default defineConfig({
  // Required
  modules: ['@wxt-dev/module-vue'],

  // Optional: Pass options to the module:
  vue: {
    vite: {
      script: {
        propsDestructure: true,
      },
    },
  },
});
```


## Links discovered
- [Vue](https://vuejs.org/)
- [`vue` preset](https://github.com/unjs/unimport/blob/main/src/presets/vue.ts)

--- packages/module-react/entrypoints/popup/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="./main.tsx"></script>
  </body>
</html>


--- packages/module-solid/entrypoints/popup/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="./main.tsx"></script>
  </body>
</html>


--- packages/module-react/CHANGELOG.md ---
# Changelog

## v1.1.5

[compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.4...module-react-v1.1.5)

### üè° Chore

- **deps:** Support @vitejs/plugin-react@5 ([9170159b](https://github.com/wxt-dev/wxt/commit/9170159b))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))

## v1.1.4

[compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.3...module-react-v1.1.4)

### ü©π Fixes

- Add support for WXT v0.20.0 ([c9dca022](https://github.com/wxt-dev/wxt/commit/c9dca022))

### üè° Chore

- Add funding links to `package.json` files ([#1446](https://github.com/wxt-dev/wxt/pull/1446))
- Use PNPM 10's new catelog feature ([#1493](https://github.com/wxt-dev/wxt/pull/1493))
- Move production dependencies to PNPM 10 catelog ([#1494](https://github.com/wxt-dev/wxt/pull/1494))
- **deps:** Upgrade to Vite 6 and related dependencies ([#1496](https://github.com/wxt-dev/wxt/pull/1496))
- Stop using PNPM catalog ([#1644](https://github.com/wxt-dev/wxt/pull/1644))
- Upgrade `@aklinker1/check` to v2 ([#1647](https://github.com/wxt-dev/wxt/pull/1647))
- **deps:** Update all dependencies ([#1648](https://github.com/wxt-dev/wxt/pull/1648))
- **deps:** Upgrade typescript from 5.8.3 to 5.9.2 ([a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643))
- Create script for managing dependency upgrades ([#1875](https://github.com/wxt-dev/wxt/pull/1875))
- **deps:** Upgrade all dev dependencies ([#1876](https://github.com/wxt-dev/wxt/pull/1876))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))
- Okinea Dev <hi@okinea.dev>

## v1.1.3

[compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.2...module-react-v1.1.3)

### ü©π Fixes

- Use react 19 in `@wxt-dev/module-react` and `templates/react` ([#1285](https://github.com/wxt-dev/wxt/pull/1285))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v1.1.2

[compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.1...module-react-v1.1.2)

### ü©π Fixes

- Use `config:resolved` hook to update config instead of `ready` ([#1178](https://github.com/wxt-dev/wxt/pull/1178))

### üè° Chore

- Add  `oxlint` for linting ([#947](https://github.com/wxt-dev/wxt/pull/947))
- Upgrade all non-major dependencies ([#1040](https://github.com/wxt-dev/wxt/pull/1040))
- **deps:** Upgrade all non-major dependencies ([#1164](https://github.com/wxt-dev/wxt/pull/1164))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v1.1.1

[compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.0...module-react-v1.1.1)

### üè° Chore

- **deps:** Bump all non-major dependencies ([#834](https://github.com/wxt-dev/wxt/pull/834))
- **deps:** Upgrade all dependencies ([#869](https://github.com/wxt-dev/wxt/pull/869))
- Add more metadata for npm ([#885](https://github.com/wxt-dev/wxt/pull/885))

### ‚ù§Ô∏è Contributors

- Florian Metz ([@Timeraa](http://github.com/Timeraa))

## v1.1.0

[compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.0.0...module-react-v1.1.0)

### üöÄ Enhancements

- Enable auto-imports for JSX/TSX files ([#773](https://github.com/wxt-dev/wxt/pull/773))

### ü©π Fixes

- Upgrade wxt peer to >= 0.18.6 ([7edf1c8](https://github.com/wxt-dev/wxt/commit/7edf1c8))
- Use `prepare` instead of `postinstall` for local dev setup ([#788](https://github.com/wxt-dev/wxt/pull/788))

### üè° Chore

- Add changelog ([21e8ca0](https://github.com/wxt-dev/wxt/commit/21e8ca0))
- Extract build cache script to NPM package ([#737](https://github.com/wxt-dev/wxt/pull/737))
- **deps:** Upgrade non-major deps ([#778](https://github.com/wxt-dev/wxt/pull/778))

## v1.0.0

Initial release üéâ

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.4...module-react-v1.1.5)
- [9170159b](https://github.com/wxt-dev/wxt/commit/9170159b)
- [@aklinker1](https://github.com/aklinker1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.3...module-react-v1.1.4)
- [c9dca022](https://github.com/wxt-dev/wxt/commit/c9dca022)
- [#1446](https://github.com/wxt-dev/wxt/pull/1446)
- [#1493](https://github.com/wxt-dev/wxt/pull/1493)
- [#1494](https://github.com/wxt-dev/wxt/pull/1494)
- [#1496](https://github.com/wxt-dev/wxt/pull/1496)
- [#1644](https://github.com/wxt-dev/wxt/pull/1644)
- [#1647](https://github.com/wxt-dev/wxt/pull/1647)
- [#1648](https://github.com/wxt-dev/wxt/pull/1648)
- [a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643)
- [#1875](https://github.com/wxt-dev/wxt/pull/1875)
- [#1876](https://github.com/wxt-dev/wxt/pull/1876)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.2...module-react-v1.1.3)
- [#1285](https://github.com/wxt-dev/wxt/pull/1285)
- [@aklinker1](http://github.com/aklinker1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.1...module-react-v1.1.2)
- [#1178](https://github.com/wxt-dev/wxt/pull/1178)
- [#947](https://github.com/wxt-dev/wxt/pull/947)
- [#1040](https://github.com/wxt-dev/wxt/pull/1040)
- [#1164](https://github.com/wxt-dev/wxt/pull/1164)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.1.0...module-react-v1.1.1)
- [#834](https://github.com/wxt-dev/wxt/pull/834)
- [#869](https://github.com/wxt-dev/wxt/pull/869)
- [#885](https://github.com/wxt-dev/wxt/pull/885)
- [@Timeraa](http://github.com/Timeraa)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-react-v1.0.0...module-react-v1.1.0)
- [#773](https://github.com/wxt-dev/wxt/pull/773)
- [7edf1c8](https://github.com/wxt-dev/wxt/commit/7edf1c8)
- [#788](https://github.com/wxt-dev/wxt/pull/788)
- [21e8ca0](https://github.com/wxt-dev/wxt/commit/21e8ca0)
- [#737](https://github.com/wxt-dev/wxt/pull/737)
- [#778](https://github.com/wxt-dev/wxt/pull/778)

--- packages/module-solid/CHANGELOG.md ---
# Changelog

## v1.1.4

[compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.1.3...module-solid-v1.1.4)

### ü©π Fixes

- Add support for WXT v0.20.0 ([c9dca022](https://github.com/wxt-dev/wxt/commit/c9dca022))

### üè° Chore

- **deps-dev:** Bump solid-js from 1.9.3 to 1.9.4 ([#1391](https://github.com/wxt-dev/wxt/pull/1391))
- Add funding links to `package.json` files ([#1446](https://github.com/wxt-dev/wxt/pull/1446))
- **deps:** Bump vite-plugin-solid from 2.10.2 to 2.11.6 ([#1491](https://github.com/wxt-dev/wxt/pull/1491))
- Use PNPM 10's new catelog feature ([#1493](https://github.com/wxt-dev/wxt/pull/1493))
- Move production dependencies to PNPM 10 catelog ([#1494](https://github.com/wxt-dev/wxt/pull/1494))
- **deps:** Upgrade to Vite 6 and related dependencies ([#1496](https://github.com/wxt-dev/wxt/pull/1496))
- Stop using PNPM catalog ([#1644](https://github.com/wxt-dev/wxt/pull/1644))
- Upgrade `@aklinker1/check` to v2 ([#1647](https://github.com/wxt-dev/wxt/pull/1647))
- **deps:** Update all dependencies ([#1648](https://github.com/wxt-dev/wxt/pull/1648))
- **deps:** Upgrade typescript from 5.8.3 to 5.9.2 ([a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643))
- Create script for managing dependency upgrades ([#1875](https://github.com/wxt-dev/wxt/pull/1875))
- **deps:** Upgrade all dev dependencies ([#1876](https://github.com/wxt-dev/wxt/pull/1876))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))
- Okinea Dev <hi@okinea.dev>

## v1.1.3

[compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.1.2...module-solid-v1.1.3)

### ü©π Fixes

- Use `config:resolved` hook to update config instead of `ready` ([#1178](https://github.com/wxt-dev/wxt/pull/1178))

### üè° Chore

- Add  `oxlint` for linting ([#947](https://github.com/wxt-dev/wxt/pull/947))
- Upgrade all non-major dependencies ([#1040](https://github.com/wxt-dev/wxt/pull/1040))
- **deps:** Upgrade all non-major dependencies ([#1164](https://github.com/wxt-dev/wxt/pull/1164))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v1.1.2

[compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.1.1...module-solid-v1.1.2)

### üè° Chore

- **deps:** Bump all non-major dependencies ([#834](https://github.com/wxt-dev/wxt/pull/834))
- **deps:** Upgrade all dependencies ([#869](https://github.com/wxt-dev/wxt/pull/869))
- Add more metadata for npm ([#885](https://github.com/wxt-dev/wxt/pull/885))

### ‚ù§Ô∏è Contributors

- Florian Metz ([@Timeraa](http://github.com/Timeraa))

## v1.1.1

[compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.1.0...module-solid-v1.1.1)

### ü©π Fixes

- Use `prepare` instead of `postinstall` for local dev setup ([#788](https://github.com/wxt-dev/wxt/pull/788))

## v1.1.0

[compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.0.1...module-solid-v1.1.0)

### üöÄ Enhancements

- Enable auto-imports for JSX/TSX files ([#773](https://github.com/wxt-dev/wxt/pull/773))

### ü©π Fixes

- Upgrade wxt peer to >= 0.18.6 ([7edf1c8](https://github.com/wxt-dev/wxt/commit/7edf1c8))

### üè° Chore

- Extract build cache script to NPM package ([#737](https://github.com/wxt-dev/wxt/pull/737))
- **deps:** Upgrade non-major deps ([#778](https://github.com/wxt-dev/wxt/pull/778))

## v1.0.1

[compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.0.0...module-solid-v1.0.1)

### ü©π Fixes

- Add `target: esnext` by default ([#733](https://github.com/wxt-dev/wxt/pull/733))

### üè° Chore

- Add changelog ([21e8ca0](https://github.com/wxt-dev/wxt/commit/21e8ca0))

## v1.0.0

Initial release üéâ

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.1.3...module-solid-v1.1.4)
- [c9dca022](https://github.com/wxt-dev/wxt/commit/c9dca022)
- [#1391](https://github.com/wxt-dev/wxt/pull/1391)
- [#1446](https://github.com/wxt-dev/wxt/pull/1446)
- [#1491](https://github.com/wxt-dev/wxt/pull/1491)
- [#1493](https://github.com/wxt-dev/wxt/pull/1493)
- [#1494](https://github.com/wxt-dev/wxt/pull/1494)
- [#1496](https://github.com/wxt-dev/wxt/pull/1496)
- [#1644](https://github.com/wxt-dev/wxt/pull/1644)
- [#1647](https://github.com/wxt-dev/wxt/pull/1647)
- [#1648](https://github.com/wxt-dev/wxt/pull/1648)
- [a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643)
- [#1875](https://github.com/wxt-dev/wxt/pull/1875)
- [#1876](https://github.com/wxt-dev/wxt/pull/1876)
- [@aklinker1](https://github.com/aklinker1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.1.2...module-solid-v1.1.3)
- [#1178](https://github.com/wxt-dev/wxt/pull/1178)
- [#947](https://github.com/wxt-dev/wxt/pull/947)
- [#1040](https://github.com/wxt-dev/wxt/pull/1040)
- [#1164](https://github.com/wxt-dev/wxt/pull/1164)
- [@aklinker1](http://github.com/aklinker1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.1.1...module-solid-v1.1.2)
- [#834](https://github.com/wxt-dev/wxt/pull/834)
- [#869](https://github.com/wxt-dev/wxt/pull/869)
- [#885](https://github.com/wxt-dev/wxt/pull/885)
- [@Timeraa](http://github.com/Timeraa)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.1.0...module-solid-v1.1.1)
- [#788](https://github.com/wxt-dev/wxt/pull/788)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.0.1...module-solid-v1.1.0)
- [#773](https://github.com/wxt-dev/wxt/pull/773)
- [7edf1c8](https://github.com/wxt-dev/wxt/commit/7edf1c8)
- [#737](https://github.com/wxt-dev/wxt/pull/737)
- [#778](https://github.com/wxt-dev/wxt/pull/778)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-solid-v1.0.0...module-solid-v1.0.1)
- [#733](https://github.com/wxt-dev/wxt/pull/733)
- [21e8ca0](https://github.com/wxt-dev/wxt/commit/21e8ca0)

--- packages/module-svelte/CHANGELOG.md ---
# Changelog

## v2.0.4

[compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v2.0.3...module-svelte-v2.0.4)

### ü©π Fixes

- Add support for @sveltejs/vite-plugin-svelte@6 ([459f73fd](https://github.com/wxt-dev/wxt/commit/459f73fd))

### üè° Chore

- Add funding links to `package.json` files ([#1446](https://github.com/wxt-dev/wxt/pull/1446))
- Use PNPM 10's new catelog feature ([#1493](https://github.com/wxt-dev/wxt/pull/1493))
- Move production dependencies to PNPM 10 catelog ([#1494](https://github.com/wxt-dev/wxt/pull/1494))
- Stop using PNPM catalog ([#1644](https://github.com/wxt-dev/wxt/pull/1644))
- Upgrade `@aklinker1/check` to v2 ([#1647](https://github.com/wxt-dev/wxt/pull/1647))
- **deps:** Upgrade typescript from 5.8.3 to 5.9.2 ([a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643))
- Create script for managing dependency upgrades ([#1875](https://github.com/wxt-dev/wxt/pull/1875))
- **deps:** Upgrade all dev dependencies ([#1876](https://github.com/wxt-dev/wxt/pull/1876))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))
- Okinea Dev <hi@okinea.dev>

## v2.0.3

[compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v2.0.2...module-svelte-v2.0.3)

### ü©π Fixes

- Upgrade `vite-plugin-svelte` to support Vite 6 ([#1375](https://github.com/wxt-dev/wxt/pull/1375))

### ‚ù§Ô∏è Contributors

- Eli ([@lishaduck](http://github.com/lishaduck))

## v2.0.2

[compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v2.0.1...module-svelte-v2.0.2)

### ü©π Fixes

- Svelte production errors and warnings on resolve conditions ([#1283](https://github.com/wxt-dev/wxt/pull/1283))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v2.0.1

[compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v2.0.0...module-svelte-v2.0.1)

### ü©π Fixes

- Modify dev `vite.resolve.conditions` to support Vite 6 + Svelte 5 ([#1230](https://github.com/wxt-dev/wxt/pull/1230))

### üè° Chore

- **deps:** Upgrade all non-major dependencies ([#1164](https://github.com/wxt-dev/wxt/pull/1164))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v2.0.0

[‚ö†Ô∏è breaking changes](https://wxt.dev/guide/upgrade-guide/wxt) &bull; [compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v1.0.1...module-svelte-v2.0.0)

### üöÄ Enhancements

- ‚ö†Ô∏è  Svelte 5 support ([#1104](https://github.com/wxt-dev/wxt/pull/1104))

### üè° Chore

- Add  `oxlint` for linting ([#947](https://github.com/wxt-dev/wxt/pull/947))
- Upgrade all non-major dependencies ([#1040](https://github.com/wxt-dev/wxt/pull/1040))

#### ‚ö†Ô∏è Breaking Changes

Upgraded `@sveltejs/vite-plugin-svelte` from v3 to v4. This drops support for Svelte 4 and below. To continue using older versions of Svelte, use v1 of this module.

To upgrade to svelte 5, just install `svelte@5`.

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v1.0.1

[compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v1.0.0...module-svelte-v1.0.1)

### ü©π Fixes

- Upgrade wxt peer to >= 0.18.6 ([7edf1c8](https://github.com/wxt-dev/wxt/commit/7edf1c8))

### üìñ Documentation

- Fix link to unimport ([#826](https://github.com/wxt-dev/wxt/pull/826))

### üè° Chore

- Add changelog ([21e8ca0](https://github.com/wxt-dev/wxt/commit/21e8ca0))
- Extract build cache script to NPM package ([#737](https://github.com/wxt-dev/wxt/pull/737))
- **deps:** Upgrade non-major deps ([#778](https://github.com/wxt-dev/wxt/pull/778))
- **deps:** Bump all non-major dependencies ([#834](https://github.com/wxt-dev/wxt/pull/834))
- **deps:** Upgrade all dependencies ([#869](https://github.com/wxt-dev/wxt/pull/869))
- Add more metadata for npm ([#885](https://github.com/wxt-dev/wxt/pull/885))

### ‚ù§Ô∏è Contributors

- Florian Metz ([@Timeraa](http://github.com/Timeraa))
- Eetann ([@eetann](http://github.com/eetann))

## v1.0.0

Initial release üéâ

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v2.0.3...module-svelte-v2.0.4)
- [459f73fd](https://github.com/wxt-dev/wxt/commit/459f73fd)
- [#1446](https://github.com/wxt-dev/wxt/pull/1446)
- [#1493](https://github.com/wxt-dev/wxt/pull/1493)
- [#1494](https://github.com/wxt-dev/wxt/pull/1494)
- [#1644](https://github.com/wxt-dev/wxt/pull/1644)
- [#1647](https://github.com/wxt-dev/wxt/pull/1647)
- [a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643)
- [#1875](https://github.com/wxt-dev/wxt/pull/1875)
- [#1876](https://github.com/wxt-dev/wxt/pull/1876)
- [@aklinker1](https://github.com/aklinker1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v2.0.2...module-svelte-v2.0.3)
- [#1375](https://github.com/wxt-dev/wxt/pull/1375)
- [@lishaduck](http://github.com/lishaduck)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v2.0.1...module-svelte-v2.0.2)
- [#1283](https://github.com/wxt-dev/wxt/pull/1283)
- [@aklinker1](http://github.com/aklinker1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v2.0.0...module-svelte-v2.0.1)
- [#1230](https://github.com/wxt-dev/wxt/pull/1230)
- [#1164](https://github.com/wxt-dev/wxt/pull/1164)
- [‚ö†Ô∏è breaking changes](https://wxt.dev/guide/upgrade-guide/wxt)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v1.0.1...module-svelte-v2.0.0)
- [#1104](https://github.com/wxt-dev/wxt/pull/1104)
- [#947](https://github.com/wxt-dev/wxt/pull/947)
- [#1040](https://github.com/wxt-dev/wxt/pull/1040)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-svelte-v1.0.0...module-svelte-v1.0.1)
- [7edf1c8](https://github.com/wxt-dev/wxt/commit/7edf1c8)
- [#826](https://github.com/wxt-dev/wxt/pull/826)
- [21e8ca0](https://github.com/wxt-dev/wxt/commit/21e8ca0)
- [#737](https://github.com/wxt-dev/wxt/pull/737)
- [#778](https://github.com/wxt-dev/wxt/pull/778)
- [#834](https://github.com/wxt-dev/wxt/pull/834)
- [#869](https://github.com/wxt-dev/wxt/pull/869)
- [#885](https://github.com/wxt-dev/wxt/pull/885)
- [@Timeraa](http://github.com/Timeraa)
- [@eetann](http://github.com/eetann)

--- packages/module-vue/CHANGELOG.md ---
# Changelog

## v1.0.3

[compare changes](https://github.com/wxt-dev/wxt/compare/module-vue-v1.0.2...module-vue-v1.0.3)

### üè° Chore

- Add funding links to `package.json` files ([#1446](https://github.com/wxt-dev/wxt/pull/1446))
- Use PNPM 10's new catelog feature ([#1493](https://github.com/wxt-dev/wxt/pull/1493))
- Move production dependencies to PNPM 10 catelog ([#1494](https://github.com/wxt-dev/wxt/pull/1494))
- Stop using PNPM catalog ([#1644](https://github.com/wxt-dev/wxt/pull/1644))
- Upgrade `@aklinker1/check` to v2 ([#1647](https://github.com/wxt-dev/wxt/pull/1647))
- Wxt & @wxt-dev/module-vue support Vite 7 ([#1771](https://github.com/wxt-dev/wxt/pull/1771))
- **deps:** Upgrade typescript from 5.8.3 to 5.9.2 ([a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643))
- Create script for managing dependency upgrades ([#1875](https://github.com/wxt-dev/wxt/pull/1875))
- **deps:** Upgrade all dev dependencies ([#1876](https://github.com/wxt-dev/wxt/pull/1876))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))
- Ayu ([@ayu-exorcist](https://github.com/ayu-exorcist))
- Okinea Dev <hi@okinea.dev>

## v1.0.2

[compare changes](https://github.com/wxt-dev/wxt/compare/module-vue-v1.0.1...module-vue-v1.0.2)

### ü©π Fixes

- Use `config:resolved` hook to update config instead of `ready` ([#1178](https://github.com/wxt-dev/wxt/pull/1178))

### üè° Chore

- Add  `oxlint` for linting ([#947](https://github.com/wxt-dev/wxt/pull/947))
- **deps:** Bump @vitejs/plugin-vue from 5.1.1 to 5.1.4 ([#1020](https://github.com/wxt-dev/wxt/pull/1020))
- Upgrade all non-major dependencies ([#1040](https://github.com/wxt-dev/wxt/pull/1040))
- **deps:** Upgrade all non-major dependencies ([#1164](https://github.com/wxt-dev/wxt/pull/1164))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v1.0.1

[compare changes](https://github.com/wxt-dev/wxt/compare/module-vue-v1.0.0...module-vue-v1.0.1)

### ü©π Fixes

- Upgrade wxt peer to >= 0.18.6 ([7edf1c8](https://github.com/wxt-dev/wxt/commit/7edf1c8))

### üè° Chore

- Add changelog ([21e8ca0](https://github.com/wxt-dev/wxt/commit/21e8ca0))
- Extract build cache script to NPM package ([#737](https://github.com/wxt-dev/wxt/pull/737))
- **deps:** Upgrade non-major deps ([#778](https://github.com/wxt-dev/wxt/pull/778))
- **deps:** Bump all non-major dependencies ([#834](https://github.com/wxt-dev/wxt/pull/834))
- **deps:** Upgrade all dependencies ([#869](https://github.com/wxt-dev/wxt/pull/869))
- Add more metadata for npm ([#885](https://github.com/wxt-dev/wxt/pull/885))

### ‚ù§Ô∏è Contributors

- Florian Metz ([@Timeraa](http://github.com/Timeraa))

## v1.0.0

Initial release üéâ

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-vue-v1.0.2...module-vue-v1.0.3)
- [#1446](https://github.com/wxt-dev/wxt/pull/1446)
- [#1493](https://github.com/wxt-dev/wxt/pull/1493)
- [#1494](https://github.com/wxt-dev/wxt/pull/1494)
- [#1644](https://github.com/wxt-dev/wxt/pull/1644)
- [#1647](https://github.com/wxt-dev/wxt/pull/1647)
- [#1771](https://github.com/wxt-dev/wxt/pull/1771)
- [a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643)
- [#1875](https://github.com/wxt-dev/wxt/pull/1875)
- [#1876](https://github.com/wxt-dev/wxt/pull/1876)
- [@aklinker1](https://github.com/aklinker1)
- [@ayu-exorcist](https://github.com/ayu-exorcist)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-vue-v1.0.1...module-vue-v1.0.2)
- [#1178](https://github.com/wxt-dev/wxt/pull/1178)
- [#947](https://github.com/wxt-dev/wxt/pull/947)
- [#1020](https://github.com/wxt-dev/wxt/pull/1020)
- [#1040](https://github.com/wxt-dev/wxt/pull/1040)
- [#1164](https://github.com/wxt-dev/wxt/pull/1164)
- [@aklinker1](http://github.com/aklinker1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/module-vue-v1.0.0...module-vue-v1.0.1)
- [7edf1c8](https://github.com/wxt-dev/wxt/commit/7edf1c8)
- [21e8ca0](https://github.com/wxt-dev/wxt/commit/21e8ca0)
- [#737](https://github.com/wxt-dev/wxt/pull/737)
- [#778](https://github.com/wxt-dev/wxt/pull/778)
- [#834](https://github.com/wxt-dev/wxt/pull/834)
- [#869](https://github.com/wxt-dev/wxt/pull/869)
- [#885](https://github.com/wxt-dev/wxt/pull/885)
- [@Timeraa](http://github.com/Timeraa)

--- CONTRIBUTING.md ---
# Contributing

Everyone is welcome to contribute to **WXT**!

If you are changing the docs or fixing a bug, feel free to fork and open a PR.

If you want to add a new feature, please create an issue or discussion first so we can decide if the feature is inline with the vision for WXT.

## Conventional Commits

This project uses [Conventional Commit format](https://www.conventionalcommits.org/en/v1.0.0/) to automatically generate a changelog and better understand the changes in the project

Here are some examples of conventional commit messages:

- `feat: add new functionality`
- `fix: correct typos in code`
- `ci: add GitHub Actions for automated testing`

## Conventional PR Titles

The title of your pull request should follow the [conventional commit format](#conventional-commits). When a pull request is merged to the main branch, all changes are going to be squashed into a single commit. The message of this commit will be the title of the pull request. And for every release, the commit messages are used to generate the changelog.

## Setup

WXT uses `pnpm`, so make sure you have it installed.

```sh
corepack enable
```

Then, simply run the install command:

```sh
pnpm i
```

## Development

Here are some helpful commands:

```sh
# Build WXT package
cd packages/wxt
pnpm build
```

```sh
# Build WXT package, then build demo extension
cd packages/wxt-demo
pnpm build
```

```sh
# Build WXT package, then start the demo extension in dev mode
cd packages/wxt-demo
pnpm dev
```

```sh
# Run unit and E2E tests
pnpm test
```

```sh
# Start the docs website locally
pnpm docs:dev
```

## Profiling

```sh
# Build the latest version
pnpm --filter wxt build

# CD to the demo directory
cd packages/wxt-demo

# 1. Generate a flamechart with 0x
pnpm dlx 0x node_modules/wxt/bin/wxt.mjs build
# 2. Inspect the process with chrome @ chrome://inspect
pnpm node --inspect node_modules/wxt/bin/wxt.mjs build
```

## Updating Docs

Documentation is written with VitePress, and is located in the `docs/` directory.

The API reference is generated from JSDoc comments in the source code. If there's a typo or change you want to make in there, you'll need to update the source code instead of a file in the `docs/` directory.

## Testing

WXT has unit and E2E tests. When making a change or adding a feature, make sure to update the tests or add new ones, if they exist.

> If they don't exist, feel free to create them, but that's a lot for a one-time contributor. A maintainer might add them to your PR though.

To run tests for a specific file, add the filename at the end of the test command:

```sh
pnpm test manifest-contents
```

All test (unit and E2E) for all packages are ran together via [Vitest workspaces](https://vitest.dev/guide/#workspaces-support).

If you want to manually test a change, you can modify the demo project for your test, but please don't leave those changes committed once you open a PR.

## Templates

Each directory inside `templates/` is it's own standalone project. Simply `cd` into the directory you're updating, install dependencies with `npm` (NOT `pnpm`), and run the relevant commands

```sh
cd templates/vue
npm i
npm run dev
npm run build
```

Note that templates are hardcoded to a specific version of `wxt` from NPM, they do not use the local version. PR checks will test your PR's changes against the templates, but if you want to manually do it, update the package.json dependency:

```diff
  "devDependencies": {
    "typescript": "^5.3.2",
    "vite-plugin-solid": "^2.7.0",
-   "wxt": "^0.8.0"
+   "wxt": "../.."
  }
```

Then run `npm i` again.

### Adding Templates

To add a template, copy the vanilla template and give it a new name.

```sh
cp -r templates/vanilla templates/<new-template-name>
```

That's it. Once your template is merged, it will be available inside `wxt init` immediately. You don't need to release a new version of WXT to release a new template.

## Releasing Updates

Releases are done with GitHub actions:

- Use the [Release workflow](https://github.com/wxt-dev/wxt/actions/workflows/release.yml) to release a single package in the monorepo. This automatically detects the version change with conventional commits, builds and uploads the package to NPM, and creates a GitHub release.
- Use the [Sync Releases workflow](https://github.com/wxt-dev/wxt/actions/workflows/sync-releases.yml) to sync the GitHub releases with changes to the changelog. To change a release, update the `CHANGELOG.md` file and run the workflow. It will sync the releases of a single package in the monorepo.

## Upgrading Dependencies

WXT has custom rules around what dependencies can be upgraded. Use the `scripts/upgrade-deps.ts` script to upgrade dependencies and follow these rules.

```sh
pnpm tsx scripts/upgrade-deps.ts
```

To see all the options, run:

```sh
pnpm tsx scripts/upgrade-deps.ts --help
```

## Install Unreleased Versions

This repo uses <https://pkg.pr.new> to publish versions of all it's packages for almost every commit. You can install them via:

```sh
npm i https://pkg.pr.new/[package-name]@[ref]
```

Or use one of the shorthands:

```sh
# Install the latest build of `wxt` from a PR:
npm i https://pkg.pr.new/wxt@1283

# Install the latest build of `@wxt-dev/module-react` on the `main` branch
npm i https://pkg.pr.new/@wxt-dev/module-react@main

# Install `@wxt-dev/storage` from a specific commit:
npm i https://pkg.pr.new/@wxt-dev/module-react@426f907
```

## Blog Posts

Anyone is welcome to submit a blog post on <https://wxt.dev/blog>!

> [!NOTE]
> Before starting on a blog post, please message Aaron on Discord or start a discussion on GitHub to get permission to write about a topic, but most topics are welcome: Major version updates, tutorials, etc.

- **English only**: Blog posts should be written in English. Unfortunately, our maintainers don't have the bandwidth right now to translate our docs, let alone blog posts. Sorry üòì
- **AI**: Please only use AI to translate or proof-read your blog post. Don't generate the whole thing... We don't want to publish that.


## Links discovered
- [Conventional Commit format](https://www.conventionalcommits.org/en/v1.0.0/)
- [Vitest workspaces](https://vitest.dev/guide/#workspaces-support)
- [Release workflow](https://github.com/wxt-dev/wxt/actions/workflows/release.yml)
- [Sync Releases workflow](https://github.com/wxt-dev/wxt/actions/workflows/sync-releases.yml)

--- SECURITY.md ---
# Security Policy

While WXT is in prerelease, only the latest version will receive security updates. The latest version is:

<img alt="npm version" src="https://img.shields.io/npm/v/wxt?labelColor=black&color=%234fa048">

<!--
## Reporting a Vulnerability

Use this section to tell people how to report a vulnerability.

Tell them where to go, how often they can expect to get an update on a
reported vulnerability, what to expect if the vulnerability is accepted or
declined, etc.
-->


--- scripts/create-github-release.ts ---
import {
  createGithubRelease,
  loadChangelogConfig,
  parseChangelogMarkdown,
} from 'changelogen';
import fs from 'fs-extra';
import { grabPackageDetails } from './git';
import consola from 'consola';

const pkg = process.argv[2];
if (pkg == null) {
  throw Error(
    'Package name missing. Usage: tsx create-github-release.ts <package-name>',
  );
}

const { pkgName, prevTag, currentVersion, changelogPath } =
  await grabPackageDetails(pkg);
consola.info('Creating release for:', { pkg, pkgName, prevTag });

const { releases } = await fs
  .readFile(changelogPath, 'utf8')
  .then(parseChangelogMarkdown)
  .catch(() => ({ releases: [] }));

const config = await loadChangelogConfig(process.cwd());
config.tokens.github = process.env.GITHUB_TOKEN;
await createGithubRelease(config, {
  tag_name: prevTag,
  name: `${pkgName} v${currentVersion}`,
  body: releases[0].body,
  // @ts-expect-error: Not typed in changelogen, but present: https://docs.github.com/en/rest/releases/releases?apiVersion=2022-11-28#create-a-release
  make_latest: String(pkg === 'wxt'),
});
consola.success('Created release');


--- scripts/sync-releases.ts ---
import {
  getGithubReleaseByTag,
  loadChangelogConfig,
  parseChangelogMarkdown,
  updateGithubRelease,
} from 'changelogen';
import { getPkgTag, grabPackageDetails } from './git';
import fs from 'fs-extra';
import consola from 'consola';

const pkg = process.argv[2];
if (pkg == null) {
  throw Error(
    'Package name missing. Usage: tsx sync-releases.ts <package-name>',
  );
}

// Update
const { changelogPath, pkgName } = await grabPackageDetails(pkg);
const { releases } = await fs
  .readFile(changelogPath, 'utf8')
  .then(parseChangelogMarkdown)
  .catch(() => ({ releases: [] }));
const config = await loadChangelogConfig(process.cwd());
config.tokens.github = process.env.GITHUB_TOKEN;

// Update releases
for (const release of releases) {
  const tag = getPkgTag(pkg, release.version);
  try {
    const existing = await getGithubReleaseByTag(config, tag);
    if (existing.body !== release.body) {
      await updateGithubRelease(config, existing.id!, {
        tag_name: tag,
        name: `${pkgName} v${release.version}`,
        body: release.body,
      });
    }
    consola.success(`Synced \`${tag}\``);
  } catch (err) {
    consola.fail(`\`${tag}\``, err);
  }
}
consola.success('Done');


--- packages/analytics/CHANGELOG.md ---
# Changelog

## v0.5.1

[compare changes](https://github.com/wxt-dev/wxt/compare/analytics-v0.5.0...analytics-v0.5.1)

### üöÄ Enhancements

- Integrate latest measurement protocol changes ([#1767](https://github.com/wxt-dev/wxt/pull/1767))

### ü©π Fixes

- Use `@wxt-dev/browser` instead of `@types/chrome` ([#1645](https://github.com/wxt-dev/wxt/pull/1645))

### üè° Chore

- Stop using PNPM catalog ([#1644](https://github.com/wxt-dev/wxt/pull/1644))
- Upgrade `@aklinker1/check` to v2 ([#1647](https://github.com/wxt-dev/wxt/pull/1647))
- Change browser workspace dependency to `^` ([c7335add](https://github.com/wxt-dev/wxt/commit/c7335add))
- Fix auto-fixable `markdownlint` errors ([#1710](https://github.com/wxt-dev/wxt/pull/1710))
- **deps:** Upgrade typescript from 5.8.3 to 5.9.2 ([a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643))
- Create script for managing dependency upgrades ([#1875](https://github.com/wxt-dev/wxt/pull/1875))
- **deps:** Upgrade all dev dependencies ([#1876](https://github.com/wxt-dev/wxt/pull/1876))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))
- Tanishq-aggarwal ([@tanishq-aggarwal](https://github.com/tanishq-aggarwal))

## v0.5.0

[‚ö†Ô∏è breaking changes](https://wxt.dev/guide/resources/upgrading.html) &bull; [compare changes](https://github.com/wxt-dev/wxt/compare/analytics-v0.4.1...analytics-v0.5.0)

### ü©π Fixes

- ‚ö†Ô∏è  Update min WXT version to 0.20 ([2e8baf0](https://github.com/wxt-dev/wxt/commit/2e8baf0))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/analytics-v0.5.0...analytics-v0.5.1)
- [#1767](https://github.com/wxt-dev/wxt/pull/1767)
- [#1645](https://github.com/wxt-dev/wxt/pull/1645)
- [#1644](https://github.com/wxt-dev/wxt/pull/1644)
- [#1647](https://github.com/wxt-dev/wxt/pull/1647)
- [c7335add](https://github.com/wxt-dev/wxt/commit/c7335add)
- [#1710](https://github.com/wxt-dev/wxt/pull/1710)
- [a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643)
- [#1875](https://github.com/wxt-dev/wxt/pull/1875)
- [#1876](https://github.com/wxt-dev/wxt/pull/1876)
- [@aklinker1](https://github.com/aklinker1)
- [@tanishq-aggarwal](https://github.com/tanishq-aggarwal)
- [‚ö†Ô∏è breaking changes](https://wxt.dev/guide/resources/upgrading.html)
- [compare changes](https://github.com/wxt-dev/wxt/compare/analytics-v0.4.1...analytics-v0.5.0)
- [2e8baf0](https://github.com/wxt-dev/wxt/commit/2e8baf0)

--- packages/auto-icons/CHANGELOG.md ---
# Changelog

## v1.1.0

[compare changes](https://github.com/wxt-dev/wxt/compare/auto-icons-v1.0.2...auto-icons-v1.1.0)

### üöÄ Enhancements

- Add overlay option for dev icons ([#1825](https://github.com/wxt-dev/wxt/pull/1825))

### üìñ Documentation

- Rewrite and restructure the documentation website ([#933](https://github.com/wxt-dev/wxt/pull/933))
- Use full URLs in README so they work on the docs site ([d20793d5](https://github.com/wxt-dev/wxt/commit/d20793d5))
- Add SVG compatibility note ([#1830](https://github.com/wxt-dev/wxt/pull/1830))

### üè° Chore

- Add  `oxlint` for linting ([#947](https://github.com/wxt-dev/wxt/pull/947))
- **deps:** Bump sharp from 0.33.4 to 0.33.5 ([#959](https://github.com/wxt-dev/wxt/pull/959))
- Upgrade all non-major dependencies ([#1040](https://github.com/wxt-dev/wxt/pull/1040))
- **deps:** Upgrade all non-major dependencies ([#1164](https://github.com/wxt-dev/wxt/pull/1164))
- **deps:** Bump dev and non-breaking major dependencies ([#1167](https://github.com/wxt-dev/wxt/pull/1167))
- Use PNPM 10's new catelog feature ([#1493](https://github.com/wxt-dev/wxt/pull/1493))
- Move production dependencies to PNPM 10 catelog ([#1494](https://github.com/wxt-dev/wxt/pull/1494))
- Stop using PNPM catalog ([#1644](https://github.com/wxt-dev/wxt/pull/1644))
- Upgrade `@aklinker1/check` to v2 ([#1647](https://github.com/wxt-dev/wxt/pull/1647))

### ‚ù§Ô∏è Contributors

- Typed SIGTERM ([@typed-sigterm](https://github.com/typed-sigterm))
- Kuba ([@zizzfizzix](https://github.com/zizzfizzix))
- Aaron ([@aklinker1](https://github.com/aklinker1))

## v1.0.2

[compare changes](https://github.com/wxt-dev/wxt/compare/auto-icons-v1.0.1...auto-icons-v1.0.2)

### üìñ Documentation

- **auto-icons:** Fix configuration example typo ([#905](https://github.com/wxt-dev/wxt/pull/905))

### üè° Chore

- Add more metadata for npm ([#885](https://github.com/wxt-dev/wxt/pull/885))

### ‚ù§Ô∏è Contributors

- Uncenter ([@uncenter](http://github.com/uncenter))
- Florian Metz ([@Timeraa](http://github.com/Timeraa))

## v1.0.1

[compare changes](https://github.com/wxt-dev/wxt/compare/auto-icons-v1.0.0...auto-icons-v1.0.1)

### ü©π Fixes

- **auto-icons:** Path option ([#880](https://github.com/wxt-dev/wxt/pull/880))

### üè° Chore

- **deps:** Upgrade all dependencies ([#869](https://github.com/wxt-dev/wxt/pull/869))

### ‚ù§Ô∏è Contributors

- Florian Metz ([@Timeraa](http://github.com/Timeraa))

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/auto-icons-v1.0.2...auto-icons-v1.1.0)
- [#1825](https://github.com/wxt-dev/wxt/pull/1825)
- [#933](https://github.com/wxt-dev/wxt/pull/933)
- [d20793d5](https://github.com/wxt-dev/wxt/commit/d20793d5)
- [#1830](https://github.com/wxt-dev/wxt/pull/1830)
- [#947](https://github.com/wxt-dev/wxt/pull/947)
- [#959](https://github.com/wxt-dev/wxt/pull/959)
- [#1040](https://github.com/wxt-dev/wxt/pull/1040)
- [#1164](https://github.com/wxt-dev/wxt/pull/1164)
- [#1167](https://github.com/wxt-dev/wxt/pull/1167)
- [#1493](https://github.com/wxt-dev/wxt/pull/1493)
- [#1494](https://github.com/wxt-dev/wxt/pull/1494)
- [#1644](https://github.com/wxt-dev/wxt/pull/1644)
- [#1647](https://github.com/wxt-dev/wxt/pull/1647)
- [@typed-sigterm](https://github.com/typed-sigterm)
- [@zizzfizzix](https://github.com/zizzfizzix)
- [@aklinker1](https://github.com/aklinker1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/auto-icons-v1.0.1...auto-icons-v1.0.2)
- [#905](https://github.com/wxt-dev/wxt/pull/905)
- [#885](https://github.com/wxt-dev/wxt/pull/885)
- [@uncenter](http://github.com/uncenter)
- [@Timeraa](http://github.com/Timeraa)
- [compare changes](https://github.com/wxt-dev/wxt/compare/auto-icons-v1.0.0...auto-icons-v1.0.1)
- [#880](https://github.com/wxt-dev/wxt/pull/880)
- [#869](https://github.com/wxt-dev/wxt/pull/869)

--- packages/i18n/CHANGELOG.md ---
# Changelog

## v0.2.4

[compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.2.3...i18n-v0.2.4)

### ü©π Fixes

- Standardize locale codes and warn about unsupported ones ([#1617](https://github.com/wxt-dev/wxt/pull/1617))
- Use `@wxt-dev/browser` instead of `@types/chrome` ([#1645](https://github.com/wxt-dev/wxt/pull/1645))

### üìñ Documentation

- Add react language ID to README ([#1347](https://github.com/wxt-dev/wxt/pull/1347))
- Fix public path reference ([bcb20874](https://github.com/wxt-dev/wxt/commit/bcb20874))

### üè° Chore

- **deps:** Upgrade all non-major dependencies ([#1164](https://github.com/wxt-dev/wxt/pull/1164))
- **deps:** Bump dev and non-breaking major dependencies ([#1167](https://github.com/wxt-dev/wxt/pull/1167))
- Add funding links to `package.json` files ([#1446](https://github.com/wxt-dev/wxt/pull/1446))
- Use PNPM 10's new catelog feature ([#1493](https://github.com/wxt-dev/wxt/pull/1493))
- Move production dependencies to PNPM 10 catelog ([#1494](https://github.com/wxt-dev/wxt/pull/1494))
- Stop using PNPM catalog ([#1644](https://github.com/wxt-dev/wxt/pull/1644))
- Upgrade `@aklinker1/check` to v2 ([#1647](https://github.com/wxt-dev/wxt/pull/1647))
- Change browser workspace dependency to `^` ([c7335add](https://github.com/wxt-dev/wxt/commit/c7335add))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))
- Okinea Dev ([@okineadev](https://github.com/okineadev))
- Redwoodlid ([@redwoodlid](https://github.com/redwoodlid))

## v0.2.3

[compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.2.2...i18n-v0.2.3)

### ü©π Fixes

- Prevent app crashes from parse errors due to incomplete file saves ([#1114](https://github.com/wxt-dev/wxt/pull/1114))

### üìñ Documentation

- Cleanup typos and broken links ([bb5ea34](https://github.com/wxt-dev/wxt/commit/bb5ea34))

### ‚ù§Ô∏è Contributors

- Bread Grocery <breadgrocery@gmail.com>
- Aaron ([@aklinker1](http://github.com/aklinker1))

## v0.2.2

[compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.2.1...i18n-v0.2.2)

### üöÄ Enhancements

- Add support for configuring the `locales` directory ([#1109](https://github.com/wxt-dev/wxt/pull/1109))

### ‚ù§Ô∏è Contributors

- Bread Grocery <breadgrocery@gmail.com>

## v0.2.1

[compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.2.0...i18n-v0.2.1)

### ü©π Fixes

- Add missing "type" keyword to type export in generated file ([22b5294](https://github.com/wxt-dev/wxt/commit/22b5294))

### üìñ Documentation

- Rewrite and restructure the documentation website ([#933](https://github.com/wxt-dev/wxt/pull/933))

### üè° Chore

- Fix typo in internal function name ([21894d2](https://github.com/wxt-dev/wxt/commit/21894d2))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v0.2.0

[compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.1.1...i18n-v0.2.0)

### ü©π Fixes

- ‚ö†Ô∏è  Remove invalid options argument ([#1048](https://github.com/wxt-dev/wxt/pull/1048))

To upgrade, if you were passing a final `options` argument, remove it. If you used the third argument to escape `<` symbol... You'll need to do it yourself:

```diff
- i18n.t("someKey", ["sub1"], { escapeLt: true });
+ i18n.t("someKey", ["sub1"]).replaceAll("<", "&lt;");
```

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v0.1.1

[compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.1.0...i18n-v0.1.1)

### ü©π Fixes

- Friendly error messages for `null` and `undefined` values inside message files ([#1041](https://github.com/wxt-dev/wxt/pull/1041))

### üè° Chore

- Add  `oxlint` for linting ([#947](https://github.com/wxt-dev/wxt/pull/947))
- Upgrade all non-major dependencies ([#1040](https://github.com/wxt-dev/wxt/pull/1040))

### ‚ù§Ô∏è Contributors

- Windmillcode0 <shieldmousetower734@gmail.com>
- Aaron ([@aklinker1](http://github.com/aklinker1))

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.2.3...i18n-v0.2.4)
- [#1617](https://github.com/wxt-dev/wxt/pull/1617)
- [#1645](https://github.com/wxt-dev/wxt/pull/1645)
- [#1347](https://github.com/wxt-dev/wxt/pull/1347)
- [bcb20874](https://github.com/wxt-dev/wxt/commit/bcb20874)
- [#1164](https://github.com/wxt-dev/wxt/pull/1164)
- [#1167](https://github.com/wxt-dev/wxt/pull/1167)
- [#1446](https://github.com/wxt-dev/wxt/pull/1446)
- [#1493](https://github.com/wxt-dev/wxt/pull/1493)
- [#1494](https://github.com/wxt-dev/wxt/pull/1494)
- [#1644](https://github.com/wxt-dev/wxt/pull/1644)
- [#1647](https://github.com/wxt-dev/wxt/pull/1647)
- [c7335add](https://github.com/wxt-dev/wxt/commit/c7335add)
- [@aklinker1](https://github.com/aklinker1)
- [@okineadev](https://github.com/okineadev)
- [@redwoodlid](https://github.com/redwoodlid)
- [compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.2.2...i18n-v0.2.3)
- [#1114](https://github.com/wxt-dev/wxt/pull/1114)
- [bb5ea34](https://github.com/wxt-dev/wxt/commit/bb5ea34)
- [@aklinker1](http://github.com/aklinker1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.2.1...i18n-v0.2.2)
- [#1109](https://github.com/wxt-dev/wxt/pull/1109)
- [compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.2.0...i18n-v0.2.1)
- [22b5294](https://github.com/wxt-dev/wxt/commit/22b5294)
- [#933](https://github.com/wxt-dev/wxt/pull/933)
- [21894d2](https://github.com/wxt-dev/wxt/commit/21894d2)
- [compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.1.1...i18n-v0.2.0)
- [#1048](https://github.com/wxt-dev/wxt/pull/1048)
- [compare changes](https://github.com/wxt-dev/wxt/compare/i18n-v0.1.0...i18n-v0.1.1)
- [#1041](https://github.com/wxt-dev/wxt/pull/1041)
- [#947](https://github.com/wxt-dev/wxt/pull/947)
- [#1040](https://github.com/wxt-dev/wxt/pull/1040)

--- packages/runner/CHANGELOG.md ---
# Changelog

## v0.1.2

[compare changes](https://github.com/wxt-dev/wxt/compare/runner-v0.1.1...runner-v0.1.2)

### üöÄ Enhancements

- **config:** Add browser path for Zen via Homebrew ([#1813](https://github.com/wxt-dev/wxt/pull/1813))

### ü©π Fixes

- Improve Chrome path search ([#1823](https://github.com/wxt-dev/wxt/pull/1823))
- **paths:** Add browser paths for Arc & Dia on macos ([#1814](https://github.com/wxt-dev/wxt/pull/1814))

### üè° Chore

- Fix auto-fixable `markdownlint` errors ([#1710](https://github.com/wxt-dev/wxt/pull/1710))
- Manually fix markdownlint errors ([#1711](https://github.com/wxt-dev/wxt/pull/1711))
- **deps:** Upgrade oxlint from 0.16.8 to 1.14.0 ([a01928e0](https://github.com/wxt-dev/wxt/commit/a01928e0))
- **deps:** Upgrade typescript from 5.8.3 to 5.9.2 ([a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643))
- Create script for managing dependency upgrades ([#1875](https://github.com/wxt-dev/wxt/pull/1875))
- **deps:** Upgrade all dev dependencies ([#1876](https://github.com/wxt-dev/wxt/pull/1876))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))
- Sam Carlton ([@ThatGuySam](https://github.com/ThatGuySam))
- Alexander Kachkaev <alexander@kachkaev.ru>

## v0.1.1

[compare changes](https://github.com/wxt-dev/wxt/compare/runner-v0.1.0...runner-v0.1.1)

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/runner-v0.1.1...runner-v0.1.2)
- [#1813](https://github.com/wxt-dev/wxt/pull/1813)
- [#1823](https://github.com/wxt-dev/wxt/pull/1823)
- [#1814](https://github.com/wxt-dev/wxt/pull/1814)
- [#1710](https://github.com/wxt-dev/wxt/pull/1710)
- [#1711](https://github.com/wxt-dev/wxt/pull/1711)
- [a01928e0](https://github.com/wxt-dev/wxt/commit/a01928e0)
- [a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643)
- [#1875](https://github.com/wxt-dev/wxt/pull/1875)
- [#1876](https://github.com/wxt-dev/wxt/pull/1876)
- [@aklinker1](https://github.com/aklinker1)
- [@ThatGuySam](https://github.com/ThatGuySam)
- [compare changes](https://github.com/wxt-dev/wxt/compare/runner-v0.1.0...runner-v0.1.1)

--- packages/storage/CHANGELOG.md ---
# Changelog

## v1.2.6

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.5...storage-v1.2.6)

## v1.2.5

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.4...storage-v1.2.5)

## v1.2.4

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.3...storage-v1.2.4)

## v1.2.3

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.2...storage-v1.2.3)

## v1.2.2

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.1...storage-v1.2.2)

## v1.2.1

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.0...storage-v1.2.1)

## v1.2.0

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.1.1...storage-v1.2.0)

### üöÄ Enhancements

- **storage:** Add `onMigrationComplete` callback ([#1514](https://github.com/wxt-dev/wxt/pull/1514))
- **storage:** Add `debug` option to enable migration logs ([#1513](https://github.com/wxt-dev/wxt/pull/1513))

### ü©π Fixes

- Fix typescript error on `defineItem` fallback ([#1601](https://github.com/wxt-dev/wxt/pull/1601))
- Use `@wxt-dev/browser` instead of `@types/chrome` ([#1645](https://github.com/wxt-dev/wxt/pull/1645))

### üè° Chore

- **deps:** Update all dependencies ([#1568](https://github.com/wxt-dev/wxt/pull/1568))
- Stop using PNPM catalog ([#1644](https://github.com/wxt-dev/wxt/pull/1644))
- Upgrade `@aklinker1/check` to v2 ([#1647](https://github.com/wxt-dev/wxt/pull/1647))
- Change browser workspace dependency to `^` ([c7335add](https://github.com/wxt-dev/wxt/commit/c7335add))
- **deps:** Upgrade oxlint from 0.16.8 to 1.14.0 ([a01928e0](https://github.com/wxt-dev/wxt/commit/a01928e0))
- **deps:** Upgrade typescript from 5.8.3 to 5.9.2 ([a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643))
- Create script for managing dependency upgrades ([#1875](https://github.com/wxt-dev/wxt/pull/1875))
- **deps:** Upgrade all dev dependencies ([#1876](https://github.com/wxt-dev/wxt/pull/1876))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](https://github.com/aklinker1))
- Anh71me ([@iyume](https://github.com/iyume))
- Ergou <ma2808203259@hotmail.com>

## v1.1.1

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.1.0...storage-v1.1.1)

### ü©π Fixes

- Return early if no migration is needed ([#1502](https://github.com/wxt-dev/wxt/pull/1502))

### üè° Chore

- Add funding links to `package.json` files ([#1446](https://github.com/wxt-dev/wxt/pull/1446))
- Use PNPM 10's new catelog feature ([#1493](https://github.com/wxt-dev/wxt/pull/1493))
- Move production dependencies to PNPM 10 catelog ([#1494](https://github.com/wxt-dev/wxt/pull/1494))
- **deps:** Upgrade to Vite 6 and related dependencies ([#1496](https://github.com/wxt-dev/wxt/pull/1496))

### ‚ù§Ô∏è Contributors

- ergou ([@RayGuo-ergou](https://github.com/RayGuo-ergou))
- Aaron ([@aklinker1](http://github.com/aklinker1))
- Okinea Dev ([@okineadev](http://github.com/okineadev))

## v1.1.0

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.0.1...storage-v1.1.0)

### üöÄ Enhancements

- Add `storage.clear` ([#1368](https://github.com/wxt-dev/wxt/pull/1368))

### üìñ Documentation

- Update link ([654a54a](https://github.com/wxt-dev/wxt/commit/654a54a))

### ‚ù§Ô∏è Contributors

- Chengxi ([@chengxilo](http://github.com/chengxilo))
- Aaron ([@aklinker1](http://github.com/aklinker1))

## v1.0.1

[compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.0.0...storage-v1.0.1)

### ü©π Fixes

- Use `browser` for mv2 storage ([#1200](https://github.com/wxt-dev/wxt/pull/1200))

### üìñ Documentation

- Cleanup changelog ([f5b7f7e](https://github.com/wxt-dev/wxt/commit/f5b7f7e))

### üè° Chore

- Init changelog for storage package ([6fc227b](https://github.com/wxt-dev/wxt/commit/6fc227b))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))

## v1.0.0

Extracted `wxt/storage` into it's own package, `@wxt-dev/storage`!

It's still shipped inside WXT and accessible via `wxt/storage`, but now:

- Non-WXT projects can use the storage wrapper.
- We can make breaking changes to the API separately.

[Read the docs](https://wxt.dev/storage.html) for more details.

> This is apart of the v1.0 initiative for WXT.

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.5...storage-v1.2.6)
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.4...storage-v1.2.5)
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.3...storage-v1.2.4)
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.2...storage-v1.2.3)
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.1...storage-v1.2.2)
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.2.0...storage-v1.2.1)
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.1.1...storage-v1.2.0)
- [#1514](https://github.com/wxt-dev/wxt/pull/1514)
- [#1513](https://github.com/wxt-dev/wxt/pull/1513)
- [#1601](https://github.com/wxt-dev/wxt/pull/1601)
- [#1645](https://github.com/wxt-dev/wxt/pull/1645)
- [#1568](https://github.com/wxt-dev/wxt/pull/1568)
- [#1644](https://github.com/wxt-dev/wxt/pull/1644)
- [#1647](https://github.com/wxt-dev/wxt/pull/1647)
- [c7335add](https://github.com/wxt-dev/wxt/commit/c7335add)
- [a01928e0](https://github.com/wxt-dev/wxt/commit/a01928e0)
- [a6eef643](https://github.com/wxt-dev/wxt/commit/a6eef643)
- [#1875](https://github.com/wxt-dev/wxt/pull/1875)
- [#1876](https://github.com/wxt-dev/wxt/pull/1876)
- [@aklinker1](https://github.com/aklinker1)
- [@iyume](https://github.com/iyume)
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.1.0...storage-v1.1.1)
- [#1502](https://github.com/wxt-dev/wxt/pull/1502)
- [#1446](https://github.com/wxt-dev/wxt/pull/1446)
- [#1493](https://github.com/wxt-dev/wxt/pull/1493)
- [#1494](https://github.com/wxt-dev/wxt/pull/1494)
- [#1496](https://github.com/wxt-dev/wxt/pull/1496)
- [@RayGuo-ergou](https://github.com/RayGuo-ergou)
- [@aklinker1](http://github.com/aklinker1)
- [@okineadev](http://github.com/okineadev)
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.0.1...storage-v1.1.0)
- [#1368](https://github.com/wxt-dev/wxt/pull/1368)
- [654a54a](https://github.com/wxt-dev/wxt/commit/654a54a)
- [@chengxilo](http://github.com/chengxilo)
- [compare changes](https://github.com/wxt-dev/wxt/compare/storage-v1.0.0...storage-v1.0.1)
- [#1200](https://github.com/wxt-dev/wxt/pull/1200)
- [f5b7f7e](https://github.com/wxt-dev/wxt/commit/f5b7f7e)
- [6fc227b](https://github.com/wxt-dev/wxt/commit/6fc227b)
- [Read the docs](https://wxt.dev/storage.html)

--- packages/unocss/CHANGELOG.md ---
# Changelog

## v1.0.1

[compare changes](https://github.com/wxt-dev/wxt/compare/unocss-v1.0.0...unocss-v1.0.1)

### ü©π Fixes

- Respect `configOrPath` for dev server ([#1169](https://github.com/wxt-dev/wxt/pull/1169))

### üìñ Documentation

- Use full URLs in README so they work on the docs site ([d20793d](https://github.com/wxt-dev/wxt/commit/d20793d))
- Fix unocss readme ([#1329](https://github.com/wxt-dev/wxt/pull/1329))

### üè° Chore

- **deps:** Upgrade all non-major dependencies ([#1164](https://github.com/wxt-dev/wxt/pull/1164))
- **deps:** Bump dev and non-breaking major dependencies ([#1167](https://github.com/wxt-dev/wxt/pull/1167))
- Use PNPM 10's new catelog feature ([#1493](https://github.com/wxt-dev/wxt/pull/1493))
- Move production dependencies to PNPM 10 catelog ([#1494](https://github.com/wxt-dev/wxt/pull/1494))

### ‚ù§Ô∏è Contributors

- Aaron ([@aklinker1](http://github.com/aklinker1))
- Ntnyq ([@ntnyq](http://github.com/ntnyq))

## Links discovered
- [compare changes](https://github.com/wxt-dev/wxt/compare/unocss-v1.0.0...unocss-v1.0.1)
- [#1169](https://github.com/wxt-dev/wxt/pull/1169)
- [d20793d](https://github.com/wxt-dev/wxt/commit/d20793d)
- [#1329](https://github.com/wxt-dev/wxt/pull/1329)
- [#1164](https://github.com/wxt-dev/wxt/pull/1164)
- [#1167](https://github.com/wxt-dev/wxt/pull/1167)
- [#1493](https://github.com/wxt-dev/wxt/pull/1493)
- [#1494](https://github.com/wxt-dev/wxt/pull/1494)
- [@aklinker1](http://github.com/aklinker1)
- [@ntnyq](http://github.com/ntnyq)

--- CODE_OF_CONDUCT.md ---
# Contributor Covenant Code of Conduct

## Our Pledge

We as members, contributors, and leaders pledge to make participation in our
community a harassment-free experience for everyone, regardless of age, body
size, visible or invisible disability, ethnicity, sex characteristics, gender
identity and expression, level of experience, education, socio-economic status,
nationality, personal appearance, race, religion, or sexual identity
and orientation.

We pledge to act and interact in ways that contribute to an open, welcoming,
diverse, inclusive, and healthy community.

## Our Standards

Examples of behavior that contributes to a positive environment for our
community include:

- Demonstrating empathy and kindness toward other people
- Being respectful of differing opinions, viewpoints, and experiences
- Giving and gracefully accepting constructive feedback
- Accepting responsibility and apologizing to those affected by our mistakes,
  and learning from the experience
- Focusing on what is best not just for us as individuals, but for the
  overall community

Examples of unacceptable behavior include:

- The use of sexualized language or imagery, and sexual attention or
  advances of any kind
- Trolling, insulting or derogatory comments, and personal or political attacks
- Public or private harassment
- Publishing others' private information, such as a physical or email
  address, without their explicit permission
- Other conduct which could reasonably be considered inappropriate in a
  professional setting

## Enforcement Responsibilities

Community leaders are responsible for clarifying and enforcing our standards of
acceptable behavior and will take appropriate and fair corrective action in
response to any behavior that they deem inappropriate, threatening, offensive,
or harmful.

Community leaders have the right and responsibility to remove, edit, or reject
comments, commits, code, wiki edits, issues, and other contributions that are
not aligned to this Code of Conduct, and will communicate reasons for moderation
decisions when appropriate.

## Scope

This Code of Conduct applies within all community spaces, and also applies when
an individual is officially representing the community in public spaces.
Examples of representing our community include using an official e-mail address,
posting via an official social media account, or acting as an appointed
representative at an online or offline event.

## Enforcement

Instances of abusive, harassing, or otherwise unacceptable behavior may be
reported to the community leaders responsible for enforcement at
<aaronklinker1@gmail.com>.
All complaints will be reviewed and investigated promptly and fairly.

All community leaders are obligated to respect the privacy and security of the
reporter of any incident.

## Enforcement Guidelines

Community leaders will follow these Community Impact Guidelines in determining
the consequences for any action they deem in violation of this Code of Conduct:

### 1. Correction

**Community Impact**: Use of inappropriate language or other behavior deemed
unprofessional or unwelcome in the community.

**Consequence**: A private, written warning from community leaders, providing
clarity around the nature of the violation and an explanation of why the
behavior was inappropriate. A public apology may be requested.

### 2. Warning

**Community Impact**: A violation through a single incident or series
of actions.

**Consequence**: A warning with consequences for continued behavior. No
interaction with the people involved, including unsolicited interaction with
those enforcing the Code of Conduct, for a specified period of time. This
includes avoiding interactions in community spaces as well as external channels
like social media. Violating these terms may lead to a temporary or
permanent ban.

### 3. Temporary Ban

**Community Impact**: A serious violation of community standards, including
sustained inappropriate behavior.

**Consequence**: A temporary ban from any sort of interaction or public
communication with the community for a specified period of time. No public or
private interaction with the people involved, including unsolicited interaction
with those enforcing the Code of Conduct, is allowed during this period.
Violating these terms may lead to a permanent ban.

### 4. Permanent Ban

**Community Impact**: Demonstrating a pattern of violation of community
standards, including sustained inappropriate behavior, harassment of an
individual, or aggression toward or disparagement of classes of individuals.

**Consequence**: A permanent ban from any sort of public interaction within
the community.

## Attribution

This Code of Conduct is adapted from the [Contributor Covenant][homepage],
version 2.0, available at
<https://www.contributor-covenant.org/version/2/0/code_of_conduct.html>.

Community Impact Guidelines were inspired by [Mozilla's code of conduct
enforcement ladder](https://github.com/mozilla/diversity).

[homepage]: https://www.contributor-covenant.org

For answers to common questions about this code of conduct, see the FAQ at
<https://www.contributor-covenant.org/faq>. Translations are available at
<https://www.contributor-covenant.org/translations>.


## Links discovered
- [Mozilla's code of conduct
enforcement ladder](https://github.com/mozilla/diversity)

--- README.md ---
<div align="center">

# <img align="top" width="44" src="https://raw.githubusercontent.com/wxt-dev/wxt/HEAD/docs/public/hero-logo.svg" alt="WXT Logo"> WXT

[![npm version](https://img.shields.io/npm/v/wxt?labelColor=black&color=%234fa048)](https://www.npmjs.com/package/wxt)
[![downloads](https://img.shields.io/npm/dm/wxt?labelColor=black&color=%234fa048)](https://www.npmjs.com/package/wxt)
[![license | MIT](https://img.shields.io/npm/l/wxt?labelColor=black&color=%234fa048)](https://github.com/wxt-dev/wxt/blob/main/LICENSE)
[![coverage](https://img.shields.io/codecov/c/github/wxt-dev/wxt?labelColor=black&color=%234fa048)](https://codecov.io/github/wxt-dev/wxt)

Next-gen framework for developing web extensions.<br/>‚ö°<br/><q><i>It's like Nuxt, but for Web Extensions</i></q>

[Get Started](https://wxt.dev/guide/installation.html) ‚Ä¢
[Configuration](https://wxt.dev/api/config.html) ‚Ä¢
[Examples](https://wxt.dev/examples.html) ‚Ä¢
[Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/wxt/CHANGELOG.md) ‚Ä¢
[Discord](https://discord.gg/ZFsZqGery9)

</div>

![Example CLI Output](https://raw.githubusercontent.com/wxt-dev/wxt/HEAD/docs/assets/cli-output.png)

## Demo

<https://github.com/wxt-dev/wxt/assets/10101283/4d678939-1bdb-495c-9c36-3aa281d84c94>

## Quick Start

Bootstrap a new project:

```sh
# npm
npx wxt@latest init

# pnpm
pnpm dlx wxt@latest init

# bun
bunx wxt@latest init
```

Or see the [installation guide](https://wxt.dev/guide/installation.html) to get started with WXT.

## Features

- üåê Supports all browsers
- ‚úÖ Supports both MV2 and MV3
- ‚ö° Dev mode with HMR & fast reload
- üìÇ File based entrypoints
- üöî TypeScript
- ü¶æ Auto-imports
- ü§ñ Automated publishing
- üé® Frontend framework agnostic: works with Vue, React, Svelte, etc
- üì¶ [Module system](https://wxt.dev/guide/essentials/wxt-modules.html#overview) for reusing code between extensions
- üñçÔ∏è Quickly bootstrap a new project
- üìè Bundle analysis
- ‚¨áÔ∏è Download and bundle remote URL imports

## Sponsors

WXT is a [MIT-licensed](https://github.com/wxt-dev/wxt/blob/main/LICENSE) open source project with its ongoing development made possible entirely by the support of these awesome backers. If you'd like to join them, please consider [sponsoring WXT's development](https://github.com/sponsors/wxt-dev).

[![WXT Sponsors](https://raw.githubusercontent.com/wxt-dev/static/refs/heads/main/sponsorkit/sponsors.svg)](https://github.com/sponsors/wxt-dev)

## Contributors

Published under the [MIT](https://github.com/wxt-dev/wxt/blob/main/LICENSE) license.
Made by [@aklinker1](https://github.com/aklinker1) and [community](https://github.com/wxt-dev/wxt/graphs/contributors) üíõ

[![WXT contributors](https://contrib.rocks/image?repo=wxt-dev/wxt)](https://github.com/wxt-dev/wxt/graphs/contributors)


## Links discovered
- [![npm version](https://img.shields.io/npm/v/wxt?labelColor=black&color=%234fa048)
- [![downloads](https://img.shields.io/npm/dm/wxt?labelColor=black&color=%234fa048)
- [![license | MIT](https://img.shields.io/npm/l/wxt?labelColor=black&color=%234fa048)
- [![coverage](https://img.shields.io/codecov/c/github/wxt-dev/wxt?labelColor=black&color=%234fa048)
- [Get Started](https://wxt.dev/guide/installation.html)
- [Configuration](https://wxt.dev/api/config.html)
- [Examples](https://wxt.dev/examples.html)
- [Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/wxt/CHANGELOG.md)
- [Discord](https://discord.gg/ZFsZqGery9)
- [Example CLI Output](https://raw.githubusercontent.com/wxt-dev/wxt/HEAD/docs/assets/cli-output.png)
- [installation guide](https://wxt.dev/guide/installation.html)
- [Module system](https://wxt.dev/guide/essentials/wxt-modules.html#overview)
- [MIT-licensed](https://github.com/wxt-dev/wxt/blob/main/LICENSE)
- [sponsoring WXT's development](https://github.com/sponsors/wxt-dev)
- [![WXT Sponsors](https://raw.githubusercontent.com/wxt-dev/static/refs/heads/main/sponsorkit/sponsors.svg)
- [MIT](https://github.com/wxt-dev/wxt/blob/main/LICENSE)
- [@aklinker1](https://github.com/aklinker1)
- [community](https://github.com/wxt-dev/wxt/graphs/contributors)
- [![WXT contributors](https://contrib.rocks/image?repo=wxt-dev/wxt)

--- patches/markdown-it-footnote.md ---
Removed sub-ids from rendered links. When you link to the same footnote multiple times, the link would look like `[3.2]` instead of just `[3]`. Didn't like how that looked, so this patch removes that function.


--- .github/pull_request_template.md ---
### Overview

<!-- Describe your changes and why you made them -->

### Manual Testing

<!-- Describe how to test your changes to make sure the PR works as intended -->

### Related Issue

<!-- If this PR is related to an issue, please link it here -->

This PR closes #<issue_number>


--- .github/ISSUE_TEMPLATE/feature_request.md ---
---
name: Feature request
about: Suggest an idea for WXT
title: ''
type: Feature
assignees: ''
---

### Feature Request

Please describe your feature, be clear and concise. If you have a proposal for required type or API changes, list them here.

#### Is your feature request related to a bug?

If so, add a link here. If not, write "N/A"

### What are the alternatives?

A clear and concise description of any alternative solutions or features you've considered.

### Additional context

Add any other context or screenshots about the feature request here.


--- packages/analytics/README.md ---
# WXT Analytics

Report analytics events from your web extension extension.

## Supported Analytics Providers

- [Google Analytics 4 (Measurement Protocol)](#google-analytics-4-measurement-protocol)
- [Umami](#umami)

## Install With WXT

1. Install the NPM package:

   ```bash
   pnpm i @wxt-dev/analytics
   ```

2. In your `wxt.config.ts`, add the WXT module:

   ```ts
   export default defineConfig({
     modules: ['@wxt-dev/analytics/module'],
   });
   ```

3. In your `<srcDir>/app.config.ts`, add a provider:

   ```ts
   // <srcDir>/app.config.ts
   import { umami } from '@wxt-dev/analytics/providers/umami';

   export default defineAppConfig({
     analytics: {
       debug: true,
       providers: [
         // ...
       ],
     },
   });
   ```

4. Then use the `#analytics` module to report events:

   ```ts
   import { analytics } from '#analytics';

   await analytics.track('some-event');
   await analytics.page();
   await analytics.identify('some-user-id');
   analytics.autoTrack(document.body);
   ```

## Install Without WXT

1. Install the NPM package:

   ```bash
   pnpm i @wxt-dev/analytics
   ```

2. Create an `analytics` instance:

   ```ts
   // utils/analytics.ts
   import { createAnalytics } from '@wxt-dev/analytics';

   export const analytics = createAnalytics({
     providers: [
       // ...
     ],
   });
   ```

3. Import your analytics module in the background to initialize the message listener:

   ```ts
   // background.ts
   import './utils/analytics';
   ```

4. Then use your `analytics` instance to report events:

   ```ts
   import { analytics } from './utils/analytics';

   await analytics.track('some-event');
   await analytics.page();
   await analytics.identify('some-user-id');
   analytics.autoTrack(document.body);
   ```

## Providers

### Google Analytics 4 (Measurement Protocol)

The [Measurement Protocol](https://developers.google.com/analytics/devguides/collection/protocol/ga4) is an alternative to GTag for reporting events to Google Analytics for MV3 extensions.

> [Why use the Measurement Protocol instead of GTag?](https://developer.chrome.com/docs/extensions/how-to/integrate/google-analytics-4#measurement-protocol)

Follow [Google's documentation](https://developer.chrome.com/docs/extensions/how-to/integrate/google-analytics-4#setup-credentials) to obtain your credentials and put them in your `.env` file:

```dotenv
WXT_GA_API_SECRET='...'
```

Then add the `googleAnalytics4` provider to your `<srcDir>/app.config.ts` file:

```ts
import { googleAnalytics4 } from '@wxt-dev/analytics/providers/google-analytics-4';

export default defineAppConfig({
  analytics: {
    providers: [
      googleAnalytics4({
        apiSecret: import.meta.env.WXT_GA_API_SECRET,
        measurementId: '...',
      }),
    ],
  },
});
```

### Umami

[Umami](https://umami.is/) is a privacy-first, open source analytics platform.

In Umami's dashboard, create a new website. The website's name and domain can be anything. Obviously, an extension doesn't have a domain, so make one up if you don't have one.

After the website has been created, save the website ID and domain to your `.env` file:

```dotenv
WXT_UMAMI_WEBSITE_ID='...'
WXT_UMAMI_DOMAIN='...'
```

Then add the `umami` provider to your `<srcDir>/app.config.ts` file:

```ts
import { umami } from '@wxt-dev/analytics/providers/umami';

export default defineAppConfig({
  analytics: {
    providers: [
      umami({
        apiUrl: 'https://<your-umami-instance>/api',
        websiteId: import.meta.env.WXT_UMAMI_WEBSITE_ID,
        domain: import.meta.env.WXT_UMAMI_DOMAIN,
      }),
    ],
  },
});
```

### Custom Provider

If your analytics platform is not supported, you can provide an implementation of the `AnalyticsProvider` type in your `app.config.ts` instead:

```ts
import { defineAnalyticsProvider } from '@wxt-dev/analytics/client';

interface CustomAnalyticsOptions {
  // ...
}

const customAnalytics = defineAnalyticsProvider<CustomAnalyticsOptions>(
  (analytics, analyticsConfig, providerOptions) => {
    // ...
  },
);

export default defineAppConfig({
  analytics: {
    providers: [
      customAnalytics({
        // ...
      }),
    ],
  },
});
```

Example `AnalyticsProvider` implementations can be found at [`./modules/analytics/providers`](https://github.com/wxt-dev/wxt/tree/main/packages/analytics/modules/analytics/providers).

## User Properties

User ID and properties are stored in `browser.storage.local`. To change this or customize where these values are stored, use the `userId` and `userProperties` config:

```ts
// app.config.ts
import { storage } from 'wxt/storage';

export default defineAppConfig({
  analytics: {
    userId: storage.defineItem('local:custom-user-id-key'),
    userProperties: storage.defineItem('local:custom-user-properties-key'),
  },
});
```

To set the values at runtime, use the `identify` function:

```ts
await analytics.identify(userId, userProperties);
```

Alternatively, a common pattern is to use a random string as the user ID. This keeps the actual user information private, while still providing useful metrics in your analytics platform. This can be done very easily using WXT's storage API:

```ts
// app.config.ts
import { storage } from 'wxt/storage';

export default defineAppConfig({
  analytics: {
    userId: storage.defineItem('local:custom-user-id-key', {
      init: () => crypto.randomUUID(),
    }),
  },
});
```

If you aren't using `wxt` or `@wxt-dev/storage`, you can define custom implementations for the `userId` and `userProperties` config:

```ts
const analytics = createAnalytics({
  userId: {
    getValue: () => ...,
    setValue: (userId) => ...,
  }
})
```

## Auto-track UI events

Call `analytics.autoTrack(container)` to automatically track UI events so you don't have to manually add them. Currently it:

- Tracks clicks to elements inside the `container`

In your extension's HTML pages, you'll want to call it with `document`:

```ts
analytics.autoTrack(document);
```

But in content scripts, you usually only care about interactions with your own UI:

```ts
const ui = createIntegratedUi({
  // ...
  onMount(container) {
    analytics.autoTrack(container);
  },
});
ui.mount();
```

## Enabling/Disabling

By default, **analytics is disabled**. You can configure how the value is stored (and change the default value) via the `enabled` config:

```ts
// app.config.ts
import { storage } from 'wxt/storage';

export default defineAppConfig({
  analytics: {
    enabled: storage.defineItem('local:analytics-enabled', {
      fallback: true,
    }),
  },
});
```

At runtime, you can call `setEnabled` to change the value:

```ts
analytics.setEnabled(true);
```


## Links discovered
- [Measurement Protocol](https://developers.google.com/analytics/devguides/collection/protocol/ga4)
- [Why use the Measurement Protocol instead of GTag?](https://developer.chrome.com/docs/extensions/how-to/integrate/google-analytics-4#measurement-protocol)
- [Google's documentation](https://developer.chrome.com/docs/extensions/how-to/integrate/google-analytics-4#setup-credentials)
- [Umami](https://umami.is/)
- [`./modules/analytics/providers`](https://github.com/wxt-dev/wxt/tree/main/packages/analytics/modules/analytics/providers)

--- packages/auto-icons/README.md ---
# WXT Auto Icons

[Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/auto-icons/CHANGELOG.md)

## Features

- Generate extension icons with the correct sizes
- Make the icon greyscale or include a visible overlay during development
- SVG is supported

## Usage

Install the package:

```sh
npm i --save-dev @wxt-dev/auto-icons
pnpm i -D @wxt-dev/auto-icons
yarn add --dev @wxt-dev/auto-icons
bun i -D @wxt-dev/auto-icons
```

Add the module to `wxt.config.ts`:

```ts
export default defineConfig({
  modules: ['@wxt-dev/auto-icons'],
});
```

And finally, save the base icon to `<srcDir>/assets/icon.png`.

## Configuration

The module can be configured via the `autoIcons` config:

```ts
export default defineConfig({
  modules: ['@wxt-dev/auto-icons'],
  autoIcons: {
    // ...
  },
});
```

Options have JSDocs available in your editor, or you can read them in the source code: [`AutoIconsOptions`](https://github.com/wxt-dev/wxt/blob/main/packages/auto-icons/src/index.ts).


## Links discovered
- [Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/auto-icons/CHANGELOG.md)
- [`AutoIconsOptions`](https://github.com/wxt-dev/wxt/blob/main/packages/auto-icons/src/index.ts)

--- packages/browser/README.md ---
# `@wxt-dev/browser`

Provides access to the `browser` or `chrome` extension APIs and related types.

```ts
import { browser, Browser } from '@wxt-dev/browser';
// Or if you're using WXT:
// import { browser, Browser } from 'wxt/browser';

console.log(browser.runtime.id);

const onMessage = (message: any, sender: Browser.runtime.MessageSender) => {
  console.log(message);
};
browser.runtime.onMessage.addListener(onMessage);
```

## Installation

If you're using WXT, this package is already installed, you don't need to install it manually.

Otherwise, you can install the package from NPM:

```sh
pnpm install @wxt-dev/browser
```

## Upgrading to Latest Types

Just run:

```sh
pnpm upgrade @wxt-dev/browser
```

This should update both the manually installed version and the subdependency inside WXT.

## Contributing

### Code Generation

Types are generated based on the `@types/chrome` package, and with modifications specifically for use with WXT.

### Updating `@types/chrome` Version

You don't need to do anything! [A github action](https://github.com/wxt-dev/wxt/actions/workflows/update-browser-package.yml) is ran every day to generate and publish this package using the latest `@types/chrome` version.

You can manually generate types via:

```sh
pnpm gen
```

### Why not just use `@types/chrome`?

With WXT, you must import the `browser` variable to use the extension APIs. The way `@types/chrome` is implemented forces you to define a global `chrome` variable. With WXT, this isn't acceptable, we don't want to pollute the global (type) scope or introduce conflicts with auto-imports.

Additionally, WXT overrides types to provide additional type safety for some APIs, like `browser.runtime.getURL` and `browser.i18n.getMessage`. With `@types/chrome`'s nested namespace approach, it's not possible to override the types for those functions.


## Links discovered
- [A github action](https://github.com/wxt-dev/wxt/actions/workflows/update-browser-package.yml)

--- packages/i18n/README.md ---
# `@wxt-dev/i18n`

[Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/i18n/CHANGELOG.md)

`@wxt-dev/i18n` is a simple, type-safe wrapper around the `browser.i18n` APIs. It provides several benefits over the standard API:

1. Simple messages file format
2. Plural form support
3. Integrates with the [I18n Ally VS Code extension](#vs-code)

It also provides several benefits over other non-web extension specific i18n packages:

1. Does not bundle localization files into every entrypoint
2. Don't need to fetch the localization files asynchronously
3. Can localize text in manifest and CSS files

However, it does have one major downside:

1. Like the `browser.i18n` API, to change the language, users must change the browser's language

> [!IMPORTANT]
> You don't have to use `wxt` to use this package - it will work in any bundler setup. See [Installation without WXT](#without-wxt) for more details.

## Installation

### With WXT

1. Install `@wxt-dev/i18n` via your package manager:

   ```sh
   pnpm i @wxt-dev/i18n
   ```

2. Add the WXT module to your `wxt.config.ts` file and setup a default locale:

   ```ts
   export default defineConfig({
     modules: ['@wxt-dev/i18n/module'],
     manifest: {
       default_locale: 'en',
     },
   });
   ```

3. Create a localization file at `<srcDir>/locales/<default_locale>.yml` or move your existing localization files there.

   ```yml
   # <srcDir>/locales/en.yml
   helloWorld: Hello world!
   ```

   > `@wxt-dev/i18n` supports the standard messages format, so if you already have localization files at `<rootDir>/public/_locale/<lang>/messages.json`, you don't need to convert them to YAML or refactor them - just move them to `<srcDir>/locales/<lang>.json` and they'll just work out of the box!

4. To get a translation, use the auto-imported `i18n` object or import it manually:

   ```ts
   import { i18n } from '#i18n';

   i18n.t('helloWorld'); // "Hello world!"
   ```

And you're done! Using WXT, you get type-safety out of the box.

### Without WXT

1. Install `@wxt-dev/i18n` via your package manager:

   ```sh
   pnpm i @wxt-dev/i18n
   ```

2. Create a messages file at `_locales/<lang>/messages.json` or move your existing translations there:

   ```json
   {
     "helloWorld": {
       "message": "Hello world!"
     }
   }
   ```

   > [!NOTE]
   > For the best DX, you should to integrate `@wxt-dev/i18n` into your build process. This enables:
   >
   > 1. Plural forms
   > 2. Simple messages file format
   > 3. Type safety
   >
   > See [Build Integrations](#build-integrations) to set it up.

3. Create the `i18n` object, export it, and use it wherever you want!

   ```ts
   import { createI18n } from '@wxt-dev/i18n';

   export const i18n = createI18n();

   i18n.t('helloWorld'); // "Hello world!";
   ```

## Configuration

The module can be configured via the `i18n` config:

```ts
export default defineConfig({
  modules: ['@wxt-dev/i18n'],
  i18n: {
    // ...
  },
});
```

Options have JSDocs available in your editor, or you can read them in the source code: [`I18nOptions`](https://github.com/wxt-dev/wxt/blob/main/packages/i18n/src/module.ts).

## Messages File Format

> [!DANGER]
> You can only use the file format discussed on this page if you have [integrated `@wxt-dev/i18n` into your build process](#build-integrations). If you have not integrated it into your build process, you must use JSON files in the `_locales` directory, like a normal web extension.

### File Extensions

You can define your messages in several different file types:

- `.yml`
- `.yaml`
- `.json`
- `.jsonc`
- `.json5`
- `.toml`

### Nested Keys

You can have translations at the top level or nest them into groups:

```yml
ok: OK
cancel: Cancel
welcome:
  title: Welcome to XYZ
dialogs:
  confirmation:
    title: 'Are you sure?'
```

To access a nested key, use `.`:

```ts
i18n.t('ok'); // "OK"
i18n.t('cancel'); // "Cancel"
i18n.t('welcome.title'); // "Welcome to XYZ"
i18n.t('dialogs.confirmation.title'); // "Are you sure?"
```

### Substitutions

Because `@wxt-dev/i18n` is based on `browser.i18n`, you define substitutions the same way, with `$1`-`$9`:

```yml
hello: Hello $1!
order: Thanks for ordering your $1
```

#### Escapting `$`

To escape the dollar sign, put another `$` in front of it:

```yml
dollars: $$$1
```

```ts
i18n.t('dollars', ['1.00']); // "$1.00"
```

### Plural Forms

> [!WARNING]
> Plural support languages like Arabic, that have different forms for "few" or "many", is not supported right now. Feel free to open a PR if you are interested in this!

To get a different translation based on a count:

```yml
items:
  1: 1 item
  n: $1 items
```

Then you pass in the count as the second argument to `i18n.t`:

```ts
i18n.t('items', 0); // "0 items"
i18n.t('items', 1); // "1 item"
i18n.t('items', 2); // "2 items"
```

To add a custom translation for 0 items:

```yml
items:
  0: No items
  1: 1 item
  n: $1 items
```

```ts
i18n.t('items', 0); // "No items"
i18n.t('items', 1); // "1 item"
i18n.t('items', 2); // "2 items"
```

If you need to pass a custom substitution for `$1` instead of the count, just add the substitution:

```yml
items:
  0: No items
  1: $1 item
  n: $1 items
```

```ts
i18n.t('items', 0, ['Zero']); // "No items"
i18n.t('items', 1, ['One']); // "One item"
i18n.t('items', 2, ['Multiple']); // "Multiple items"
```

### Verbose Keys

`@wxt-dev/i18n` is compatible with the message format used by [`browser.i18n`](https://developer.chrome.com/docs/extensions/reference/api/i18n).

> [!IMPORTANT]
> This means if you're migrating to `@wxt-dev/i18n` and you're already using the verbose format, you don't have to change anything!

A key is treated as "verbose" when it is:

1. At the top level (not nested)
2. Only contains the following properties: `message`, `description` and/or `placeholder`

```json
{
  "appName": {
    "message": "GitHub - Better Line Counts",
    "description": "The app's name, should not be translated"
  },
  "ok": "OK",
  "deleteConfirmation": {
    "title": "Delete XYZ?",
    "message": "You cannot undo this action once taken."
  }
}
```

In this example, only `appName` is considered verbose. `deleteConfirmation` is not verbose because it contains the additional property `title`.

```ts
i18n.t('appName'); // ‚úÖ "GitHub - Better Line Counts"
i18n.t('appName.message'); // ‚ùå
i18n.t('ok'); // ‚úÖ "OK"
i18n.t('deleteConfirmation'); // ‚ùå
i18n.t('deleteConfirmation.title'); // ‚úÖ "Delete XYZ?"
i18n.t('deleteConfirmation.message'); // ‚úÖ "You cannot undo this action once taken."
```

If this is confusing, don't worry! With type-safety, you'll get a type error if you do it wrong. If type-safety is disabled, you'll get a runtime warning in the devtools console.

> [!WARNING]
> Using the verbose format is not recommended. I have yet to see a translation service and software that supports this format out of the box. Stick with the simple format when you can.

## Build Integrations

To use the custom messages file format, you'll need to use `@wxt-dev/i18n/build` to transform the custom format to the one expected by browsers.

### WXT

See [Installation with WXT](#with-wxt).

But TLDR, all you need is:

```ts
// wxt.config.ts
export default defineConfig({
  modules: ['@wxt-dev/i18n/module'],
});
```

Types are generated whenever you run `wxt prepare` or another build command.

### Custom

If you're not using WXT, you'll have to pre-process the localization files yourself. Here's a basic script to generate the `_locales/.../messages.json` and `wxt-i18n-structure.d.ts` files:

```ts
// build-i18n.js
import {
  parseMessagesFile,
  generateChromeMessagesFile,
  generateTypeFile,
} from '@wxt-dev/i18n/build';

// Read your localization files
const messages = {
  en: await parseMessagesFile('path/locales/en.yml'),
  de: await parseMessagesFile('path/locales/de.yml'),
  // ...
};

// Generate JSON files for the extension
await generateChromeMessagesFile('dist/_locales/en/messages.json', messages.en);
await generateChromeMessagesFile('dist/_locales/de/messages.json', messages.de);
// ...

// Generate a types file based on your default_locale
await generateTypeFile('wxt-i18n-structure.d.ts', messages.en);
```

Then run the script:

```sh
node generate-i18n.js
```

If your build tool has a dev mode, you'll also want to rerun the script whenever you change a localization file.

#### Type Safety

Once you've generated `wxt-i18n-structure.d.ts` (see the [Custom](#custom) section), you can use it to pass the generated type into `createI18n`:

```ts
import type { WxtI18nStructure } from './wxt-i18n-structure';

export const i18n = createI18n<WxtI18nStructure>();
```

And just like that, you have type safety!

## Editor Support

For better DX, you can configure your editor with plugins and extensions.

### VS Code

The [I18n Ally Extension](https://marketplace.visualstudio.com/items?itemName=lokalise.i18n-ally) adds several features to VS Code:

- Go to translation definition
- Inline previews of text
- Hover to see other translations

You'll need to configure it the extension so it knows where your localization files are and what function represents getting a translation:

`.vscode/i18n-ally-custom-framework.yml`:

```yml
# An array of strings which contain Language Ids defined by VS Code
# You can check available language ids here: https://code.visualstudio.com/docs/languages/identifiers
languageIds:
  - typescript
  - typescriptreact

# Look for t("...")
usageMatchRegex:
  - "[^\\w\\d]t\\(['\"`]({key})['\"`]"

# Disable other built-in i18n ally frameworks
monopoly: true
```

`.vscode/settings.json`:

```json
{
  "i18n-ally.localesPaths": ["src/locales"],
  "i18n-ally.keystyle": "nested"
}
```

### Zed

As of time of writing, Aug 18, 2024, no extensions exist for Zed to add I18n support.

### Jetbrains IDEs

Install the [I18n Ally plugin](https://plugins.jetbrains.com/plugin/17212-i18n-ally). The docs are limited around their Jetbrains support, but you'll probably need to configure the plugin similar to [VS Code](#vs-code)... Not sure where the files go though.

Please open a PR if you figure it out!


## Links discovered
- [Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/i18n/CHANGELOG.md)
- [`I18nOptions`](https://github.com/wxt-dev/wxt/blob/main/packages/i18n/src/module.ts)
- [`browser.i18n`](https://developer.chrome.com/docs/extensions/reference/api/i18n)
- [I18n Ally Extension](https://marketplace.visualstudio.com/items?itemName=lokalise.i18n-ally)
- ['\"`](https://github.com/wxt-dev/wxt/blob/main/packages/i18n/{key}.md)
- [I18n Ally plugin](https://plugins.jetbrains.com/plugin/17212-i18n-ally)

--- packages/runner/README.md ---
# `@wxt-dev/runner`

Programmatically open a browser and install a web extension from a local directory.

## Usage

### With WXT

> [!WARNING]
> This package is intended to replace [`web-ext`](https://github.com/mozilla/web-ext) in the future, but it is not ready at the moment. Once it's ready for testing in WXT, more details will be added here.

```ts
// ~/wxt.runner.config.ts OR <project>/wxt.runner.config.ts
import { defineRunnerConfig } from 'wxt';

export default defineRunnerConfig({
  // Options go here
});
```

### JS API

```ts
import { run } from '@wxt-dev/runner';

await run({
  extensionDir: '/path/to/extension',
  // Other options...
});
```

## Features

- Supports all Chromium and Firefox based browsers
- Zero dependencies
- One-line config for persisting data between launches

## Requirements

`@wxt-dev/runner` requires a JS runtime that implements the `WebSocket` standard:

| JS Runtime | Version     |
| ---------- | ----------- |
| NodeJS     | &ge; 22.4.0 |
| Bun        | &ge; 1.2.0  |

You also need to have a specific version of the browser installed that supports the latest features so extensions can be loaded:

| Browser  | Version  |
| -------- | -------- |
| Chromium | Unknown  |
| Firefox  | &ge; 139 |

## TODO

- [x] Provide install functions to allow hooking into already running instances of Chrome/Firefox
  - [ ] Try to setup E2E tests on Firefox with Puppeteer using this approach
  - [ ] Try to setup E2E tests on Chrome with Puppeteer using this approach

## Options

### Target

To open a specific browser, use the `target` option:

```ts
import { run } from '@wxt-dev/runner';

await run({
  extensionDir: 'path/to/extension',
  target: 'firefox',
});
```

Defaults to opening `chrome`. You may see type-hints for a list of popular browsers, but you can enter any string you want here.

### Data Persistence

Browsers block you from using your normal browser profiles when using the [BiDi and CDP protocols](#implementation-details) for security reasons.

To change how the new profile's data is saved between sessions, use the `dataPersistence` option:

```ts
import { run } from '@wxt-dev/runner';

await run({
  dataPersistence: 'user',
});
```

- `"none"` (default): Use a brand new browser profile every time the browser is opened (stored in the system's tmp directory)
- `"project"`: Create a new profile that is re-used for your current directory (by default stored in `.wxt-runner` or `.wxt/runner` for WXT projects)
- `"user"`: Create a new profile that is re-used for all projects using `@wxt-dev/runner` (by default stored in `$HOME/.wxt-runner`)

These presets configure different flags for different operating systems when spawning the browser process.

If you want to customize your data persistence beyond what these presets define, [you can override the browser flags yourself](#arguments) to configure persistence.

### Browser Binaries

`@wxt-dev/runner` will look for browser binaries/executables in [a hard-coded list of paths](https://github.com/wxt-dev/wxt/blob/main/packages/runner/src/browser-paths.ts). It does not and will not explore your filesystem/`$PATH` to find where the browser is installed. That means there are times you will need to specify the path to a browser's binary on your system:

- Your browser's path is non-standard or missing from the hard-coded list.
- You want to use a specific version/release of the browser.
- You're using a less popular browser and `@wxt-dev/runner` doesn't have hard-coded paths for it.

To do this, use the `browserBinaries` option and set the path to the browser's binary:

```ts
import { run } from '@wxt-dev/runner';

await run({
  extensionDir: 'path/to/extension',
  browserBinaries: {
    chrome: '/path/to/chrome',
    firefox: '/path/to/firefox',
  },
});
```

### Arguments

To pass custom arguments to the browser on startup, use the `chromiumArgs` or `firefoxArgs` options:

```ts
import { run } from '@wxt-dev/runner';

await run({
  extensionDir: 'path/to/extension',
  chromiumArgs: ['--window-size=1920,1080'],
  firefoxArgs: ['--window-size', '1920,1080'],
});
```

### Start URLs

To open specific URLs in tabs by default, you also use the `chromiumArgs` or `firefoxArgs` options.

Any URLs passed as a CLI argument will be opened in the browser when it starts.

```ts
import { run } from '@wxt-dev/runner';

await run({
  extensionDir: 'path/to/extension',
  chromiumArgs: ['https://example.com'],
  firefoxArgs: ['https://example.com'],
});
```

### Debugging

To see debug logs, set the `DEBUG` env var to `"@wxt-dev/runner"`. This will print the resolved config, commands used to spawn the browser, any messages sent on the browser's communication protocol, and more for you to debug.

<details>
<summary>Example debug output</summary>

```plaintext
@wxt-dev/runner:options User options: { extensionDir: 'demo-extension', target: undefined }
@wxt-dev/runner:options Resolved options: {
  browserBinary: '/usr/bin/chromium',
  chromiumArgs: [
    '--disable-features=Translate,OptimizationHints,MediaRouter,DialMediaRouteProvider,CalculateNativeWinOcclusion,InterestFeedContentSuggestions,CertificateTransparencyComponentUpdater,AutofillServerCommunication,PrivacySandboxSettings4',
    '--disable-component-extensions-with-background-pages',
    '--disable-background-networking',
    '--disable-component-update',
    '--disable-client-side-phishing-detection',
    '--disable-sync',
    '--metrics-recording-only',
    '--disable-default-apps',
    '--no-default-browser-check',
    '--no-first-run',
    '--disable-background-timer-throttling',
    '--disable-ipc-flooding-protection',
    '--password-store=basic',
    '--use-mock-keychain',
    '--force-fieldtrials=*BackgroundTracing/default/',
    '--disable-hang-monitor',
    '--disable-prompt-on-repost',
    '--disable-domain-reliability',
    '--propagate-iph-for-testing',
    '--remote-debugging-port=0',
    '--remote-debugging-pipe',
    '--user-data-dir=/tmp/wxt-runner-pWXLO1',
    '--enable-unsafe-extension-debugging'
  ],
  dataDir: '/tmp/wxt-runner-pWXLO1',
  dataPersistence: 'none',
  chromiumRemoteDebuggingPort: 0,
  extensionDir: '/home/aklinker1/Development/github.com/wxt-dev/wxt/packages/runner/demo-extension',
  firefoxArgs: [
    '--new-instance',
    '--no-remote',
    '--profile',
    '/tmp/wxt-runner-pWXLO1',
    '--remote-debugging-port=0',
    'about:debugging#/runtime/this-firefox'
  ],
  firefoxRemoteDebuggingPort: 0,
  target: 'chrome'
}
@wxt-dev/runner:chrome:stderr DevTools listening on ws://127.0.0.1:38397/devtools/browser/93dc4de5-64cb-4e0b-a9d3-7549527015f0
@wxt-dev/runner:cdp Sending command: {
  id: 1,
  method: 'Extensions.loadUnpacked',
  params: {
    path: '/home/aklinker1/Development/github.com/wxt-dev/wxt/packages/runner/demo-extension'
  }
}
@wxt-dev/runner:cdp Received response: { id: 1, result: { id: 'hckhakegfgenefhikdcfkaaonnclljmf' } }
```

</details>

## Implementation Details

All this package does is spawn a child process to open the browser with some default flags before using remote protocols to install the extension.

### Firefox

We use the new [WebDriver BiDi protocol](https://www.w3.org/TR/webdriver-bidi) to install the extension. This just involves connecting to a web socket and sending a few messages.

### Chrome

We use the [CDP](https://chromedevtools.github.io/devtools-protocol/) with `--remote-debugging-pipe` and `--enable-unsafe-extension-debugging` to install the extension by sending a message via IO pipes 3 and 4.

We don't use Webdriver Bidi because it's not built into Chrome yet. It requires us instantiating a separate child process for `chromedriver`. This is slower and more difficult than just using the CDP built into Chrome.


## Links discovered
- [`web-ext`](https://github.com/mozilla/web-ext)
- [a hard-coded list of paths](https://github.com/wxt-dev/wxt/blob/main/packages/runner/src/browser-paths.ts)
- [WebDriver BiDi protocol](https://www.w3.org/TR/webdriver-bidi)
- [CDP](https://chromedevtools.github.io/devtools-protocol/)

--- packages/storage/README.md ---
# WXT Storage

[Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/storage/CHANGELOG.md) &bull; [Docs](https://wxt.dev/storage.html)

A simplified wrapper around the extension storage APIs.

## Installation

### With WXT

This module is built-in to WXT, so you don't need to install anything.

```ts
import { storage } from 'wxt/storage';
```

If you use auto-imports, `storage` is auto-imported for you, so you don't even need to import it!

### Without WXT

Install the NPM package:

```sh
npm i @wxt-dev/storage
pnpm add @wxt-dev/storage
yarn add @wxt-dev/storage
bun add @wxt-dev/storage
```

```ts
import { storage } from '@wxt-dev/storage';
```

## Usage

Read full docs on the [documentation website](https://wxt.dev/storage.html).


## Links discovered
- [Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/storage/CHANGELOG.md)
- [Docs](https://wxt.dev/storage.html)
- [documentation website](https://wxt.dev/storage.html)

--- packages/unocss/README.md ---
# WXT UnoCSS

Use UnoCSS in your WXT extension!

## Usage

Install the package:

```sh
npm i --save-dev @wxt-dev/unocss unocss
pnpm i -D @wxt-dev/unocss unocss
yarn add --dev @wxt-dev/unocss unocss
bun i -D @wxt-dev/unocss unocss
```

Add the module to `wxt.config.ts`:

```ts
export default defineConfig({
  modules: ['@wxt-dev/unocss'],
});
```

Now in your entrypoint, import UnoCSS:

```ts
import 'virtual:uno.css';
```

> [!IMPORTANT]
> While in dev mode, you may see a warning about `uno.css` not being found. This is because in development, we don't know which files should be injected with UnoCSS styles. The warning can be safely ignored as the styles will be properly applied during the build process.

## Configuration

The module can be configured via the `unocss` config:

```ts
export default defineConfig({
  modules: ['@wxt-dev/unocss'],
  unocss: {
    // Exclude unocss from running for the background
    excludeEntrypoints: ['background'],
  },
});
```

Options have JSDocs available in your editor, or you can read them in the source code: [`UnoCSSOptions`](https://github.com/wxt-dev/wxt/blob/main/packages/unocss/src/index.ts).


## Links discovered
- [`UnoCSSOptions`](https://github.com/wxt-dev/wxt/blob/main/packages/unocss/src/index.ts)

--- packages/webextension-polyfill/README.md ---
# `@wxt-dev/webextension-polyfill`

Configures `wxt/browser` to import `browser` from [`webextension-polyfill`](https://github.com/mozilla/webextension-polyfill) instead of using the regular `chrome`/`browser` globals WXT normally provides.

## Usage

```sh
pnpm i @wxt-dev/webextension-polyfill webextension-polyfill
```

Then add the module to your config:

```ts
// wxt.config.ts
export default defineConfig({
  modules: ['@wxt-dev/webextension-polyfill'],
});
```


## Links discovered
- [`webextension-polyfill`](https://github.com/mozilla/webextension-polyfill)

--- packages/wxt/README.md ---
<!-- DO NOT EDIT, THIS FILE WAS GENERATED BY '../../scripts/generate-readmes.sh' -->
<div align="center">

# <img align="top" width="44" src="https://raw.githubusercontent.com/wxt-dev/wxt/HEAD/docs/public/hero-logo.svg" alt="WXT Logo"> WXT

[![npm version](https://img.shields.io/npm/v/wxt?labelColor=black&color=%234fa048)](https://www.npmjs.com/package/wxt)
[![downloads](https://img.shields.io/npm/dm/wxt?labelColor=black&color=%234fa048)](https://www.npmjs.com/package/wxt)
[![license | MIT](https://img.shields.io/npm/l/wxt?labelColor=black&color=%234fa048)](https://github.com/wxt-dev/wxt/blob/main/LICENSE)
[![coverage](https://img.shields.io/codecov/c/github/wxt-dev/wxt?labelColor=black&color=%234fa048)](https://codecov.io/github/wxt-dev/wxt)

Next-gen framework for developing web extensions.<br/>‚ö°<br/><q><i>It's like Nuxt, but for Web Extensions</i></q>

[Get Started](https://wxt.dev/guide/installation.html) ‚Ä¢
[Configuration](https://wxt.dev/api/config.html) ‚Ä¢
[Examples](https://wxt.dev/examples.html) ‚Ä¢
[Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/wxt/CHANGELOG.md) ‚Ä¢
[Discord](https://discord.gg/ZFsZqGery9)

</div>

![Example CLI Output](https://raw.githubusercontent.com/wxt-dev/wxt/HEAD/docs/assets/cli-output.png)

## Demo

<https://github.com/wxt-dev/wxt/assets/10101283/4d678939-1bdb-495c-9c36-3aa281d84c94>

## Quick Start

Bootstrap a new project:

```sh
# npm
npx wxt@latest init

# pnpm
pnpm dlx wxt@latest init

# bun
bunx wxt@latest init
```

Or see the [installation guide](https://wxt.dev/guide/installation.html) to get started with WXT.

## Features

- üåê Supports all browsers
- ‚úÖ Supports both MV2 and MV3
- ‚ö° Dev mode with HMR & fast reload
- üìÇ File based entrypoints
- üöî TypeScript
- ü¶æ Auto-imports
- ü§ñ Automated publishing
- üé® Frontend framework agnostic: works with Vue, React, Svelte, etc
- üì¶ [Module system](https://wxt.dev/guide/essentials/wxt-modules.html#overview) for reusing code between extensions
- üñçÔ∏è Quickly bootstrap a new project
- üìè Bundle analysis
- ‚¨áÔ∏è Download and bundle remote URL imports

## Sponsors

WXT is a [MIT-licensed](https://github.com/wxt-dev/wxt/blob/main/LICENSE) open source project with its ongoing development made possible entirely by the support of these awesome backers. If you'd like to join them, please consider [sponsoring WXT's development](https://github.com/sponsors/wxt-dev).

[![WXT Sponsors](https://raw.githubusercontent.com/wxt-dev/static/refs/heads/main/sponsorkit/sponsors.svg)](https://github.com/sponsors/wxt-dev)

## Contributors

Published under the [MIT](https://github.com/wxt-dev/wxt/blob/main/LICENSE) license.
Made by [@aklinker1](https://github.com/aklinker1) and [community](https://github.com/wxt-dev/wxt/graphs/contributors) üíõ

[![WXT contributors](https://contrib.rocks/image?repo=wxt-dev/wxt)](https://github.com/wxt-dev/wxt/graphs/contributors)


## Links discovered
- [![npm version](https://img.shields.io/npm/v/wxt?labelColor=black&color=%234fa048)
- [![downloads](https://img.shields.io/npm/dm/wxt?labelColor=black&color=%234fa048)
- [![license | MIT](https://img.shields.io/npm/l/wxt?labelColor=black&color=%234fa048)
- [![coverage](https://img.shields.io/codecov/c/github/wxt-dev/wxt?labelColor=black&color=%234fa048)
- [Get Started](https://wxt.dev/guide/installation.html)
- [Configuration](https://wxt.dev/api/config.html)
- [Examples](https://wxt.dev/examples.html)
- [Changelog](https://github.com/wxt-dev/wxt/blob/main/packages/wxt/CHANGELOG.md)
- [Discord](https://discord.gg/ZFsZqGery9)
- [Example CLI Output](https://raw.githubusercontent.com/wxt-dev/wxt/HEAD/docs/assets/cli-output.png)
- [installation guide](https://wxt.dev/guide/installation.html)
- [Module system](https://wxt.dev/guide/essentials/wxt-modules.html#overview)
- [MIT-licensed](https://github.com/wxt-dev/wxt/blob/main/LICENSE)
- [sponsoring WXT's development](https://github.com/sponsors/wxt-dev)
- [![WXT Sponsors](https://raw.githubusercontent.com/wxt-dev/static/refs/heads/main/sponsorkit/sponsors.svg)
- [MIT](https://github.com/wxt-dev/wxt/blob/main/LICENSE)
- [@aklinker1](https://github.com/aklinker1)
- [community](https://github.com/wxt-dev/wxt/graphs/contributors)
- [![WXT contributors](https://contrib.rocks/image?repo=wxt-dev/wxt)

--- packages/wxt/src/utils/README.md ---
This folder is for public utils, not internal utils. Put generic helpers and other utils in the core/utils folder.


--- scripts/bump-package-version.ts ---
import {
  determineSemverChange,
  loadChangelogConfig,
  parseCommits,
  generateMarkDown,
  parseChangelogMarkdown,
} from 'changelogen';
import spawn from 'nano-spawn';
import { getPkgTag, grabPackageDetails, listCommitsInDir } from './git';
import { consola } from 'consola';
import fs from 'fs-extra';

const pkg = process.argv[2];
if (pkg == null) {
  throw Error(
    'Package name missing. Usage: tsx bump-package-version.ts <package-name>',
  );
}
const { pkgDir, pkgName, currentVersion, prevTag, changelogPath, pkgJsonPath } =
  await grabPackageDetails(pkg);
consola.info('Bumping:', { pkg, pkgDir, pkgName, currentVersion });

// Get commits
const config = await loadChangelogConfig(process.cwd());
consola.info('Config:', config);
const rawCommits = await listCommitsInDir(pkgDir, prevTag);
const commits = parseCommits(rawCommits, config);

// Bump version
const originalBumpType = determineSemverChange(commits, config) ?? 'patch';
let bumpType = originalBumpType;
if (currentVersion.startsWith('0.')) {
  if (bumpType === 'major') {
    bumpType = 'minor';
  } else if (bumpType === 'minor') {
    bumpType = 'patch';
  }
}
await spawn('pnpm', ['version', bumpType], {
  cwd: pkgDir,
});
const updatedPkgJson = await fs.readJson(pkgJsonPath);
const newVersion: string = updatedPkgJson.version;
const newTag = getPkgTag(pkg, newVersion);
consola.info('Bump:', { currentVersion, bumpType, newVersion });

// Generate changelog
const versionChangelog = await generateMarkDown(commits, {
  ...config,
  from: prevTag,
  to: newTag,
});
let versionChangelogBody = versionChangelog
  .split('\n')
  .slice(1)
  .join('\n')
  .trim();
if (originalBumpType === 'major') {
  versionChangelogBody = versionChangelogBody.replace(
    '[compare changes]',
    `[‚ö†Ô∏è breaking changes](https://wxt.dev/guide/resources/upgrading.html) &bull; [compare changes]`,
  );
}
const { releases: prevReleases } = await fs
  .readFile(changelogPath, 'utf8')
  .then(parseChangelogMarkdown)
  .catch(() => ({ releases: [] }));
const allReleases = [
  {
    version: newVersion,
    body: versionChangelogBody,
  },
  ...prevReleases,
];

const newChangelog =
  '# Changelog\n\n' +
  allReleases
    .map((release) => [`## v${release.version}`, release.body].join('\n\n'))
    .join('\n\n');
await fs.writeFile(changelogPath, newChangelog, 'utf8');
consola.success('Updated changelog');

// Commit changes
await spawn('git', ['add', pkgJsonPath, changelogPath]);
await spawn('git', [
  'commit',
  '-m',
  `chore(release): ${pkgName} v${newVersion}`,
]);
await spawn('git', ['tag', newTag]);
consola.success('Committed version and changelog');


## Links discovered
- [‚ö†Ô∏è breaking changes](https://wxt.dev/guide/resources/upgrading.html)

--- scripts/git.ts ---
import { RawGitCommit, getGitDiff } from 'changelogen';
import { consola } from 'consola';
import fs from 'fs-extra';

export async function grabPackageDetails(pkg: string) {
  const pkgDir = `packages/${pkg}`;
  const pkgJsonPath = `${pkgDir}/package.json`;
  const pkgJson = await fs.readJson(pkgJsonPath);
  const currentVersion: string = pkgJson.version;
  return {
    pkgDir,
    pkgJsonPath,
    changelogPath: `${pkgDir}/CHANGELOG.md`,
    pkgJson,
    pkgName: pkgJson.name,
    currentVersion,
    prevTag: getPkgTag(pkg, currentVersion),
  };
}

export function getPkgTag(pkg: string, version: string | undefined) {
  return `${pkg}-v${version}`;
}

export async function listCommitsInDir(
  dir: string,
  lastTag: string,
): Promise<RawGitCommit[]> {
  consola.info('Listing commits:', { lastTag, dir });
  const commits = await getGitDiff(lastTag);
  consola.info('All commits:', commits.length);
  consola.debug(commits);
  // commit.body contains all the files that were modified/added. So just check to make sure "\t" + "packages/storage" + "/" is in the body to include
  // '"\n\nM\tpackages/wxt/vitest.config.ts\n"'
  const filtered = commits.filter((commit) =>
    commit.body.includes(`\t${dir}/`),
  );
  consola.info('Filtered:', filtered.length);
  consola.debug(filtered);
  return filtered;
}


--- scripts/upgrade-deps.ts ---
import glob from 'fast-glob';
import fs from 'fs-extra';
import * as semver from 'semver';
import { dirname } from 'node:path';
import consola from 'consola';
import spawn from 'nano-spawn';
import pMap from 'p-map';

const HELP_MESSAGE = `
Upgrades dependencies throughout WXT using custom rules.

Usage:
  pnpm tsx scripts/upgrade-deps.ts [options]

Options:
  --write, -w       Write changes to package.json files
  --major, -m       Allow major version upgrades
  --dev-only, -d    Only check/upgrade dev dependencies
  --prod-only, -p   Only check/upgrade production dependencies
  --help, -h        Display this help message
`.slice(1, -1);

const IGNORED_PACKAGES = [
  // Very touchy, don't change:
  'typedoc',
  'typedoc-plugin-markdown',
  'typedoc-vitepress-theme',
  // Manually manage version so a single version is used:
  'esbuild',
  // Maintained manually to match min-node version
  '@types/node',
  // License changed in newer versions
  'ua-parser-js',
];

await main();

async function main(): Promise<never> {
  const args = process.argv.slice(2);
  const isHelp = ['-h', '--help'].some((arg) => args.includes(arg));
  const isWrite = ['-w', '--write'].some((arg) => args.includes(arg));
  const isDevOnly = ['-d', '--dev-only'].some((arg) => args.includes(arg));
  const isProdOnly = ['-p', '--prod-only'].some((arg) => args.includes(arg));

  if (isHelp) {
    console.log(HELP_MESSAGE);
    process.exit(0);
  }

  const { packageJsonFiles, dependencyVersionsMap } =
    await getPackageJsonDependencies(isDevOnly, isProdOnly);
  const dependencyVersionMap = validateNoMultipleVersions(
    dependencyVersionsMap,
  );

  consola.start(
    `Fetching ${Object.keys(dependencyVersionsMap).length} dependencies...`,
  );
  const dependencies = await fetchAllPackageInfos(dependencyVersionMap);
  consola.success('Done!');

  const isMajor = ['-m', '--major'].some((arg) => args.includes(arg));
  const upgrades = await detectUpgrades(dependencies, isMajor);

  if (upgrades.length === 0) {
    console.log();
    consola.info("No upgrades found, you're up to date!");
    console.log();
    process.exit(0);
  }

  printUpgrades(upgrades);

  if (!isWrite) {
    consola.info('Run with `-w` to write changes to package.json files');
    console.log();
    process.exit(0);
  }

  consola.start('Writing new versions to package.json files...');
  await writeUpgrades(packageJsonFiles, upgrades);
  consola.success('Done!');
  console.log();
  consola.info('Run `pnpm i` to install new dependencies');
  console.log();
  process.exit(0);
}

type DependencyVersionsMap = Record<string, Set<string>>;
type PackageJsonData = {
  content: any;
  path: string;
  folder: string;
};

async function getPackageJsonDependencies(
  isDevOnly: boolean,
  isProdOnly: boolean,
): Promise<{
  packageJsonFiles: string[];
  dependencyVersionsMap: DependencyVersionsMap;
}> {
  const packageJsonFiles = await glob(
    ['package.json', '*/*/package.json', '!**/node_modules'],
    { onlyFiles: true },
  );
  const packageJsons: PackageJsonData[] = await Promise.all(
    packageJsonFiles.map(async (path) => ({
      content: await fs.readJson(path),
      path,
      folder: dirname(path),
    })),
  );

  const dependencyVersionsMap = packageJsons.reduce<DependencyVersionsMap>(
    (map, { content }) => {
      const addToMap = ([name, version]: [string, any]) => {
        if (
          name === 'wxt' ||
          version.startsWith('workspace:') ||
          IGNORED_PACKAGES.includes(name)
        )
          return;

        map[name] ||= new Set();
        map[name].add(version as string);
      };
      if (!isDevOnly)
        Object.entries(content.dependencies || {}).forEach(addToMap);
      if (!isProdOnly)
        Object.entries(content.devDependencies || {}).forEach(addToMap);
      return map;
    },
    {},
  );

  return {
    packageJsonFiles,
    dependencyVersionsMap,
  };
}

type DependencyVersionMap = Record<string, string>;

function validateNoMultipleVersions(
  dependencyVersionsMap: DependencyVersionsMap,
): DependencyVersionMap {
  const depsWithMultipleVersions = Object.entries(dependencyVersionsMap).filter(
    ([_, versions]) => versions.size > 1,
  );
  if (depsWithMultipleVersions.length === 0) {
    return Object.fromEntries(
      Object.entries(dependencyVersionsMap).map(([name, versions]) => [
        name,
        [...versions][0],
      ]),
    );
  }

  const maxWidth = Math.max(
    ...depsWithMultipleVersions.map(([name]) => name.length),
  );
  console.log(maxWidth);
  const addCyan = (text: string) => `\x1b[36m${text}\x1b[0m`;

  consola.info('Found multiple versions of:');
  for (const [name, versions] of depsWithMultipleVersions) {
    console.log(
      `    \x1b[35m${name.padEnd(maxWidth)}\x1b[0m  ${Array.from(versions)
        .map(addCyan)
        .join('\t')}`,
    );
  }
  consola.error(`${depsWithMultipleVersions.length} problem(s) found`);
  process.exit(1);
}

async function fetchPackageInfo(name: string): Promise<PackageInfo> {
  // Use PNPM instead of API in case dependencies don't come from NPM
  const res = await spawn('pnpm', ['view', name, '--json']);
  return JSON.parse(res.stdout);
}

type PackageInfo = {
  name: string;
  'dist-tags': {
    latest: string;
    [tag: string]: string;
  };
  versions: string[];
  time: {
    created: string;
    modified: string;
    [version: string]: string;
  };
};

type DependencyInfo = {
  name: string;
  currentVersionRange: string;
  info: PackageInfo;
};

async function fetchAllPackageInfos(
  deps: DependencyVersionMap,
): Promise<DependencyInfo[]> {
  const infos: DependencyInfo[] = await pMap(
    Object.entries(deps),
    async ([name, currentVersionRange]) => {
      const info = await fetchPackageInfo(name);
      return { name, currentVersionRange, info };
    },
    { concurrency: 20 },
  );
  return infos.toSorted((a, b) => a.name.localeCompare(b.name));
}

type UpgradeDetails = {
  name: string;
  rangePrefix: string;
  currentVersion: string;
  currentVersionReleasedAt: Date;
  currentRange: string;
  upgradeToVersion: string;
  upgradeToVersionReleasedAt: Date;
  upgradeToRange: string;
  diff: semver.ReleaseType | null;
  latestVersion: string;
  latestVersionReleasedAt: Date;
};

async function detectUpgrades(
  deps: DependencyInfo[],
  isMajor: boolean,
): Promise<UpgradeDetails[]> {
  const results: UpgradeDetails[] = [];

  for (const dep of deps) {
    const currentRange = dep.currentVersionRange;
    if (currentRange === '*') continue;

    const parts = currentRange.split(' || ').map((part) => part.trim());
    const lastRange = parts[parts.length - 1];
    const isUnion = parts.length > 1;

    const rangePrefix = lastRange.match(/^(.?)(\d+\.\d+\.\d+)/)?.[1] ?? '';

    const currentVersion = semver.minVersion(lastRange)?.version;
    if (currentVersion == null)
      throw Error(`Invalid version specifier: ${dep.name}@${currentRange}`);

    const currentVersionReleasedAt = new Date(dep.info.time[currentVersion]);
    const isPre1 = currentVersion.startsWith('0.');

    const latestVersion = dep.info['dist-tags'].latest;
    const latestVersionReleasedAt = new Date(dep.info.time[latestVersion]);

    const upgradeToVersion = isMajor
      ? // Always use the latest version for major upgrades
        latestVersion
      : // Otherwise use the last stable version greater than the current version that is not a major release
        (dep.info.versions.findLast(
          (v) =>
            semver.gt(v, currentVersion) &&
            (isPre1 ? ['patch'] : ['patch', 'minor']).includes(
              semver.diff(v, currentVersion)!,
            ) &&
            semver.prerelease(v) == null,
        ) ?? currentVersion);
    const upgradeToVersionReleasedAt = new Date(
      dep.info.time[upgradeToVersion],
    );

    let upgradeToRange = `${rangePrefix}${upgradeToVersion}`;
    upgradeToRange = isUnion
      ? semver.satisfies(upgradeToVersion, currentRange)
        ? currentRange
        : `${currentRange} || ${upgradeToRange}`
      : upgradeToRange;

    let diff = semver.diff(currentVersion, upgradeToVersion);
    if (isPre1) {
      if (diff === 'minor') diff = 'major';
      if (diff === 'patch') diff = 'minor';
    }

    if (upgradeToRange === currentRange) continue;
    // if (currentVersion === latestVersion) continue;

    results.push({
      name: dep.name,
      rangePrefix,
      diff,
      currentVersion,
      currentVersionReleasedAt,
      currentRange,
      upgradeToVersion,
      upgradeToVersionReleasedAt,
      upgradeToRange,
      latestVersion,
      latestVersionReleasedAt,
    });
  }

  return results;
}

function printUpgrades(upgrades: UpgradeDetails[]): void {
  const namePadding = Math.max(...upgrades.map((u) => u.name.length));
  const currentVersionPadding = Math.max(
    ...upgrades.map((u) => u.currentRange.length),
  );
  const upgradeToVersionPadding = Math.max(
    ...upgrades.map((u) => u.upgradeToRange.length),
  );
  const numberPadding = String(upgrades.length + 1).length + 1;

  consola.info(`Found ${upgrades.length} upgrades:`);
  console.log();
  for (let i = 0; i < upgrades.length; i++) {
    const upgrade = upgrades[i];
    const num = `\x1b[2m${(i + 1).toString().padStart(numberPadding)}.\x1b[0m`;
    const name = `\x1b[35m${upgrade.name.padEnd(namePadding)}\x1b[0m`;
    const color =
      upgrade.diff == null
        ? '\x1b[2m'
        : upgrade.diff === 'patch'
          ? '\x1b[32m'
          : upgrade.diff === 'minor'
            ? '\x1b[33m'
            : '\x1b[31m';
    const currentVersion = `\x1b[2m${upgrade.currentRange.padEnd(currentVersionPadding)}\x1b[0m`;
    const upgradeToVersion = `${color}${upgrade.upgradeToRange.padEnd(upgradeToVersionPadding)}\x1b[0m`;
    const latest =
      upgrade.latestVersion !== upgrade.upgradeToVersion
        ? ` \x1b[2m\x1b[31m(${upgrade.latestVersion} available)\x1b[0m`
        : '';
    console.log(
      `  ${num} ${name}  ${currentVersion}  \x1b[2m‚Üí\x1b[0m  ${upgradeToVersion}${latest}`,
    );
  }
  console.log();
}

async function writeUpgrades(
  packageJsonFiles: string[],
  upgrades: UpgradeDetails[],
) {
  for (const packageJsonFile of packageJsonFiles) {
    const oldText = await fs.readFile(packageJsonFile, 'utf8');
    let newText = oldText;
    for (const upgrade of upgrades) {
      const search = `"${upgrade.name}": "${upgrade.currentRange}"`;
      const replace = `"${upgrade.name}": "${upgrade.upgradeToRange}"`;
      newText = newText.replaceAll(search, replace);
    }
    if (newText !== oldText) {
      await fs.writeFile(packageJsonFile, newText, 'utf8');
    }
  }
}


--- templates/react/README.md ---
# WXT + React

This template should help get you started developing with React in WXT.


--- templates/solid/README.md ---
# WXT + SolidJS

This template should help get you started developing with SolidJS in WXT.


--- templates/svelte/README.md ---
# WXT + Svelte

This template should help get you started developing with Svelte in WXT.

## Recommended IDE Setup

[VS Code](https://code.visualstudio.com/) + [Svelte](https://marketplace.visualstudio.com/items?itemName=svelte.svelte-vscode).


## Links discovered
- [VS Code](https://code.visualstudio.com/)
- [Svelte](https://marketplace.visualstudio.com/items?itemName=svelte.svelte-vscode)

--- templates/vue/README.md ---
# WXT + Vue 3

This template should help get you started developing with Vue 3 in WXT.

## Recommended IDE Setup

- [VS Code](https://code.visualstudio.com/) + [Volar](https://marketplace.visualstudio.com/items?itemName=Vue.volar).


## Links discovered
- [VS Code](https://code.visualstudio.com/)
- [Volar](https://marketplace.visualstudio.com/items?itemName=Vue.volar)

--- templates/react/entrypoints/popup/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Default Popup Title</title>
    <meta name="manifest.type" content="browser_action" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./main.tsx"></script>
  </body>
</html>


--- templates/solid/entrypoints/popup/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Default Popup Title</title>
    <meta name="manifest.type" content="browser_action" />
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="./main.tsx"></script>
  </body>
</html>


--- templates/vanilla/entrypoints/popup/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Default Popup Title</title>
    <meta name="manifest.type" content="browser_action" />
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>


--- templates/vue/entrypoints/popup/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Default Popup Title</title>
    <meta name="manifest.type" content="browser_action" />
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>


--- templates/svelte/src/entrypoints/popup/index.html ---
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Default Popup Title</title>
    <meta name="manifest.type" content="browser_action" />
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="./main.ts"></script>
  </body>
</html>


--- templates/svelte/wxt-env.d.ts ---
/// <reference types="svelte" />
