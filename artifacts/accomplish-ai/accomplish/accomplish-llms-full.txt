# llms-full (private-aware)
> Built from GitHub files and website pages. Large files may be truncated.

--- apps/desktop/src/main/permission-api.ts ---
/**
 * Permission API Server
 *
 * HTTP server that the file-permission MCP server calls to request
 * user permission for file operations. This bridges the MCP server
 * (separate process) with the Electron UI.
 */

import http from 'http';
import type { BrowserWindow } from 'electron';
import {
  PERMISSION_API_PORT,
  QUESTION_API_PORT,
  isFilePermissionRequest,
  isQuestionRequest,
  createPermissionHandler,
  type PermissionHandlerAPI,
  type PermissionFileRequestData as FilePermissionRequestData,
  type PermissionQuestionRequestData as QuestionRequestData,
  type PermissionQuestionResponseData as QuestionResponseData,
} from '@accomplish_ai/agent-core';

export { PERMISSION_API_PORT, QUESTION_API_PORT, isFilePermissionRequest, isQuestionRequest };

// Singleton permission request handler
const permissionHandler: PermissionHandlerAPI = createPermissionHandler();

// Store reference to main window and task manager
let mainWindow: BrowserWindow | null = null;
let getActiveTaskId: (() => string | null) | null = null;

/**
 * Initialize the permission API with dependencies
 */
export function initPermissionApi(
  window: BrowserWindow,
  taskIdGetter: () => string | null
): void {
  mainWindow = window;
  getActiveTaskId = taskIdGetter;
}

/**
 * Resolve a pending permission request from the MCP server
 * Called when user responds via the UI
 */
export function resolvePermission(requestId: string, allowed: boolean): boolean {
  return permissionHandler.resolvePermissionRequest(requestId, allowed);
}

/**
 * Resolve a pending question request from the MCP server
 * Called when user responds via the UI
 */
export function resolveQuestion(
  requestId: string,
  response: QuestionResponseData
): boolean {
  return permissionHandler.resolveQuestionRequest(requestId, response);
}

/**
 * Create and start the HTTP server for permission requests
 */
export function startPermissionApiServer(): http.Server {
  const server = http.createServer(async (req, res) => {
    // CORS headers for local requests
    res.setHeader('Access-Control-Allow-Origin', '*');
    res.setHeader('Access-Control-Allow-Methods', 'POST, OPTIONS');
    res.setHeader('Access-Control-Allow-Headers', 'Content-Type');

    // Handle preflight
    if (req.method === 'OPTIONS') {
      res.writeHead(200);
      res.end();
      return;
    }

    // Only handle POST /permission
    if (req.method !== 'POST' || req.url !== '/permission') {
      res.writeHead(404, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Not found' }));
      return;
    }

    // Parse request body
    let body = '';
    for await (const chunk of req) {
      body += chunk;
    }

    let data: FilePermissionRequestData;

    try {
      data = JSON.parse(body);
    } catch {
      res.writeHead(400, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Invalid JSON' }));
      return;
    }

    // Validate request using core handler
    const validation = permissionHandler.validateFilePermissionRequest(data);
    if (!validation.valid) {
      res.writeHead(400, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: validation.error }));
      return;
    }

    // Check if we have the necessary dependencies
    if (!mainWindow || mainWindow.isDestroyed() || !getActiveTaskId) {
      res.writeHead(503, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Permission API not initialized' }));
      return;
    }

    const taskId = getActiveTaskId();
    if (!taskId) {
      res.writeHead(400, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'No active task' }));
      return;
    }

    // Create request using core handler
    const { requestId, promise } = permissionHandler.createPermissionRequest();

    // Build permission request for the UI
    const permissionRequest = permissionHandler.buildFilePermissionRequest(
      requestId,
      taskId,
      data
    );

    // Send to renderer (Electron-specific)
    mainWindow.webContents.send('permission:request', permissionRequest);

    // Wait for user response
    try {
      const allowed = await promise;
      res.writeHead(200, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ allowed }));
    } catch (error) {
      res.writeHead(408, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Request timed out', allowed: false }));
    }
  });

  server.listen(PERMISSION_API_PORT, '127.0.0.1', () => {
    console.log(`[Permission API] Server listening on port ${PERMISSION_API_PORT}`);
  });

  server.on('error', (error: NodeJS.ErrnoException) => {
    if (error.code === 'EADDRINUSE') {
      console.warn(`[Permission API] Port ${PERMISSION_API_PORT} already in use, skipping server start`);
    } else {
      console.error('[Permission API] Server error:', error);
    }
  });

  return server;
}

/**
 * Create and start the HTTP server for question requests
 */
export function startQuestionApiServer(): http.Server {
  const server = http.createServer(async (req, res) => {
    // CORS headers for local requests
    res.setHeader('Access-Control-Allow-Origin', '*');
    res.setHeader('Access-Control-Allow-Methods', 'POST, OPTIONS');
    res.setHeader('Access-Control-Allow-Headers', 'Content-Type');

    // Handle preflight
    if (req.method === 'OPTIONS') {
      res.writeHead(200);
      res.end();
      return;
    }

    // Only handle POST /question
    if (req.method !== 'POST' || req.url !== '/question') {
      res.writeHead(404, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Not found' }));
      return;
    }

    // Parse request body
    let body = '';
    for await (const chunk of req) {
      body += chunk;
    }

    let data: QuestionRequestData;

    try {
      data = JSON.parse(body);
    } catch {
      res.writeHead(400, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Invalid JSON' }));
      return;
    }

    // Validate request using core handler
    const validation = permissionHandler.validateQuestionRequest(data);
    if (!validation.valid) {
      res.writeHead(400, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: validation.error }));
      return;
    }

    // Check if we have the necessary dependencies
    if (!mainWindow || mainWindow.isDestroyed() || !getActiveTaskId) {
      res.writeHead(503, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Question API not initialized' }));
      return;
    }

    const taskId = getActiveTaskId();
    if (!taskId) {
      res.writeHead(400, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'No active task' }));
      return;
    }

    // Create request using core handler
    const { requestId, promise } = permissionHandler.createQuestionRequest();

    // Build question request for the UI
    const questionRequest = permissionHandler.buildQuestionRequest(
      requestId,
      taskId,
      data
    );

    // Send to renderer (Electron-specific)
    mainWindow.webContents.send('permission:request', questionRequest);

    // Wait for user response
    try {
      const response = await promise;
      res.writeHead(200, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify(response));
    } catch (error) {
      res.writeHead(408, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Request timed out', denied: true }));
    }
  });

  server.listen(QUESTION_API_PORT, '127.0.0.1', () => {
    console.log(`[Question API] Server listening on port ${QUESTION_API_PORT}`);
  });

  server.on('error', (error: NodeJS.ErrnoException) => {
    if (error.code === 'EADDRINUSE') {
      console.warn(`[Question API] Port ${QUESTION_API_PORT} already in use, skipping server start`);
    } else {
      console.error('[Question API] Server error:', error);
    }
  });

  return server;
}


--- apps/desktop/src/main/thought-stream-api.ts ---
/**
 * Thought Stream API Server
 *
 * HTTP server that MCP tools (report-thought, report-checkpoint) call to stream
 * subagent thoughts/checkpoints to the UI in real-time. This bridges the MCP tools
 * (separate process) with the Electron UI.
 */

import http from 'http';
import type { BrowserWindow } from 'electron';
import {
  THOUGHT_STREAM_PORT,
  createThoughtStreamHandler,
  type ThoughtStreamAPI,
  type ThoughtStreamEvent as ThoughtEvent,
  type ThoughtStreamCheckpointEvent as CheckpointEvent,
} from '@accomplish_ai/agent-core';

// Re-export types and constant for backwards compatibility
export { THOUGHT_STREAM_PORT };
export type { ThoughtEvent, CheckpointEvent };

// Store reference to main window
let mainWindow: BrowserWindow | null = null;

// Singleton handler instance for task tracking and event validation
const thoughtStreamHandler: ThoughtStreamAPI = createThoughtStreamHandler();

/**
 * Initialize the thought stream API with dependencies
 */
export function initThoughtStreamApi(window: BrowserWindow): void {
  mainWindow = window;
}

/**
 * Register a task ID as active (called when task starts)
 */
export function registerActiveTask(taskId: string): void {
  thoughtStreamHandler.registerTask(taskId);
}

/**
 * Unregister a task ID (called when task completes)
 */
export function unregisterActiveTask(taskId: string): void {
  thoughtStreamHandler.unregisterTask(taskId);
}

/**
 * Create and start the HTTP server for thought streaming
 */
export function startThoughtStreamServer(): http.Server {
  const server = http.createServer(async (req, res) => {
    // CORS headers for local requests
    res.setHeader('Access-Control-Allow-Origin', '*');
    res.setHeader('Access-Control-Allow-Methods', 'POST, OPTIONS');
    res.setHeader('Access-Control-Allow-Headers', 'Content-Type');

    // Handle preflight
    if (req.method === 'OPTIONS') {
      res.writeHead(200);
      res.end();
      return;
    }

    // Only handle POST requests
    if (req.method !== 'POST') {
      res.writeHead(404, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Not found' }));
      return;
    }

    // Parse request body
    let body = '';
    for await (const chunk of req) {
      body += chunk;
    }

    let data: Record<string, unknown>;
    try {
      data = JSON.parse(body);
    } catch {
      res.writeHead(400, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Invalid JSON' }));
      return;
    }

    // Validate taskId exists and is active
    const taskId = data.taskId as string;
    if (!taskId || !thoughtStreamHandler.isTaskActive(taskId)) {
      // Fire-and-forget: return 200 even for unknown tasks
      res.writeHead(200);
      res.end();
      return;
    }

    // Route based on endpoint
    if (req.url === '/thought') {
      handleThought(data as unknown as ThoughtEvent, res);
    } else if (req.url === '/checkpoint') {
      handleCheckpoint(data as unknown as CheckpointEvent, res);
    } else {
      res.writeHead(404, { 'Content-Type': 'application/json' });
      res.end(JSON.stringify({ error: 'Not found' }));
    }
  });

  server.listen(THOUGHT_STREAM_PORT, '127.0.0.1', () => {
    console.log(`[Thought Stream API] Server listening on port ${THOUGHT_STREAM_PORT}`);
  });

  server.on('error', (error: NodeJS.ErrnoException) => {
    if (error.code === 'EADDRINUSE') {
      console.warn(`[Thought Stream API] Port ${THOUGHT_STREAM_PORT} already in use, skipping server start`);
    } else {
      console.error('[Thought Stream API] Server error:', error);
    }
  });

  return server;
}

function handleThought(event: ThoughtEvent, res: http.ServerResponse): void {
  // Forward to renderer via IPC
  if (mainWindow && !mainWindow.isDestroyed()) {
    mainWindow.webContents.send('task:thought', event);
  }

  // Fire-and-forget: always return 200
  res.writeHead(200);
  res.end();
}

function handleCheckpoint(event: CheckpointEvent, res: http.ServerResponse): void {
  // Forward to renderer via IPC
  if (mainWindow && !mainWindow.isDestroyed()) {
    mainWindow.webContents.send('task:checkpoint', event);
  }

  // Fire-and-forget: always return 200
  res.writeHead(200);
  res.end();
}


--- packages/agent-core/src/internal/classes/CompletionEnforcer.ts ---
import { CompletionState, CompletionFlowState, CompleteTaskArgs } from '../../opencode/completion/completion-state.js';
import { getContinuationPrompt, getPartialContinuationPrompt } from '../../opencode/completion/prompts.js';
import type { TodoItem } from '../../common/types/todo.js';

export interface CompletionEnforcerCallbacks {
  onStartContinuation: (prompt: string) => Promise<void>;
  onComplete: () => void;
  onDebug: (type: string, message: string, data?: unknown) => void;
}

export type StepFinishAction = 'continue' | 'pending' | 'complete';

export class CompletionEnforcer {
  private state: CompletionState;
  private callbacks: CompletionEnforcerCallbacks;
  private currentTodos: TodoItem[] = [];
  private toolsWereUsed: boolean = false;

  constructor(callbacks: CompletionEnforcerCallbacks, maxContinuationAttempts: number = 20) {
    this.callbacks = callbacks;
    this.state = new CompletionState(maxContinuationAttempts);
  }

  updateTodos(todos: TodoItem[]): void {
    this.currentTodos = todos;
    this.callbacks.onDebug(
      'todo_update',
      `Todo list updated: ${todos.length} items`,
      { todos }
    );
  }

  markToolsUsed(): void {
    this.toolsWereUsed = true;
  }

  handleCompleteTaskDetection(toolInput: unknown): boolean {
    if (this.state.isCompleteTaskCalled()) {
      return false;
    }

    const args = toolInput as {
      status?: string;
      summary?: string;
      original_request_summary?: string;
      remaining_work?: string;
    };

    const completeTaskArgs: CompleteTaskArgs = {
      status: args?.status || 'unknown',
      summary: args?.summary || '',
      original_request_summary: args?.original_request_summary || '',
      remaining_work: args?.remaining_work,
    };

    if (completeTaskArgs.status === 'success' && this.hasIncompleteTodos()) {
      this.callbacks.onDebug(
        'incomplete_todos',
        'Agent claimed success but has incomplete todos - downgrading to partial',
        { incompleteTodos: this.getIncompleteTodosSummary() }
      );
      completeTaskArgs.status = 'partial';
      completeTaskArgs.remaining_work = this.getIncompleteTodosSummary();
    }

    this.state.recordCompleteTaskCall(completeTaskArgs);

    this.callbacks.onDebug(
      'complete_task',
      `complete_task detected with status: ${completeTaskArgs.status}`,
      { args: completeTaskArgs, state: CompletionFlowState[this.state.getState()] }
    );

    return true;
  }

  handleStepFinish(reason: string): StepFinishAction {
    if (reason !== 'stop' && reason !== 'end_turn') {
      return 'continue';
    }

    if (this.state.isPendingPartialContinuation()) {
      this.callbacks.onDebug(
        'partial_continuation',
        'Scheduling continuation for partial completion',
        { remainingWork: this.state.getCompleteTaskArgs()?.remaining_work }
      );
      return 'pending';
    }

    if (!this.state.isCompleteTaskCalled()) {
      if (!this.toolsWereUsed) {
        this.callbacks.onDebug(
          'skip_continuation',
          'No tools used and no complete_task called â€” treating as conversational response'
        );
        return 'complete';
      }

      if (this.state.scheduleContinuation()) {
        this.callbacks.onDebug(
          'continuation',
          `Scheduled continuation prompt (attempt ${this.state.getContinuationAttempts()})`
        );
        return 'pending';
      }

      console.warn(`[CompletionEnforcer] Agent stopped without complete_task. State: ${CompletionFlowState[this.state.getState()]}, attempts: ${this.state.getContinuationAttempts()}/${this.state.getMaxContinuationAttempts()}`);
    }

    return 'complete';
  }

  async handleProcessExit(exitCode: number): Promise<void> {
    if (this.state.isPendingPartialContinuation() && exitCode === 0) {
      const args = this.state.getCompleteTaskArgs();
      const prompt = getPartialContinuationPrompt(
        args?.remaining_work || 'No remaining work specified',
        args?.original_request_summary || 'Unknown request',
        args?.summary || 'No summary provided'
      );

      const canContinue = this.state.startPartialContinuation();

      if (!canContinue) {
        console.warn('[CompletionEnforcer] Max partial continuation attempts reached');
        this.callbacks.onComplete();
        return;
      }

      this.callbacks.onDebug(
        'partial_continuation',
        `Starting partial continuation (attempt ${this.state.getContinuationAttempts()})`,
        { remainingWork: args?.remaining_work, summary: args?.summary }
      );

      this.toolsWereUsed = false;
      await this.callbacks.onStartContinuation(prompt);
      return;
    }

    if (this.state.isPendingContinuation() && exitCode === 0) {
      const prompt = getContinuationPrompt();

      this.state.startContinuation();

      this.callbacks.onDebug(
        'continuation',
        `Starting continuation task (attempt ${this.state.getContinuationAttempts()})`
      );

      this.toolsWereUsed = false;
      await this.callbacks.onStartContinuation(prompt);
      return;
    }

    this.callbacks.onComplete();
  }

  shouldComplete(): boolean {
    return this.state.isDone() ||
           this.state.getState() === CompletionFlowState.BLOCKED ||
           this.state.getState() === CompletionFlowState.MAX_RETRIES_REACHED;
  }

  reset(): void {
    this.state.reset();
    this.currentTodos = [];
    this.toolsWereUsed = false;
  }

  private hasIncompleteTodos(): boolean {
    return this.currentTodos.some(
      t => t.status === 'pending' || t.status === 'in_progress'
    );
  }

  private getIncompleteTodosSummary(): string {
    const incomplete = this.currentTodos.filter(
      t => t.status === 'pending' || t.status === 'in_progress'
    );
    return incomplete.map(t => `- ${t.content}`).join('\n');
  }

  getState(): CompletionFlowState {
    return this.state.getState();
  }

  getContinuationAttempts(): number {
    return this.state.getContinuationAttempts();
  }
}


--- packages/agent-core/src/internal/classes/LogCollector.ts ---
/**
 * LogCollector - Central logging service that captures all application logs.
 *
 * Intercepts console.log/warn/error and provides methods for components
 * to log structured events. This class is platform-agnostic and requires
 * a LogFileWriter instance to be injected.
 */

import { type LogLevel, type LogSource } from '../../common/types/logging.js';
import { detectLogSource } from '../../common/utils/log-source-detector.js';

/**
 * Internal interface for the basic file writer that LogCollector needs.
 * This is a subset of LogWriterAPI that only includes the low-level operations.
 */
interface InternalLogFileWriter {
  initialize(): void;
  write(level: LogLevel, source: LogSource, message: string): void;
  flush(): void;
  getCurrentLogPath(): string;
  getLogDir(): string;
  shutdown(): void;
}

// Store original console methods
const originalConsole = {
  log: console.log.bind(console),
  warn: console.warn.bind(console),
  error: console.error.bind(console),
  debug: console.debug.bind(console),
};

export class LogCollector {
  private initialized = false;

  constructor(private writer: InternalLogFileWriter) {}

  /**
   * Initialize the log collector - must be called early in app startup
   */
  initialize(): void {
    if (this.initialized) return;

    // Initialize the file writer first
    this.writer.initialize();

    // Override console methods to capture all logs
    // Wrap original console calls in try-catch to handle EIO errors when stdout is unavailable
    // (e.g., when terminal is closed or during app shutdown)
    console.log = (...args: unknown[]) => {
      try {
        originalConsole.log(...args);
      } catch {
        // Ignore EIO errors when stdout is unavailable
      }
      this.captureConsole('INFO', args);
    };

    console.warn = (...args: unknown[]) => {
      try {
        originalConsole.warn(...args);
      } catch {
        // Ignore EIO errors when stdout is unavailable
      }
      this.captureConsole('WARN', args);
    };

    console.error = (...args: unknown[]) => {
      try {
        originalConsole.error(...args);
      } catch {
        // Ignore EIO errors when stdout is unavailable
      }
      this.captureConsole('ERROR', args);
    };

    console.debug = (...args: unknown[]) => {
      try {
        originalConsole.debug(...args);
      } catch {
        // Ignore EIO errors when stdout is unavailable
      }
      this.captureConsole('DEBUG', args);
    };

    this.initialized = true;

    // Log startup
    this.log('INFO', 'main', 'LogCollector initialized');
  }

  /**
   * Log a message with structured metadata
   */
  log(level: LogLevel, source: LogSource, message: string, data?: unknown): void {
    let fullMessage = message;
    if (data !== undefined) {
      try {
        fullMessage += ' ' + JSON.stringify(data);
      } catch {
        fullMessage += ' [unserializable data]';
      }
    }

    this.writer.write(level, source, fullMessage);
  }

  /**
   * Log MCP server events
   */
  logMcp(level: LogLevel, message: string, data?: unknown): void {
    this.log(level, 'mcp', message, data);
  }

  /**
   * Log browser/Playwright events
   */
  logBrowser(level: LogLevel, message: string, data?: unknown): void {
    this.log(level, 'browser', message, data);
  }

  /**
   * Log OpenCode CLI events
   */
  logOpenCode(level: LogLevel, message: string, data?: unknown): void {
    this.log(level, 'opencode', message, data);
  }

  /**
   * Log environment/startup events
   */
  logEnv(level: LogLevel, message: string, data?: unknown): void {
    this.log(level, 'env', message, data);
  }

  /**
   * Log IPC events
   */
  logIpc(level: LogLevel, message: string, data?: unknown): void {
    this.log(level, 'ipc', message, data);
  }

  /**
   * Get the path to the current log file (for export)
   */
  getCurrentLogPath(): string {
    return this.writer.getCurrentLogPath();
  }

  /**
   * Get the log directory
   */
  getLogDir(): string {
    return this.writer.getLogDir();
  }

  /**
   * Flush all pending logs to disk
   */
  flush(): void {
    this.writer.flush();
  }

  /**
   * Shutdown the collector
   */
  shutdown(): void {
    if (!this.initialized) return;

    this.log('INFO', 'main', 'LogCollector shutting down');

    // Restore original console
    console.log = originalConsole.log;
    console.warn = originalConsole.warn;
    console.error = originalConsole.error;
    console.debug = originalConsole.debug;

    this.writer.shutdown();
    this.initialized = false;
  }

  /**
   * Capture console output and route to file writer
   */
  private captureConsole(level: LogLevel, args: unknown[]): void {
    const message = args
      .map((arg) => {
        if (typeof arg === 'string') return arg;
        try {
          return JSON.stringify(arg);
        } catch {
          return String(arg);
        }
      })
      .join(' ');

    const source = detectLogSource(message);
    this.writer.write(level, source, message);
  }
}


--- packages/agent-core/src/internal/classes/LogFileWriter.ts ---
import fs from 'fs';
import path from 'path';

import type { LogLevel, LogSource, LogEntry } from '../../common/types/logging.js';
import {
  LOG_MAX_FILE_SIZE_BYTES,
  LOG_RETENTION_DAYS,
  LOG_BUFFER_FLUSH_INTERVAL_MS,
  LOG_BUFFER_MAX_ENTRIES,
} from '../../common/constants.js';

import { redact } from '../../utils/redact.js';

/**
 * LogFileWriter - Writes log entries to rotating daily log files.
 *
 * This class is platform-agnostic and requires the log directory to be
 * injected via constructor (dependency injection pattern).
 */
export class LogFileWriter {
  private currentDate: string = '';
  private currentFilePath: string = '';
  private buffer: LogEntry[] = [];
  private flushTimer: NodeJS.Timeout | null = null;
  private fileSizeExceeded: boolean = false;

  constructor(private logDir: string) {}

  initialize(): void {
    if (!fs.existsSync(this.logDir)) {
      fs.mkdirSync(this.logDir, { recursive: true });
    }

    this.cleanupOldLogs();
    this.updateCurrentFile();
    this.flushTimer = setInterval(() => this.flush(), LOG_BUFFER_FLUSH_INTERVAL_MS);
  }

  write(level: LogLevel, source: LogSource, message: string): void {
    if (this.fileSizeExceeded) {
      const today = new Date().toISOString().split('T')[0];
      if (today !== this.currentDate) {
        this.currentDate = today;
        this.currentFilePath = path.join(this.logDir, `app-${today}.log`);
        this.fileSizeExceeded = false;
      } else {
        return;
      }
    }

    const entry: LogEntry = {
      timestamp: new Date().toISOString(),
      level,
      source,
      message: redact(message),
    };

    this.buffer.push(entry);

    if (this.buffer.length >= LOG_BUFFER_MAX_ENTRIES) {
      this.flush();
    }
  }

  flush(): void {
    if (this.buffer.length === 0) return;

    this.updateCurrentFile();

    if (this.checkFileSize()) {
      this.fileSizeExceeded = true;
      console.error('[LogFileWriter] Max file size exceeded, stopping writes');
      return;
    }

    const lines = this.buffer.map(
      (entry) => `[${entry.timestamp}] [${entry.level}] [${entry.source}] ${entry.message}`
    );

    try {
      fs.appendFileSync(this.currentFilePath, lines.join('\n') + '\n');
      this.buffer = [];
    } catch (error) {
      console.error('[LogFileWriter] Failed to write logs:', error);
      // Don't clear buffer on failure - retry on next flush, but prevent unbounded growth
      if (this.buffer.length > LOG_BUFFER_MAX_ENTRIES * 10) {
        console.error('[LogFileWriter] Buffer overflow - dropping oldest entries');
        this.buffer = this.buffer.slice(-LOG_BUFFER_MAX_ENTRIES);
      }
    }
  }

  getCurrentLogPath(): string {
    this.updateCurrentFile();
    return this.currentFilePath;
  }

  getLogDir(): string {
    return this.logDir;
  }

  shutdown(): void {
    if (this.flushTimer) {
      clearInterval(this.flushTimer);
      this.flushTimer = null;
    }
    this.flush();
  }

  private updateCurrentFile(): void {
    const today = new Date().toISOString().split('T')[0];
    if (today !== this.currentDate) {
      // Write buffered entries to old file directly to avoid recursion from calling flush()
      if (this.currentDate && this.buffer.length > 0 && this.currentFilePath) {
        const lines = this.buffer.map(
          (entry) => `[${entry.timestamp}] [${entry.level}] [${entry.source}] ${entry.message}`
        );
        try {
          fs.appendFileSync(this.currentFilePath, lines.join('\n') + '\n');
          this.buffer = [];
        } catch (error) {
          console.error('[LogFileWriter] Failed to write logs on date change:', error);
          // Don't clear buffer - entries will be written to new file
        }
      }
      this.currentDate = today;
      this.currentFilePath = path.join(this.logDir, `app-${today}.log`);
      this.fileSizeExceeded = false;
    }
  }

  private checkFileSize(): boolean {
    try {
      if (!fs.existsSync(this.currentFilePath)) return false;
      const stats = fs.statSync(this.currentFilePath);
      return stats.size >= LOG_MAX_FILE_SIZE_BYTES;
    } catch {
      return false;
    }
  }

  private cleanupOldLogs(): void {
    try {
      const files = fs.readdirSync(this.logDir);
      const cutoffDate = new Date();
      cutoffDate.setDate(cutoffDate.getDate() - LOG_RETENTION_DAYS);

      for (const file of files) {
        if (!file.startsWith('app-') || !file.endsWith('.log')) continue;

        const dateMatch = file.match(/app-(\d{4}-\d{2}-\d{2})\.log/);
        if (!dateMatch) continue;

        const fileDate = new Date(dateMatch[1]);
        if (fileDate < cutoffDate) {
          const filePath = path.join(this.logDir, file);
          fs.unlinkSync(filePath);
          console.log(`[LogFileWriter] Deleted old log file: ${file}`);
        }
      }
    } catch (error) {
      console.error('[LogFileWriter] Failed to cleanup old logs:', error);
    }
  }
}


--- packages/agent-core/src/internal/classes/OpenCodeAdapter.ts ---
import * as pty from 'node-pty';
import { EventEmitter } from 'events';
import fs from 'fs';
import path from 'path';
import { spawn } from 'child_process';
import { StreamParser } from './StreamParser.js';
import { OpenCodeLogWatcher, createLogWatcher, OpenCodeLogError } from './OpenCodeLogWatcher.js';
import { CompletionEnforcer, CompletionEnforcerCallbacks } from '../../opencode/completion/index.js';
import type { TaskConfig, Task, TaskMessage, TaskResult } from '../../common/types/task.js';
import type { OpenCodeMessage } from '../../common/types/opencode.js';
import type { PermissionRequest } from '../../common/types/permission.js';
import type { TodoItem } from '../../common/types/todo.js';

export class OpenCodeCliNotFoundError extends Error {
  constructor() {
    super(
      'OpenCode CLI is not available. The bundled CLI may be missing or corrupted. Please reinstall the application.'
    );
    this.name = 'OpenCodeCliNotFoundError';
  }
}

export interface AdapterOptions {
  platform: NodeJS.Platform;
  isPackaged: boolean;
  tempPath: string;
  getCliCommand: () => { command: string; args: string[] };
  buildEnvironment: (taskId: string) => Promise<NodeJS.ProcessEnv>;
  buildCliArgs: (config: TaskConfig) => Promise<string[]>;
  onBeforeStart?: () => Promise<void>;
  getModelDisplayName?: (modelId: string) => string;
}

export interface OpenCodeAdapterEvents {
  message: [OpenCodeMessage];
  'tool-use': [string, unknown];
  'tool-result': [string];
  'permission-request': [PermissionRequest];
  progress: [{ stage: string; message?: string; modelName?: string }];
  complete: [TaskResult];
  error: [Error];
  debug: [{ type: string; message: string; data?: unknown }];
  'todo:update': [TodoItem[]];
  'auth-error': [{ providerId: string; message: string }];
}

export class OpenCodeAdapter extends EventEmitter<OpenCodeAdapterEvents> {
  private ptyProcess: pty.IPty | null = null;
  private streamParser: StreamParser;
  private logWatcher: OpenCodeLogWatcher | null = null;
  private currentSessionId: string | null = null;
  private currentTaskId: string | null = null;
  private messages: TaskMessage[] = [];
  private hasCompleted: boolean = false;
  private isDisposed: boolean = false;
  private wasInterrupted: boolean = false;
  private completionEnforcer: CompletionEnforcer;
  private lastWorkingDirectory: string | undefined;
  private currentModelId: string | null = null;
  private waitingTransitionTimer: ReturnType<typeof setTimeout> | null = null;
  private hasReceivedFirstTool: boolean = false;
  private startTaskCalled: boolean = false;
  private options: AdapterOptions;

  constructor(options: AdapterOptions, taskId?: string) {
    super();
    this.options = options;
    this.currentTaskId = taskId || null;
    this.streamParser = new StreamParser();
    this.completionEnforcer = this.createCompletionEnforcer();
    this.setupStreamParsing();
    this.setupLogWatcher();
  }

  private createCompletionEnforcer(): CompletionEnforcer {
    const callbacks: CompletionEnforcerCallbacks = {
      onStartContinuation: async (prompt: string) => {
        await this.spawnSessionResumption(prompt);
      },
      onComplete: () => {
        this.hasCompleted = true;
        this.emit('complete', {
          status: 'success',
          sessionId: this.currentSessionId || undefined,
        });
      },
      onDebug: (type: string, message: string, data?: unknown) => {
        this.emit('debug', { type, message, data });
      },
    };
    return new CompletionEnforcer(callbacks);
  }

  private setupLogWatcher(): void {
    this.logWatcher = createLogWatcher();

    this.logWatcher.on('error', (error: OpenCodeLogError) => {
      if (!this.hasCompleted && this.ptyProcess) {
        console.log('[OpenCode Adapter] Log watcher detected error:', error.errorName);

        const errorMessage = OpenCodeLogWatcher.getErrorMessage(error);

        this.emit('debug', {
          type: 'error',
          message: `[${error.errorName}] ${errorMessage}`,
          data: {
            errorName: error.errorName,
            statusCode: error.statusCode,
            providerID: error.providerID,
            modelID: error.modelID,
            message: error.message,
          },
        });

        if (error.isAuthError && error.providerID) {
          console.log('[OpenCode Adapter] Emitting auth-error for provider:', error.providerID);
          this.emit('auth-error', {
            providerId: error.providerID,
            message: errorMessage,
          });
        }

        this.hasCompleted = true;
        this.emit('complete', {
          status: 'error',
          sessionId: this.currentSessionId || undefined,
          error: errorMessage,
        });

        if (this.ptyProcess) {
          try {
            this.ptyProcess.kill();
          } catch (err) {
            console.warn('[OpenCode Adapter] Error killing PTY after log error:', err);
          }
          this.ptyProcess = null;
        }
      }
    });
  }

  async startTask(config: TaskConfig): Promise<Task> {
    if (this.isDisposed) {
      throw new Error('Adapter has been disposed and cannot start new tasks');
    }

    const taskId = config.taskId || this.generateTaskId();
    this.currentTaskId = taskId;
    this.currentSessionId = null;
    this.currentModelId = config.modelId || null;
    this.messages = [];
    this.streamParser.reset();
    this.hasCompleted = false;
    this.wasInterrupted = false;
    this.completionEnforcer.reset();
    this.lastWorkingDirectory = config.workingDirectory;
    this.hasReceivedFirstTool = false;
    this.startTaskCalled = false;
    if (this.waitingTransitionTimer) {
      clearTimeout(this.waitingTransitionTimer);
      this.waitingTransitionTimer = null;
    }

    if (this.logWatcher) {
      await this.logWatcher.start();
    }

    if (this.options.onBeforeStart) {
      await this.options.onBeforeStart();
    }

    const cliArgs = await this.options.buildCliArgs(config);

    const { command, args: baseArgs } = this.options.getCliCommand();
    const startMsg = `Starting: ${command} ${[...baseArgs, ...cliArgs].join(' ')}`;
    console.log('[OpenCode CLI]', startMsg);
    this.emit('debug', { type: 'info', message: startMsg });

    const env = await this.options.buildEnvironment(taskId);

    const allArgs = [...baseArgs, ...cliArgs];
    const cmdMsg = `Command: ${command}`;
    const argsMsg = `Args: ${allArgs.join(' ')}`;
    const safeCwd = config.workingDirectory || this.options.tempPath;
    const cwdMsg = `Working directory: ${safeCwd}`;

    if (this.options.isPackaged && this.options.platform === 'win32') {
      const dummyPackageJson = path.join(safeCwd, 'package.json');
      if (!fs.existsSync(dummyPackageJson)) {
        try {
          fs.writeFileSync(dummyPackageJson, JSON.stringify({ name: 'opencode-workspace', private: true }, null, 2));
          console.log('[OpenCode CLI] Created workspace package.json at:', dummyPackageJson);
        } catch (err) {
          console.warn('[OpenCode CLI] Could not create workspace package.json:', err);
        }
      }
    }

    console.log('[OpenCode CLI]', cmdMsg);
    console.log('[OpenCode CLI]', argsMsg);
    console.log('[OpenCode CLI]', cwdMsg);

    this.emit('debug', { type: 'info', message: cmdMsg });
    this.emit('debug', { type: 'info', message: argsMsg, data: { args: allArgs } });
    this.emit('debug', { type: 'info', message: cwdMsg });

    {
      const fullCommand = this.buildShellCommand(command, allArgs);

      const shellCmdMsg = `Full shell command: ${fullCommand}`;
      console.log('[OpenCode CLI]', shellCmdMsg);
      this.emit('debug', { type: 'info', message: shellCmdMsg });

      const shellCmd = this.getPlatformShell();
      const shellArgs = this.getShellArgs(fullCommand);
      const shellMsg = `Using shell: ${shellCmd} ${shellArgs.join(' ')}`;
      console.log('[OpenCode CLI]', shellMsg);
      this.emit('debug', { type: 'info', message: shellMsg });

      this.ptyProcess = pty.spawn(shellCmd, shellArgs, {
        name: 'xterm-256color',
        cols: 32000,
        rows: 30,
        cwd: safeCwd,
        env: env as { [key: string]: string },
      });
      const pidMsg = `PTY Process PID: ${this.ptyProcess.pid}`;
      console.log('[OpenCode CLI]', pidMsg);
      this.emit('debug', { type: 'info', message: pidMsg });

      this.emit('progress', { stage: 'loading', message: 'Loading agent...' });

      this.ptyProcess.onData((data: string) => {
        const cleanData = data
          .replace(/\x1B\[[0-9;?]*[a-zA-Z]/g, '')
          .replace(/\x1B\][^\x07]*\x07/g, '')
          .replace(/\x1B\][^\x1B]*\x1B\\/g, '');
        if (cleanData.trim()) {
          const truncated = cleanData.substring(0, 500) + (cleanData.length > 500 ? '...' : '');
          console.log('[OpenCode CLI stdout]:', truncated);
          this.emit('debug', { type: 'stdout', message: cleanData });

          this.streamParser.feed(cleanData);
        }
      });

      this.ptyProcess.onExit(({ exitCode, signal }) => {
        const exitMsg = `PTY Process exited with code: ${exitCode}, signal: ${signal}`;
        console.log('[OpenCode CLI]', exitMsg);
        this.emit('debug', { type: 'exit', message: exitMsg, data: { exitCode, signal } });
        this.handleProcessExit(exitCode);
      });
    }

    return {
      id: taskId,
      prompt: config.prompt,
      status: 'running',
      messages: [],
      createdAt: new Date().toISOString(),
      startedAt: new Date().toISOString(),
    };
  }

  async resumeSession(sessionId: string, prompt: string): Promise<Task> {
    return this.startTask({
      prompt,
      sessionId,
    });
  }

  async sendResponse(response: string): Promise<void> {
    if (!this.ptyProcess) {
      throw new Error('No active process');
    }

    this.ptyProcess.write(response + '\n');
    console.log('[OpenCode CLI] Response sent via PTY');
  }

  async cancelTask(): Promise<void> {
    if (this.ptyProcess) {
      this.ptyProcess.kill();
      this.ptyProcess = null;
    }
  }

  async interruptTask(): Promise<void> {
    if (!this.ptyProcess) {
      console.log('[OpenCode CLI] No active process to interrupt');
      return;
    }

    this.wasInterrupted = true;

    this.ptyProcess.write('\x03');
    console.log('[OpenCode CLI] Sent Ctrl+C interrupt signal');

    if (this.options.platform === 'win32') {
      setTimeout(() => {
        if (this.ptyProcess) {
          this.ptyProcess.write('Y\n');
          console.log('[OpenCode CLI] Sent Y to confirm batch termination');
        }
      }, 100);
    }
  }

  getSessionId(): string | null {
    return this.currentSessionId;
  }

  getTaskId(): string | null {
    return this.currentTaskId;
  }

  get running(): boolean {
    return this.ptyProcess !== null && !this.hasCompleted;
  }

  isAdapterDisposed(): boolean {
    return this.isDisposed;
  }

  dispose(): void {
    if (this.isDisposed) {
      return;
    }

    console.log(`[OpenCode Adapter] Disposing adapter for task ${this.currentTaskId}`);
    this.isDisposed = true;

    if (this.logWatcher) {
      this.logWatcher.stop().catch((err) => {
        console.warn('[OpenCode Adapter] Error stopping log watcher:', err);
      });
    }

    if (this.ptyProcess) {
      try {
        this.ptyProcess.kill();
      } catch (error) {
        console.error('[OpenCode Adapter] Error killing PTY process:', error);
      }
      this.ptyProcess = null;
    }

    this.currentSessionId = null;
    this.currentTaskId = null;
    this.messages = [];
    this.hasCompleted = true;
    this.currentModelId = null;
    this.hasReceivedFirstTool = false;
    this.startTaskCalled = false;

    if (this.waitingTransitionTimer) {
      clearTimeout(this.waitingTransitionTimer);
      this.waitingTransitionTimer = null;
    }

    this.streamParser.reset();
    this.removeAllListeners();

    console.log('[OpenCode Adapter] Adapter disposed');
  }

  private escapeShellArg(arg: string): string {
    if (this.options.platform === 'win32') {
      if (arg.includes(' ') || arg.includes('"')) {
        return `"${arg.replace(/"/g, '""')}"`;
      }
      return arg;
    } else {
      const needsEscaping = ["'", ' ', '$', '`', '\\', '"', '\n'].some(c => arg.includes(c));
      if (needsEscaping) {
        return `'${arg.replace(/'/g, "'\\''")}'`;
      }
      return arg;
    }
  }

  private buildShellCommand(command: string, args: string[]): string {
    const escapedCommand = this.escapeShellArg(command);
    const escapedArgs = args.map(arg => this.escapeShellArg(arg));
    return [escapedCommand, ...escapedArgs].join(' ');
  }

  private setupStreamParsing(): void {
    this.streamParser.on('message', (message: OpenCodeMessage) => {
      this.handleMessage(message);
    });

    this.streamParser.on('error', (error: Error) => {
      console.warn('[OpenCode Adapter] Stream parse warning:', error.message);
      this.emit('debug', { type: 'parse-warning', message: error.message });
    });
  }

  private handleMessage(message: OpenCodeMessage): void {
    console.log('[OpenCode Adapter] Handling message type:', message.type);

    switch (message.type) {
      case 'step_start':
        this.currentSessionId = message.part.sessionID;
        const modelDisplayName = this.currentModelId && this.options.getModelDisplayName
          ? this.options.getModelDisplayName(this.currentModelId)
          : 'AI';
        this.emit('progress', {
          stage: 'connecting',
          message: `Connecting to ${modelDisplayName}...`,
          modelName: modelDisplayName,
        });
        if (this.waitingTransitionTimer) {
          clearTimeout(this.waitingTransitionTimer);
        }
        this.waitingTransitionTimer = setTimeout(() => {
          if (!this.hasReceivedFirstTool && !this.hasCompleted) {
            this.emit('progress', { stage: 'waiting', message: 'Waiting for response...' });
          }
        }, 500);
        break;

      case 'text':
        if (!this.currentSessionId && message.part.sessionID) {
          this.currentSessionId = message.part.sessionID;
        }
        this.emit('message', message);

        if (message.part.text) {
          const taskMessage: TaskMessage = {
            id: this.generateMessageId(),
            type: 'assistant',
            content: message.part.text,
            timestamp: new Date().toISOString(),
          };
          this.messages.push(taskMessage);
        }
        break;

      case 'tool_call':
        this.handleToolCall(message.part.tool || 'unknown', message.part.input, message.part.sessionID);
        break;

      case 'tool_use':
        const toolUseMessage = message as import('../../common/types/opencode.js').OpenCodeToolUseMessage;
        const toolUseName = toolUseMessage.part.tool || 'unknown';
        const toolUseInput = toolUseMessage.part.state?.input;
        const toolUseOutput = toolUseMessage.part.state?.output || '';

        this.handleToolCall(toolUseName, toolUseInput, toolUseMessage.part.sessionID);

        const toolDescription = (toolUseInput as { description?: string })?.description;
        if (toolDescription) {
          const syntheticTextMessage: OpenCodeMessage = {
            type: 'text',
            timestamp: message.timestamp,
            sessionID: message.sessionID,
            part: {
              id: this.generateMessageId(),
              sessionID: toolUseMessage.part.sessionID,
              messageID: toolUseMessage.part.messageID,
              type: 'text',
              text: toolDescription,
            },
          } as import('../../common/types/opencode.js').OpenCodeTextMessage;
          this.emit('message', syntheticTextMessage);
        }

        this.emit('message', message);
        const toolUseStatus = toolUseMessage.part.state?.status;

        console.log('[OpenCode Adapter] Tool use:', toolUseName, 'status:', toolUseStatus);

        if (toolUseStatus === 'completed' || toolUseStatus === 'error') {
          this.emit('tool-result', toolUseOutput);
        }

        if (toolUseName === 'AskUserQuestion') {
          this.handleAskUserQuestion(toolUseInput as AskUserQuestionInput);
        }
        break;

      case 'tool_result':
        const toolOutput = message.part.output || '';
        console.log('[OpenCode Adapter] Tool result received, length:', toolOutput.length);
        this.emit('tool-result', toolOutput);
        break;

      case 'step_finish':
        if (message.part.reason === 'error') {
          if (!this.hasCompleted) {
            this.hasCompleted = true;
            this.emit('complete', {
              status: 'error',
              sessionId: this.currentSessionId || undefined,
              error: 'Task failed',
            });
          }
          break;
        }

        const action = this.completionEnforcer.handleStepFinish(message.part.reason);
        console.log(`[OpenCode Adapter] step_finish action: ${action}`);

        if (action === 'complete' && !this.hasCompleted) {
          this.hasCompleted = true;
          this.emit('complete', {
            status: 'success',
            sessionId: this.currentSessionId || undefined,
          });
        }
        break;

      case 'error':
        this.hasCompleted = true;
        this.emit('complete', {
          status: 'error',
          sessionId: this.currentSessionId || undefined,
          error: message.error,
        });
        break;

      default:
        const unknownMessage = message as unknown as { type: string };
        console.log('[OpenCode Adapter] Unknown message type:', unknownMessage.type);
    }
  }

  private handleToolCall(toolName: string, toolInput: unknown, sessionID?: string): void {
    console.log('[OpenCode Adapter] Tool call:', toolName);

    if (this.isStartTaskTool(toolName)) {
      this.startTaskCalled = true;
      const startInput = toolInput as StartTaskInput;
      if (startInput?.goal && startInput?.steps) {
        this.emitPlanMessage(startInput, sessionID || this.currentSessionId || '');
        const todos: TodoItem[] = startInput.steps.map((step, i) => ({
          id: String(i + 1),
          content: step,
          status: i === 0 ? 'in_progress' : 'pending',
          priority: 'medium',
        }));
        if (todos.length > 0) {
          this.emit('todo:update', todos);
          this.completionEnforcer.updateTodos(todos);
          console.log('[OpenCode Adapter] Created todos from start_task steps');
        }
      }
    }

    if (!this.startTaskCalled && !this.isExemptTool(toolName)) {
      console.warn(`[OpenCode Adapter] Tool "${toolName}" called before start_task`);
      this.emit('debug', {
        type: 'warning',
        message: `Tool "${toolName}" called before start_task - plan may not be captured`,
      });
    }

    if (!this.hasReceivedFirstTool) {
      this.hasReceivedFirstTool = true;
      if (this.waitingTransitionTimer) {
        clearTimeout(this.waitingTransitionTimer);
        this.waitingTransitionTimer = null;
      }
    }

    this.completionEnforcer.markToolsUsed();

    if (toolName === 'complete_task' || toolName.endsWith('_complete_task')) {
      this.completionEnforcer.handleCompleteTaskDetection(toolInput);
    }

    if (toolName === 'todowrite' || toolName.endsWith('_todowrite')) {
      const input = toolInput as { todos?: TodoItem[] };
      if (input?.todos && Array.isArray(input.todos) && input.todos.length > 0) {
        this.emit('todo:update', input.todos);
        this.completionEnforcer.updateTodos(input.todos);
      }
    }

    this.emit('tool-use', toolName, toolInput);
    this.emit('progress', {
      stage: 'tool-use',
      message: `Using ${toolName}`,
    });

    if (toolName === 'AskUserQuestion') {
      this.handleAskUserQuestion(toolInput as AskUserQuestionInput);
    }
  }

  private handleAskUserQuestion(input: AskUserQuestionInput): void {
    const question = input.questions?.[0];
    if (!question) return;

    const permissionRequest: PermissionRequest = {
      id: this.generateRequestId(),
      taskId: this.currentTaskId || '',
      type: 'question',
      question: question.question,
      options: question.options?.map((o) => ({
        label: o.label,
        description: o.description,
      })),
      multiSelect: question.multiSelect,
      createdAt: new Date().toISOString(),
    };

    this.emit('permission-request', permissionRequest);
  }

  private handleProcessExit(code: number | null): void {
    this.ptyProcess = null;

    if (this.wasInterrupted && code === 0 && !this.hasCompleted) {
      console.log('[OpenCode CLI] Task was interrupted by user');
      this.hasCompleted = true;
      this.emit('complete', {
        status: 'interrupted',
        sessionId: this.currentSessionId || undefined,
      });
      this.currentTaskId = null;
      return;
    }

    if (code === 0 && !this.hasCompleted) {
      this.completionEnforcer.handleProcessExit(code).catch((error) => {
        console.error('[OpenCode Adapter] Completion enforcer error:', error);
        this.hasCompleted = true;
        this.emit('complete', {
          status: 'error',
          sessionId: this.currentSessionId || undefined,
          error: `Failed to complete: ${error.message}`,
        });
      });
      return;
    }

    if (!this.hasCompleted) {
      if (code !== null && code !== 0) {
        this.emit('error', new Error(`OpenCode CLI exited with code ${code}`));
      }
    }

    this.currentTaskId = null;
  }

  private async spawnSessionResumption(prompt: string): Promise<void> {
    const sessionId = this.currentSessionId;
    if (!sessionId) {
      throw new Error('No session ID available for session resumption');
    }

    console.log(`[OpenCode Adapter] Starting session resumption with session ${sessionId}`);

    this.streamParser.reset();

    const config: TaskConfig = {
      prompt,
      sessionId: sessionId,
      workingDirectory: this.lastWorkingDirectory,
    };

    const cliArgs = await this.options.buildCliArgs(config);

    const { command, args: baseArgs } = this.options.getCliCommand();
    console.log('[OpenCode Adapter] Session resumption command:', command, [...baseArgs, ...cliArgs].join(' '));

    const env = await this.options.buildEnvironment(this.currentTaskId || 'default');

    const allArgs = [...baseArgs, ...cliArgs];
    const safeCwd = config.workingDirectory || this.options.tempPath;

    const fullCommand = this.buildShellCommand(command, allArgs);

    const shellCmd = this.getPlatformShell();
    const shellArgs = this.getShellArgs(fullCommand);

    this.ptyProcess = pty.spawn(shellCmd, shellArgs, {
      name: 'xterm-256color',
      cols: 32000,
      rows: 30,
      cwd: safeCwd,
      env: env as { [key: string]: string },
    });

    this.ptyProcess.onData((data: string) => {
      const cleanData = data
        .replace(/\x1B\[[0-9;?]*[a-zA-Z]/g, '')
        .replace(/\x1B\][^\x07]*\x07/g, '')
        .replace(/\x1B\][^\x1B]*\x1B\\/g, '');
      if (cleanData.trim()) {
        const truncated = cleanData.substring(0, 500) + (cleanData.length > 500 ? '...' : '');
        console.log('[OpenCode CLI stdout]:', truncated);
        this.emit('debug', { type: 'stdout', message: cleanData });

        this.streamParser.feed(cleanData);
      }
    });

    this.ptyProcess.onExit(({ exitCode }) => {
      this.handleProcessExit(exitCode);
    });
  }

  private generateTaskId(): string {
    return `task_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;
  }

  private generateMessageId(): string {
    return `msg_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;
  }

  private generateRequestId(): string {
    return `req_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;
  }

  private isStartTaskTool(toolName: string): boolean {
    return toolName === 'start_task' || toolName.endsWith('_start_task');
  }

  private isExemptTool(toolName: string): boolean {
    if (toolName === 'todowrite' || toolName.endsWith('_todowrite')) {
      return true;
    }
    if (this.isStartTaskTool(toolName)) {
      return true;
    }
    return false;
  }

  private emitPlanMessage(input: StartTaskInput, sessionId: string): void {
    const verificationSection = input.verification?.length
      ? `\n\n**Verification:**\n${input.verification.map((v, i) => `${i + 1}. ${v}`).join('\n')}`
      : '';
    const skillsSection = input.skills?.length
      ? `\n\n**Skills:** ${input.skills.join(', ')}`
      : '';
    const planText = `**Plan:**\n\n**Goal:** ${input.goal}\n\n**Steps:**\n${input.steps.map((s, i) => `${i + 1}. ${s}`).join('\n')}${verificationSection}${skillsSection}`;

    const syntheticMessage: OpenCodeMessage = {
      type: 'text',
      timestamp: Date.now(),
      sessionID: sessionId,
      part: {
        id: this.generateMessageId(),
        sessionID: sessionId,
        messageID: this.generateMessageId(),
        type: 'text',
        text: planText,
      },
    } as import('../../common/types/opencode.js').OpenCodeTextMessage;

    this.emit('message', syntheticMessage);
    console.log('[OpenCode Adapter] Emitted synthetic plan message');
  }

  private getPlatformShell(): string {
    if (this.options.platform === 'win32') {
      return 'cmd.exe';
    } else if (this.options.isPackaged && this.options.platform === 'darwin') {
      return '/bin/sh';
    } else {
      const userShell = process.env.SHELL;
      if (userShell) {
        return userShell;
      }
      if (fs.existsSync('/bin/bash')) return '/bin/bash';
      if (fs.existsSync('/bin/zsh')) return '/bin/zsh';
      return '/bin/sh';
    }
  }

  private getShellArgs(command: string): string[] {
    if (this.options.platform === 'win32') {
      return ['/s', '/c', command];
    } else {
      return ['-c', command];
    }
  }
}

interface AskUserQuestionInput {
  questions?: Array<{
    question: string;
    header?: string;
    options?: Array<{ label: string; description?: string }>;
    multiSelect?: boolean;
  }>;
}

interface StartTaskInput {
  original_request: string;
  goal: string;
  steps: string[];
  verification: string[];
  skills: string[];
}

export function createAdapter(options: AdapterOptions, taskId?: string): OpenCodeAdapter {
  return new OpenCodeAdapter(options, taskId);
}


--- packages/agent-core/src/internal/classes/OpenCodeLogWatcher.ts ---
import { EventEmitter } from 'events';
import fs from 'fs';
import path from 'path';
import os from 'os';

export interface OpenCodeLogError {
  timestamp: string;
  service: string;
  providerID?: string;
  modelID?: string;
  sessionID?: string;
  errorName: string;
  statusCode?: number;
  message?: string;
  raw: string;
  isAuthError?: boolean;
}

const ERROR_PATTERNS: Array<{
  pattern: RegExp;
  extract: (match: RegExpMatchArray, line: string) => Partial<OpenCodeLogError>;
}> = [
  {
    pattern: /openai.*(?:invalid_api_key|invalid_token|token.*expired|oauth.*invalid|Incorrect API key)/i,
    extract: () => ({
      errorName: 'OAuthExpiredError',
      statusCode: 401,
      message: 'Your OpenAI session has expired. Please re-authenticate.',
      providerID: 'openai',
      isAuthError: true,
    }),
  },
  {
    pattern: /openai.*"status":\s*401|"status":\s*401.*openai|providerID=openai.*statusCode.*401/i,
    extract: () => ({
      errorName: 'OAuthUnauthorizedError',
      statusCode: 401,
      message: 'Your OpenAI session has expired. Please re-authenticate.',
      providerID: 'openai',
      isAuthError: true,
    }),
  },
  {
    pattern: /openai.*authentication.*failed|authentication.*failed.*openai/i,
    extract: () => ({
      errorName: 'OAuthAuthenticationError',
      statusCode: 401,
      message: 'OpenAI authentication failed. Please re-authenticate.',
      providerID: 'openai',
      isAuthError: true,
    }),
  },
  {
    pattern: /ThrottlingException.*?"message":"([^"]+)"/,
    extract: (match) => ({
      errorName: 'ThrottlingException',
      statusCode: 429,
      message: match[1] || 'Rate limit exceeded. Please wait before trying again.',
    }),
  },
  {
    pattern: /"name":"AI_APICallError".*?"statusCode":(\d+).*?"message":"([^"]+)"/,
    extract: (match) => ({
      errorName: 'AI_APICallError',
      statusCode: parseInt(match[1], 10),
      message: match[2],
    }),
  },
  {
    pattern: /"name":"AI_APICallError".*?"statusCode":(\d+)/,
    extract: (match) => ({
      errorName: 'AI_APICallError',
      statusCode: parseInt(match[1], 10),
      message: `API call failed with status ${match[1]}`,
    }),
  },
  {
    pattern: /AccessDeniedException|UnauthorizedException|InvalidSignatureException/,
    extract: () => ({
      errorName: 'AuthenticationError',
      statusCode: 403,
      message: 'Authentication failed. Please check your credentials.',
    }),
  },
  {
    pattern: /ModelNotFoundError|ResourceNotFoundException.*model/i,
    extract: () => ({
      errorName: 'ModelNotFoundError',
      statusCode: 404,
      message: 'The requested model was not found or is not available in your region.',
    }),
  },
  {
    pattern: /ValidationException.*?"message":"([^"]+)"/,
    extract: (match) => ({
      errorName: 'ValidationError',
      statusCode: 400,
      message: match[1] || 'Invalid request parameters.',
    }),
  },
];

export interface LogWatcherEvents {
  error: [OpenCodeLogError];
  'log-line': [string];
}

export class OpenCodeLogWatcher extends EventEmitter<LogWatcherEvents> {
  private logDir: string;
  private watcher: fs.FSWatcher | null = null;
  private currentLogFile: string | null = null;
  private fileHandle: fs.promises.FileHandle | null = null;
  private readPosition: number = 0;
  private isWatching: boolean = false;
  private pollInterval: NodeJS.Timeout | null = null;
  private seenErrors: Set<string> = new Set();

  constructor(logDir?: string) {
    super();
    this.logDir = logDir || path.join(os.homedir(), '.local', 'share', 'opencode', 'log');
  }

  async start(): Promise<void> {
    if (this.isWatching) {
      return;
    }

    this.isWatching = true;
    this.seenErrors.clear();

    await this.findAndWatchLatestLog();

    this.pollInterval = setInterval(() => {
      this.readNewContent();
    }, 500);

    try {
      this.watcher = fs.watch(this.logDir, (eventType, filename) => {
        if (eventType === 'rename' && filename?.endsWith('.log')) {
          this.findAndWatchLatestLog();
        }
      });
    } catch (err) {
      console.warn('[LogWatcher] Could not watch log directory:', err);
    }
  }

  async stop(): Promise<void> {
    this.isWatching = false;

    if (this.pollInterval) {
      clearInterval(this.pollInterval);
      this.pollInterval = null;
    }

    if (this.watcher) {
      this.watcher.close();
      this.watcher = null;
    }

    if (this.fileHandle) {
      await this.fileHandle.close();
      this.fileHandle = null;
    }

    this.currentLogFile = null;
    this.readPosition = 0;
    this.seenErrors.clear();
  }

  private async findAndWatchLatestLog(): Promise<void> {
    try {
      const files = await fs.promises.readdir(this.logDir);
      const logFiles = files
        .filter((f) => f.endsWith('.log'))
        .sort()
        .reverse();

      if (logFiles.length === 0) {
        return;
      }

      const latestLog = path.join(this.logDir, logFiles[0]);

      if (latestLog === this.currentLogFile) {
        return;
      }

      if (this.fileHandle) {
        await this.fileHandle.close();
      }

      this.currentLogFile = latestLog;

      this.fileHandle = await fs.promises.open(latestLog, 'r');
      const stat = await this.fileHandle.stat();
      this.readPosition = stat.size;

      console.log('[LogWatcher] Watching log file:', latestLog);
    } catch (err) {
      console.warn('[LogWatcher] Error finding latest log:', err);
    }
  }

  private async readNewContent(): Promise<void> {
    if (!this.fileHandle || !this.isWatching) {
      return;
    }

    try {
      const stat = await this.fileHandle.stat();
      if (stat.size <= this.readPosition) {
        return;
      }

      const bufferSize = stat.size - this.readPosition;
      const buffer = Buffer.alloc(bufferSize);
      const { bytesRead } = await this.fileHandle.read(
        buffer,
        0,
        bufferSize,
        this.readPosition
      );

      this.readPosition += bytesRead;

      const content = buffer.toString('utf-8', 0, bytesRead);
      const lines = content.split('\n');

      for (const line of lines) {
        if (line.trim()) {
          this.emit('log-line', line);
          this.parseLine(line);
        }
      }
    } catch (err) {
      if ((err as NodeJS.ErrnoException).code === 'ENOENT') {
        await this.findAndWatchLatestLog();
      }
    }
  }

  private parseLine(line: string): void {
    if (!line.includes('ERROR')) {
      return;
    }

    const timestampMatch = line.match(/^(\w+)\s+(\S+)\s+(\+\d+ms)/);
    const serviceMatch = line.match(/service=(\S+)/);
    const providerMatch = line.match(/providerID=(\S+)/);
    const modelMatch = line.match(/modelID=(\S+)/);
    const sessionMatch = line.match(/sessionID=(\S+)/);

    for (const { pattern, extract } of ERROR_PATTERNS) {
      const match = line.match(pattern);
      if (match) {
        const errorInfo = extract(match, line);

        const errorKey = `${errorInfo.errorName}:${errorInfo.statusCode}:${sessionMatch?.[1] || ''}`;
        if (this.seenErrors.has(errorKey)) {
          continue;
        }
        this.seenErrors.add(errorKey);

        const error: OpenCodeLogError = {
          timestamp: timestampMatch?.[2] || new Date().toISOString(),
          service: serviceMatch?.[1] || 'unknown',
          providerID: providerMatch?.[1],
          modelID: modelMatch?.[1],
          sessionID: sessionMatch?.[1],
          errorName: errorInfo.errorName || 'UnknownError',
          statusCode: errorInfo.statusCode,
          message: errorInfo.message,
          raw: line,
        };

        console.log('[LogWatcher] Detected error:', error.errorName, error.message);
        this.emit('error', error);
        return;
      }
    }
  }

  static getErrorMessage(error: OpenCodeLogError): string {
    switch (error.errorName) {
      case 'OAuthExpiredError':
      case 'OAuthUnauthorizedError':
      case 'OAuthAuthenticationError':
        return error.message || 'Your session has expired. Please re-authenticate.';
      case 'ThrottlingException':
        return `Rate limit exceeded: ${error.message || 'Please wait before trying again.'}`;
      case 'AuthenticationError':
        return 'Authentication failed. Please check your API credentials in Settings.';
      case 'ModelNotFoundError':
        return `Model not available: ${error.modelID || 'unknown'}. Please select a different model.`;
      case 'ValidationError':
        return `Invalid request: ${error.message}`;
      case 'AI_APICallError':
        if (error.statusCode === 429) {
          return `Rate limit exceeded: ${error.message || 'Please wait before trying again.'}`;
        }
        if (error.statusCode === 503) {
          return 'Service temporarily unavailable. Please try again later.';
        }
        return `API error (${error.statusCode}): ${error.message || 'Unknown error'}`;
      default:
        return error.message || `Error: ${error.errorName}`;
    }
  }
}

export function createLogWatcher(logDir?: string): OpenCodeLogWatcher {
  return new OpenCodeLogWatcher(logDir);
}


--- apps/desktop/__tests__/integration/main/permission-api.integration.test.ts ---
/**
 * Integration tests for Permission API
 *
 * Tests the REAL exported functions from permission-api module:
 * - isFilePermissionRequest() - checks if request ID is a file permission
 * - resolvePermission() - resolves a pending permission request
 * - initPermissionApi() - initializes the API with window and task getter
 * - startPermissionApiServer() - starts the HTTP server
 * - PERMISSION_API_PORT - the port constant
 *
 * These tests mock only electron (external dependency) and test the real
 * module behavior.
 */

import { describe, it, expect, vi, beforeEach, afterEach } from 'vitest';

// Mock electron before importing the module
vi.mock('electron', () => ({
  BrowserWindow: {
    fromWebContents: vi.fn(),
    getFocusedWindow: vi.fn(),
    getAllWindows: vi.fn(() => []),
  },
  app: {
    isPackaged: false,
    getPath: vi.fn(() => '/tmp/test-app'),
  },
}));

// Import the REAL module functions after mocking electron
import {
  isFilePermissionRequest,
  resolvePermission,
  initPermissionApi,
  startPermissionApiServer,
  PERMISSION_API_PORT,
} from '@main/permission-api';

describe('Permission API Integration', () => {
  beforeEach(() => {
    vi.clearAllMocks();
  });

  afterEach(() => {
    vi.clearAllMocks();
  });

  describe('isFilePermissionRequest', () => {
    it('should return true for IDs starting with filereq_', () => {
      expect(isFilePermissionRequest('filereq_123')).toBe(true);
      expect(isFilePermissionRequest('filereq_abc_def')).toBe(true);
      expect(isFilePermissionRequest('filereq_1234567890_abcdefghi')).toBe(true);
      expect(isFilePermissionRequest('filereq_')).toBe(true);
    });

    it('should return false for IDs not starting with filereq_', () => {
      expect(isFilePermissionRequest('req_123')).toBe(false);
      expect(isFilePermissionRequest('permission_abc')).toBe(false);
      expect(isFilePermissionRequest('file_req_123')).toBe(false);
      expect(isFilePermissionRequest('FILEREQ_123')).toBe(false); // case sensitive
      expect(isFilePermissionRequest('')).toBe(false);
      expect(isFilePermissionRequest('filereq')).toBe(false); // missing underscore
      expect(isFilePermissionRequest('_filereq_123')).toBe(false);
    });
  });

  describe('resolvePermission', () => {
    it('should return false for non-existent request ID', () => {
      // The real function returns false when the request is not in pending
      expect(resolvePermission('filereq_nonexistent', true)).toBe(false);
      expect(resolvePermission('filereq_notpending', false)).toBe(false);
    });

    it('should return false when called multiple times with same ID', () => {
      const requestId = 'filereq_double_resolve';
      // First call returns false (not pending)
      expect(resolvePermission(requestId, true)).toBe(false);
      // Second call also returns false (still not pending)
      expect(resolvePermission(requestId, false)).toBe(false);
    });
  });

  describe('PERMISSION_API_PORT', () => {
    it('should be exported with correct value', () => {
      expect(PERMISSION_API_PORT).toBe(9226);
    });
  });

  describe('initPermissionApi', () => {
    it('should accept window and task getter without throwing', () => {
      const mockWindow = {
        isDestroyed: () => false,
        webContents: {
          send: vi.fn(),
          isDestroyed: () => false,
        },
      } as unknown as import('electron').BrowserWindow;
      const mockTaskGetter = () => 'task_123';

      expect(() => initPermissionApi(mockWindow, mockTaskGetter)).not.toThrow();
    });

    it('should be a function', () => {
      expect(typeof initPermissionApi).toBe('function');
    });
  });

  describe('startPermissionApiServer', () => {
    it('should be a function', () => {
      expect(typeof startPermissionApiServer).toBe('function');
    });

    it('should return an HTTP server when called', () => {
      const server = startPermissionApiServer();
      expect(server).toBeDefined();
      // Clean up - close the server
      server?.close();
    });
  });
});


--- packages/agent-core/src/internal/classes/PermissionRequestHandler.ts ---
/**
 * Permission Request Handler
 *
 * Reusable logic for handling permission and question requests.
 * This module manages request state, timeouts, and validation.
 * The Electron-specific parts (IPC, HTTP servers) remain in the desktop app.
 */

import {
  FILE_OPERATIONS,
  PERMISSION_REQUEST_TIMEOUT_MS,
  createFilePermissionRequestId,
  createQuestionRequestId,
} from '../../common/index.js';
import type { FileOperation, PermissionRequest, PermissionOption } from '../../common/types/permission.js';

/**
 * Generic pending request interface
 */
export interface PendingRequest<T> {
  resolve: (result: T) => void;
  reject: (error: Error) => void;
  timeoutId: NodeJS.Timeout;
}

/**
 * Validation result for permission request data
 */
export interface PermissionValidationResult {
  valid: boolean;
  error?: string;
}

/**
 * Raw file permission request data (from HTTP request body)
 */
export interface FilePermissionRequestData {
  operation?: string;
  filePath?: string;
  filePaths?: string[];
  targetPath?: string;
  contentPreview?: string;
}

/**
 * Raw question request data (from HTTP request body)
 */
export interface QuestionRequestData {
  question?: string;
  header?: string;
  options?: Array<{ label: string; description?: string }>;
  multiSelect?: boolean;
}

/**
 * Question response data
 */
export interface QuestionResponseData {
  selectedOptions?: string[];
  customText?: string;
  denied?: boolean;
}

/**
 * Handles permission and question request lifecycle.
 * Manages pending requests, timeouts, and validation.
 */
export class PermissionRequestHandler {
  private pendingPermissions = new Map<string, PendingRequest<boolean>>();
  private pendingQuestions = new Map<string, PendingRequest<QuestionResponseData>>();
  private defaultTimeoutMs: number;

  constructor(timeoutMs: number = PERMISSION_REQUEST_TIMEOUT_MS) {
    this.defaultTimeoutMs = timeoutMs;
  }

  /**
   * Create a new permission request and wait for response
   * @param timeoutMs - Optional timeout override
   * @returns Promise that resolves when user responds
   */
  createPermissionRequest(timeoutMs?: number): { requestId: string; promise: Promise<boolean> } {
    const requestId = createFilePermissionRequestId();
    const timeout = timeoutMs ?? this.defaultTimeoutMs;

    const promise = new Promise<boolean>((resolve, reject) => {
      const timeoutId = setTimeout(() => {
        this.pendingPermissions.delete(requestId);
        reject(new Error('Permission request timed out'));
      }, timeout);

      this.pendingPermissions.set(requestId, { resolve, reject, timeoutId });
    });

    return { requestId, promise };
  }

  /**
   * Create a new question request and wait for response
   * @param timeoutMs - Optional timeout override
   * @returns Promise that resolves when user responds
   */
  createQuestionRequest(timeoutMs?: number): { requestId: string; promise: Promise<QuestionResponseData> } {
    const requestId = createQuestionRequestId();
    const timeout = timeoutMs ?? this.defaultTimeoutMs;

    const promise = new Promise<QuestionResponseData>((resolve, reject) => {
      const timeoutId = setTimeout(() => {
        this.pendingQuestions.delete(requestId);
        reject(new Error('Question request timed out'));
      }, timeout);

      this.pendingQuestions.set(requestId, { resolve, reject, timeoutId });
    });

    return { requestId, promise };
  }

  /**
   * Resolve a pending permission request
   * @param requestId - The request ID to resolve
   * @param allowed - Whether permission was granted
   * @returns true if request was found and resolved, false otherwise
   */
  resolvePermissionRequest(requestId: string, allowed: boolean): boolean {
    const pending = this.pendingPermissions.get(requestId);
    if (!pending) {
      return false;
    }

    clearTimeout(pending.timeoutId);
    pending.resolve(allowed);
    this.pendingPermissions.delete(requestId);
    return true;
  }

  /**
   * Resolve a pending question request
   * @param requestId - The request ID to resolve
   * @param response - The user's response
   * @returns true if request was found and resolved, false otherwise
   */
  resolveQuestionRequest(requestId: string, response: QuestionResponseData): boolean {
    const pending = this.pendingQuestions.get(requestId);
    if (!pending) {
      return false;
    }

    clearTimeout(pending.timeoutId);
    pending.resolve(response);
    this.pendingQuestions.delete(requestId);
    return true;
  }

  /**
   * Validate file permission request data
   * @param data - Raw request data to validate
   * @returns Validation result with error message if invalid
   */
  validateFilePermissionRequest(data: unknown): PermissionValidationResult {
    if (!data || typeof data !== 'object') {
      return { valid: false, error: 'Invalid request data' };
    }

    const requestData = data as FilePermissionRequestData;

    // Check required fields
    if (!requestData.operation) {
      return { valid: false, error: 'operation is required' };
    }

    if (!requestData.filePath && (!requestData.filePaths || requestData.filePaths.length === 0)) {
      return { valid: false, error: 'operation and either filePath or filePaths are required' };
    }

    // Validate operation type
    if (!FILE_OPERATIONS.includes(requestData.operation as FileOperation)) {
      return {
        valid: false,
        error: `Invalid operation. Must be one of: ${FILE_OPERATIONS.join(', ')}`,
      };
    }

    return { valid: true };
  }

  /**
   * Validate question request data
   * @param data - Raw request data to validate
   * @returns Validation result with error message if invalid
   */
  validateQuestionRequest(data: unknown): PermissionValidationResult {
    if (!data || typeof data !== 'object') {
      return { valid: false, error: 'Invalid request data' };
    }

    const requestData = data as QuestionRequestData;

    if (!requestData.question) {
      return { valid: false, error: 'question is required' };
    }

    return { valid: true };
  }

  /**
   * Build a PermissionRequest object for file operations
   * @param requestId - The request ID
   * @param taskId - The associated task ID
   * @param data - The validated request data
   * @returns PermissionRequest object ready to send to the UI
   */
  buildFilePermissionRequest(
    requestId: string,
    taskId: string,
    data: FilePermissionRequestData
  ): PermissionRequest {
    return {
      id: requestId,
      taskId,
      type: 'file',
      fileOperation: data.operation as FileOperation,
      filePath: data.filePath,
      filePaths: data.filePaths,
      targetPath: data.targetPath,
      contentPreview: data.contentPreview?.substring(0, 500),
      createdAt: new Date().toISOString(),
    };
  }

  /**
   * Build a PermissionRequest object for questions
   * @param requestId - The request ID
   * @param taskId - The associated task ID
   * @param data - The validated request data
   * @returns PermissionRequest object ready to send to the UI
   */
  buildQuestionRequest(
    requestId: string,
    taskId: string,
    data: QuestionRequestData
  ): PermissionRequest {
    return {
      id: requestId,
      taskId,
      type: 'question',
      question: data.question,
      header: data.header,
      options: data.options as PermissionOption[],
      multiSelect: data.multiSelect,
      createdAt: new Date().toISOString(),
    };
  }

  /**
   * Check if there are any pending permission requests
   */
  hasPendingPermissions(): boolean {
    return this.pendingPermissions.size > 0;
  }

  /**
   * Check if there are any pending question requests
   */
  hasPendingQuestions(): boolean {
    return this.pendingQuestions.size > 0;
  }

  /**
   * Get the count of pending permission requests
   */
  getPendingPermissionCount(): number {
    return this.pendingPermissions.size;
  }

  /**
   * Get the count of pending question requests
   */
  getPendingQuestionCount(): number {
    return this.pendingQuestions.size;
  }

  /**
   * Clear all pending requests (e.g., on shutdown)
   * Rejects all pending promises with a cancellation error
   */
  clearAll(): void {
    for (const [requestId, pending] of this.pendingPermissions) {
      clearTimeout(pending.timeoutId);
      pending.reject(new Error('Request cancelled'));
    }
    this.pendingPermissions.clear();

    for (const [requestId, pending] of this.pendingQuestions) {
      clearTimeout(pending.timeoutId);
      pending.reject(new Error('Request cancelled'));
    }
    this.pendingQuestions.clear();
  }
}


--- packages/agent-core/mcp-tools/dev-browser/references/scraping.md ---
# Data Scraping Guide

For large datasets (followers, posts, search results), **intercept and replay network requests** rather than scrolling and parsing the DOM. This is faster, more reliable, and handles pagination automatically.

## Why Not Scroll?

Scrolling is slow, unreliable, and wastes time. APIs return structured data with pagination built in. Always prefer API replay.

## Start Small, Then Scale

**Don't try to automate everything at once.** Work incrementally:

1. **Capture one request** - verify you're intercepting the right endpoint
2. **Inspect one response** - understand the schema before writing extraction code
3. **Extract a few items** - make sure your parsing logic works
4. **Then scale up** - add pagination loop only after the basics work

This prevents wasting time debugging a complex script when the issue is a simple path like `data.user.timeline` vs `data.user.result.timeline`.

## Step-by-Step Workflow

### 1. Capture Request Details

First, intercept a request to understand URL structure and required headers:

```typescript
import { connect, waitForPageLoad } from "@/client.js";
import * as fs from "node:fs";

const client = await connect();
const page = await client.page("site");

let capturedRequest = null;
page.on("request", (request) => {
  const url = request.url();
  // Look for API endpoints (adjust pattern for your target site)
  if (url.includes("/api/") || url.includes("/graphql/")) {
    capturedRequest = {
      url: url,
      headers: request.headers(),
      method: request.method(),
    };
    fs.writeFileSync("tmp/request-details.json", JSON.stringify(capturedRequest, null, 2));
    console.log("Captured request:", url.substring(0, 80) + "...");
  }
});

await page.goto("https://example.com/profile");
await waitForPageLoad(page);
await page.waitForTimeout(3000);

await client.disconnect();
```

### 2. Capture Response to Understand Schema

Save a raw response to inspect the data structure:

```typescript
page.on("response", async (response) => {
  const url = response.url();
  if (url.includes("UserTweets") || url.includes("/api/data")) {
    const json = await response.json();
    fs.writeFileSync("tmp/api-response.json", JSON.stringify(json, null, 2));
    console.log("Captured response");
  }
});
```

Then analyze the structure to find:

- Where the data array lives (e.g., `data.user.result.timeline.instructions[].entries`)
- Where pagination cursors are (e.g., `cursor-bottom` entries)
- What fields you need to extract

### 3. Replay API with Pagination

Once you understand the schema, replay requests directly:

```typescript
import { connect } from "@/client.js";
import * as fs from "node:fs";

const client = await connect();
const page = await client.page("site");

const results = new Map(); // Use Map for deduplication
const headers = JSON.parse(fs.readFileSync("tmp/request-details.json", "utf8")).headers;
const baseUrl = "https://example.com/api/data";

let cursor = null;
let hasMore = true;

while (hasMore) {
  // Build URL with pagination cursor
  const params = { count: 20 };
  if (cursor) params.cursor = cursor;
  const url = `${baseUrl}?params=${encodeURIComponent(JSON.stringify(params))}`;

  // Execute fetch in browser context (has auth cookies/headers)
  const response = await page.evaluate(
    async ({ url, headers }) => {
      const res = await fetch(url, { headers });
      return res.json();
    },
    { url, headers }
  );

  // Extract data and cursor (adjust paths for your API)
  const entries = response?.data?.entries || [];
  for (const entry of entries) {
    if (entry.type === "cursor-bottom") {
      cursor = entry.value;
    } else if (entry.id && !results.has(entry.id)) {
      results.set(entry.id, {
        id: entry.id,
        text: entry.content,
        timestamp: entry.created_at,
      });
    }
  }

  console.log(`Fetched page, total: ${results.size}`);

  // Check stop conditions
  if (!cursor || entries.length === 0) hasMore = false;

  // Rate limiting - be respectful
  await new Promise((r) => setTimeout(r, 500));
}

// Export results
const data = Array.from(results.values());
fs.writeFileSync("tmp/results.json", JSON.stringify(data, null, 2));
console.log(`Saved ${data.length} items`);

await client.disconnect();
```

## Key Patterns

| Pattern                 | Description                                            |
| ----------------------- | ------------------------------------------------------ |
| `page.on('request')`    | Capture outgoing request URL + headers                 |
| `page.on('response')`   | Capture response data to understand schema             |
| `page.evaluate(fetch)`  | Replay requests in browser context (inherits auth)     |
| `Map` for deduplication | APIs often return overlapping data across pages        |
| Cursor-based pagination | Look for `cursor`, `next_token`, `offset` in responses |

## Tips

- **Extension mode**: `page.context().cookies()` doesn't work - capture auth headers from intercepted requests instead
- **Rate limiting**: Add 500ms+ delays between requests to avoid blocks
- **Stop conditions**: Check for empty results, missing cursor, or reaching a date/ID threshold
- **GraphQL APIs**: URL params often include `variables` and `features` JSON objects - capture and reuse them


--- CONTRIBUTING.md ---
# Contributing to Accomplish

Thank you for your interest in contributing to Accomplish! This document provides guidelines and instructions for contributing.

## Getting Started

1. Fork the repository
2. Clone your fork: `git clone https://github.com/YOUR_USERNAME/accomplish.git`
3. Install dependencies: `pnpm install`
4. Create a branch: `git checkout -b feature/your-feature-name`

## Development

```bash
pnpm dev          # Run the desktop app in development mode
pnpm build        # Build all workspaces
pnpm typecheck    # Run TypeScript checks
pnpm lint         # Run linting
```

## Code Style

- TypeScript for all application code
- Follow existing patterns in the codebase
- Use meaningful variable and function names
- Keep functions focused and small

## Pull Request Process

1. Ensure your code builds without errors (`pnpm build`)
2. Run type checking (`pnpm typecheck`)
3. Update documentation if needed
4. Write a clear PR description explaining:
   - What the change does
   - Why it's needed
   - How to test it

## Commit Messages

Use clear, descriptive commit messages:
- `feat: add dark mode support`
- `fix: resolve crash on startup`
- `docs: update README with new instructions`
- `refactor: simplify task queue logic`

## Reporting Issues

When reporting issues, please include:
- OS and version
- Steps to reproduce
- Expected vs actual behavior
- Any error messages or logs

## Security

If you discover a security vulnerability, please see [SECURITY.md](SECURITY.md) for responsible disclosure guidelines.

## License

By contributing, you agree that your contributions will be licensed under the MIT License.


## Links discovered
- [SECURITY.md](https://github.com/accomplish-ai/accomplish/blob/main/SECURITY.md)

--- SECURITY.md ---
# Security Policy

## Supported Versions

| Version | Supported          |
| ------- | ------------------ |
| 0.1.x   | :white_check_mark: |

## Reporting a Vulnerability

We take security seriously. If you discover a security vulnerability, please report it responsibly.

### How to Report

1. **Do not** open a public GitHub issue for security vulnerabilities
2. Email security concerns to the maintainers (see GitHub profile)
3. Include:
   - Description of the vulnerability
   - Steps to reproduce
   - Potential impact
   - Any suggested fixes (optional)

### What to Expect

- Acknowledgment within 48 hours
- Regular updates on progress
- Credit in release notes (if desired)

### Scope

Security issues we're interested in:
- Remote code execution
- Local privilege escalation
- Data exposure
- Authentication/authorization bypasses
- IPC security issues

Out of scope:
- Denial of service
- Social engineering
- Issues requiring physical access

## Security Best Practices

When using Accomplish:
- Keep the application updated
- Only grant file permissions when necessary
- Review task outputs before approving sensitive operations
- Use API keys with minimal required permissions


--- packages/agent-core/CHANGELOG.md ---
# @accomplish_ai/agent-core

## 0.3.1

### Patch Changes

- 7ab95c7: Auto-detect MCP entry point by checking if source files exist on disk instead of relying on ACCOMPLISH_BUNDLED_MCP env var

## 0.3.0

### Minor Changes

- ed82a03: Add `BrowserConfig` option to config-generator with three modes: `builtin` (default, existing behavior), `remote` (connect to any CDP endpoint), and `none` (disable browser tools). Extract connection logic from dev-browser-mcp into a dedicated module with switchable strategies.

## 0.2.2

### Patch Changes

- 0287432: Include server.cjs launcher files in published npm package by adding `mcp-tools/*/*.cjs` to the files field

## 0.2.1

### Patch Changes

- 32795a5: Clean up public API surface and improve encapsulation

  - Replace wildcard barrel exports with explicit named exports
  - Internalize message batching and proxy lifecycle into TaskManager
  - Remove raw database repository functions from public API (use createStorage factory)
  - Move better-sqlite3 and node-pty to optional peer dependencies
  - Add StorageAPI and SkillsManagerAPI JSDoc documentation
  - Fix SpeechServiceOptions.storage type from unknown to SecureStorageAPI
  - Remove dead code (unused interfaces, empty functions)
  - Add README.md and npm metadata (homepage, bugs, keywords)
  - Remove raw TypeScript source and build configs from published files

## 0.2.0

### Minor Changes

- 4405211: Enable npm publishing for @accomplish_ai/agent-core package

  - Package now published to npm as @accomplish_ai/agent-core
  - Added changesets for version management
  - Added automated release workflows


--- .changeset/README.md ---
# Changesets

Hello and welcome! This folder has been automatically generated by `@changesets/cli`, a build tool that works
with multi-package repos, or single-package repos to help you version and publish your code. You can
find the full documentation for it [in our repository](https://github.com/changesets/changesets)

We have a quick list of common questions to get you started engaging with this project in
[our documentation](https://github.com/changesets/changesets/blob/main/docs/common-questions.md)


## Links discovered
- [in our repository](https://github.com/changesets/changesets)
- [our documentation](https://github.com/changesets/changesets/blob/main/docs/common-questions.md)

--- CLAUDE.md ---
# CLAUDE.md

This file provides guidance to Claude Code when working with code in this repository.

## Project Overview

Accomplish is a standalone desktop automation assistant built with Electron. The app hosts a local React UI (bundled via Vite), communicating with the main process through `contextBridge` IPC. The main process spawns the OpenCode CLI (via `node-pty`) to execute user tasks. Users provide their own API key (Anthropic, OpenAI, Google, xAI, etc.) on first launch, stored securely via AES-256-GCM encryption.

## Common Commands

```bash
# Development
pnpm dev                                        # Run desktop app in dev mode (Vite + Electron)
pnpm dev:clean                                  # Dev mode with CLEAN_START=1 (clears stored data)

# Building
pnpm build                                      # Build all workspaces
pnpm build:desktop                              # Build desktop app only

# Type checking and linting
pnpm lint                                       # TypeScript checks
pnpm typecheck                                  # Type validation across all workspaces

# Testing
pnpm test                                       # Run all Vitest tests
pnpm test:unit                                  # Unit tests only
pnpm test:integration                           # Integration tests only
pnpm test:coverage                              # Tests with coverage
pnpm -F @accomplish/desktop test:e2e            # Docker-based E2E tests
pnpm -F @accomplish/desktop test:e2e:native     # Native Playwright E2E tests
pnpm -F @accomplish/desktop test:e2e:native:ui  # E2E with Playwright UI

# Cleanup
pnpm clean                                      # Clean build outputs and node_modules
```

## Publishing Packages (Changesets)

The `@accomplish_ai/agent-core` package is published to npm using [Changesets](https://github.com/changesets/changesets).

### Creating a Changeset
When making changes to the agent-core package, create a changeset:
```bash
pnpm changeset
```
This prompts you to:
1. Select `@accomplish_ai/agent-core`
2. Choose bump type (patch/minor/major)
3. Write a summary for the changelog

Commit the generated `.changeset/*.md` file with your PR.

### Release Process (Automated)
1. Merge PR with changeset files to `main`
2. GitHub Action creates a "Version Packages" PR
3. Review and merge the Version Packages PR
4. GitHub Action publishes `@accomplish_ai/agent-core` to npm

### PR Preview Releases
When a PR contains changesets, a snapshot release is automatically published:
```bash
npm install @accomplish_ai/agent-core@pr-<PR_NUMBER>
```

### Manual Release (if needed)
```bash
pnpm version-packages  # Apply changesets, bump versions
pnpm release           # Build and publish
```

## Architecture

### Monorepo Layout

```
apps/desktop/           # Electron app (main/preload/renderer)
packages/core/          # Core business logic (Node.js)
packages/shared/        # Shared TypeScript types and constants
```

### Package Dependency Graph

```
@accomplish/shared (types, constants)
        â†‘
@accomplish/core (business logic, adapters, storage)
        â†‘
@accomplish/desktop (Electron app)
```

### Desktop App Structure (`apps/desktop/src/`)

**Main Process** (`main/`):
- `index.ts` - Electron bootstrap, single-instance enforcement, `accomplish://` protocol handler
- `ipc/handlers.ts` - IPC handlers for task lifecycle, settings, onboarding, API keys, providers
- `ipc/task-callbacks.ts` - Bridges OpenCode events to renderer via IPC
- `opencode/` - Electron-specific OpenCode CLI integration
- `store/` - Electron-specific storage wrappers (delegates to core)
- `permission-api.ts` - HTTP servers for MCP permission bridge (ports 9226, 9227)
- `thought-stream-api.ts` - HTTP server for thought/checkpoint streaming (port 9228)

**Preload** (`preload/index.ts`):
- Exposes `window.accomplish` API via `contextBridge` (100+ methods)
- Provides `window.accomplishShell` for shell metadata

**Renderer** (`renderer/`):
- `main.tsx` - React entry with HashRouter
- `App.tsx` - Main routing, global dialogs (Sidebar, TaskLauncher, SettingsDialog)
- `pages/` - Home (task input), Execution (task view), History
- `stores/taskStore.ts` - Zustand store for all app state
- `components/ui/` - Reusable shadcn/ui-based components
- `lib/accomplish.ts` - Typed wrapper for the IPC API

### Core Package Structure (`packages/core/src/`)

**OpenCode Module** (`opencode/`):
- `adapter.ts` - `OpenCodeAdapter` class: PTY-based CLI spawning, message streaming
- `task-manager.ts` - `TaskManager` class: concurrent task management, queuing
- `config-generator.ts` - Generates OpenCode JSON config with providers, MCP servers, skills
- `stream-parser.ts` - Parses JSON messages from CLI output
- `completion/` - Task completion enforcement logic
- `proxies/` - Azure Foundry proxy, Moonshot proxy

**Storage Module** (`storage/`):
- `database.ts` - SQLite with better-sqlite3 (WAL mode, foreign keys)
- `secure-storage.ts` - AES-256-GCM encrypted storage for API keys
- `migrations/` - Schema migrations v001-v006
- `repositories/` - Data access layer (appSettings, providerSettings, taskHistory, skills)

**Other Modules**:
- `providers/` - Model configs, API key validation for all providers
- `skills/` - SkillsManager for custom prompt files
- `browser/` - Browser detection, Playwright installation
- `utils/` - Bundled Node.js paths, logging, sanitization

**MCP Tools** (`mcp-tools/`):
- `ask-user-question/` - User prompts
- `complete-task/` - Task completion signaling
- `dev-browser/`, `dev-browser-mcp/` - Browser automation
- `file-permission/` - File operation permissions
- `start-task/` - Task initialization
- `report-checkpoint/`, `report-thought/` - Progress reporting

### Shared Package Structure (`packages/shared/src/`)

**Types** (`types/`):
- `task.ts` - Task, TaskMessage, TaskStatus, TaskProgress, TaskUpdateEvent
- `permission.ts` - PermissionRequest, PermissionResponse, FileOperation
- `provider.ts` - ProviderType, ProviderConfig, ModelConfig, DEFAULT_PROVIDERS
- `providerSettings.ts` - ProviderId, ConnectedProvider, ProviderSettings, PROVIDER_META
- `opencode.ts` - OpenCodeMessage union type for CLI output
- `auth.ts` - ApiKeyConfig, BedrockCredentials
- `skills.ts` - Skill, SkillSource, SkillFrontmatter
- `todo.ts` - TodoItem

**Constants**:
- `constants.ts` - DEV_BROWSER_PORT (9224), DEV_BROWSER_CDP_PORT (9225)
- `constants/model-display.ts` - MODEL_DISPLAY_NAMES, getModelDisplayName()

### IPC Communication Flow

```
Renderer (React)
    â†“ window.accomplish.* calls
Preload (contextBridge)
    â†“ ipcRenderer.invoke
Main Process (handlers.ts)
    â†“ Core package (TaskManager, Storage, etc.)
    â†‘ IPC events (task:update, permission:request, etc.)
Preload
    â†‘ ipcRenderer.on callbacks
Renderer (taskStore subscriptions)
```

### Key IPC Events (Main â†’ Renderer)

| Channel | Purpose |
|---------|---------|
| `task:update` | Task message updates |
| `task:update:batch` | Batched messages (50ms window) |
| `task:progress` | Startup stages, tool progress |
| `task:status-change` | Status transitions |
| `task:summary` | AI-generated summaries |
| `permission:request` | File/tool/question permissions |
| `todo:update` | Todo list updates |
| `auth:error` | OAuth token expiry |
| `debug:log` | Debug log entries |

### Supported Providers

16 providers: anthropic, openai, google, xai, deepseek, moonshot, zai, bedrock, azure-foundry, ollama, openrouter, litellm, minimax, lmstudio, custom

## Code Conventions

- TypeScript everywhere (no JS for app logic)
- Use `pnpm -F @accomplish/desktop ...` for desktop-specific commands
- Shared types go in `packages/shared/src/types/`
- Core business logic goes in `packages/core/src/`
- Renderer state via Zustand store actions
- IPC handlers in `src/main/ipc/handlers.ts` must match `window.accomplish` API in preload
- **Avoid nested ternaries** - Use mapper objects or if/else for readability
- **Reuse UI components** - Check `src/renderer/components/ui/` before creating new ones

### Image Assets in Renderer

**IMPORTANT:** Always use ES module imports for images in the renderer, never absolute paths.

```typescript
// CORRECT - Use ES imports
import logoImage from '/assets/logo.png';
<img src={logoImage} alt="Logo" />

// WRONG - Absolute paths break in packaged app
<img src="/assets/logo.png" alt="Logo" />
```

**Why:** In the packaged Electron app, the renderer loads via `file://` protocol, and absolute paths resolve to the filesystem root instead of the app bundle. ES imports use `import.meta.url` which works in both environments.

Static assets go in `apps/desktop/public/assets/`.

## Environment Variables

- `CLEAN_START=1` - Clear all stored data on app start
- `E2E_SKIP_AUTH=1` - Skip onboarding flow (for testing)
- `E2E_MOCK_TASK_EVENTS=1` - Mock task events (for testing)

## Testing

### E2E Tests (Playwright)
- Config: `apps/desktop/e2e/playwright.config.ts`
- Tests: `apps/desktop/e2e/specs/`
- Page objects: `apps/desktop/e2e/pages/`
- Serial execution (Electron requirement)
- Docker support: `apps/desktop/e2e/docker/`

### Unit/Integration Tests (Vitest)
- Desktop config: `apps/desktop/vitest.config.ts`
- Core config: `packages/core/vitest.config.ts`
- Coverage thresholds: 80% statements/functions/lines, 70% branches

## Bundled Node.js

The packaged app bundles standalone Node.js v20.18.1 binaries to ensure MCP servers work on machines without Node.js installed.

### Key Files
- `packages/core/src/utils/bundled-node.ts` - Bundled node/npm/npx path utilities
- `apps/desktop/scripts/download-nodejs.cjs` - Downloads Node.js binaries
- `apps/desktop/scripts/after-pack.cjs` - Copies binary into app bundle

### CRITICAL: Spawning npx/node in Main Process

**IMPORTANT:** When spawning `npx` or `node` in the main process, you MUST add the bundled Node.js bin directory to PATH.

```typescript
import { spawn } from 'child_process';
import { getNpxPath, getBundledNodePaths } from '@accomplish/core/utils';

const npxPath = getNpxPath();
const bundledPaths = getBundledNodePaths();

let spawnEnv: NodeJS.ProcessEnv = { ...process.env };
if (bundledPaths) {
  const delimiter = process.platform === 'win32' ? ';' : ':';
  spawnEnv.PATH = `${bundledPaths.binDir}${delimiter}${process.env.PATH || ''}`;
}

spawn(npxPath, ['-y', 'some-package@latest'], {
  stdio: ['pipe', 'pipe', 'pipe'],
  env: spawnEnv,
});
```

**Why:** Without adding `bundledPaths.binDir` to PATH, spawned processes fail with exit code 127 ("node not found") on machines without system-wide Node.js.

### For MCP Server Configs

Pass `NODE_BIN_PATH` in environment so spawned servers can add it to their PATH:

```typescript
environment: {
  NODE_BIN_PATH: bundledPaths?.binDir || '',
}
```

## Key Behaviors

- Single-instance enforcement - second instance focuses existing window
- API keys stored with AES-256-GCM encryption using machine-derived keys
- API key validation via test request to respective provider APIs
- OpenCode CLI permissions bridged to UI via HTTP servers (ports 9226-9228)
- Task output streams through batched IPC events (50ms window)
- Task completion enforcement ensures proper task termination

## SQLite Storage

App data is stored in SQLite (`accomplish.db` in production, `accomplish-dev.db` in development) located in the user data directory.

### Database Structure

```
packages/core/src/storage/
â”œâ”€â”€ database.ts                  # Connection singleton, WAL mode, foreign keys
â”œâ”€â”€ migrations/
â”‚   â”œâ”€â”€ index.ts                 # Migration runner with version checking
â”‚   â”œâ”€â”€ v001-initial.ts          # Initial schema + legacy import
â”‚   â”œâ”€â”€ v002-azure-foundry.ts    # Azure Foundry config
â”‚   â”œâ”€â”€ v003-lmstudio.ts         # LM Studio support
â”‚   â”œâ”€â”€ v004-openai-base-url.ts  # Custom OpenAI base URL
â”‚   â”œâ”€â”€ v005-task-todos.ts       # Task todos table
â”‚   â””â”€â”€ v006-skills.ts           # Skills table
â””â”€â”€ repositories/
    â”œâ”€â”€ appSettings.ts           # Debug mode, onboarding, selected model
    â”œâ”€â”€ providerSettings.ts      # Connected providers, active provider
    â”œâ”€â”€ taskHistory.ts           # Tasks with messages and attachments
    â””â”€â”€ skills.ts                # Skill CRUD operations
```

### Adding New Migrations

1. Create `packages/core/src/storage/migrations/vXXX-description.ts`:
```typescript
import type { Database } from 'better-sqlite3';
import type { Migration } from './index';

export const migration: Migration = {
  version: 7,  // Increment from CURRENT_VERSION
  up(db: Database): void {
    db.exec(`ALTER TABLE app_settings ADD COLUMN new_field TEXT`);
  },
};
```

2. Update `packages/core/src/storage/migrations/index.ts`:
```typescript
import { migration as v007 } from './v007-description';

export const CURRENT_VERSION = 7;  // Update this

const migrations: Migration[] = [...existingMigrations, v007];  // Add to array
```

### Rollback Protection

If a user opens data from a newer app version, startup is blocked with a dialog prompting them to update. This prevents data corruption from schema mismatches.

## Secure Storage

API keys are stored using AES-256-GCM encryption with machine-derived keys. The `SecureStorage` class in `packages/core/src/storage/secure-storage.ts` handles:
- API key storage/retrieval by provider
- AWS Bedrock credentials
- Atomic file writes
- Key masking for display

## TypeScript Configuration

### Path Aliases (Desktop)

```typescript
"@/*"                  â†’ "src/renderer/*"
"@main/*"              â†’ "src/main/*"
"@shared/*"            â†’ "../../packages/shared/src/*"
"@accomplish/shared"   â†’ "../../packages/shared/src/index.ts"
"@accomplish/core"     â†’ "../../packages/core/src/index.ts"
"@accomplish/core/*"   â†’ "../../packages/core/src/*"
```

## Styling

- Framework: Tailwind CSS + shadcn/ui
- CSS variables for theming
- Font: DM Sans
- Animation library: Framer Motion
- Reusable variants in `src/renderer/lib/animations.ts`

## CI/CD

GitHub Actions workflows in `.github/workflows/`:
- `ci.yml` - Core tests, unit tests, integration tests, typecheck, E2E
- `release.yml` - Version bump, build, publish to GitHub releases
- `commitlint.yml` - Conventional commit validation


## Links discovered
- [Changesets](https://github.com/changesets/changesets)

--- README.ar.md ---
<p align="center">
  <a href="README.md">English</a> | <a href="README.zh-CN.md">ä¸­æ–‡</a> | <a href="README.ja.md">æ—¥æœ¬èªž</a> | <a href="README.ko.md">í•œêµ­ì–´</a> | <a href="README.es.md">EspaÃ±ol</a> | <a href="README.tr.md">TÃ¼rkÃ§e</a> | <strong>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</strong> | <a href="README.id.md">Bahasa Indonesia</a>
</p>

<p align="center">
  <img src="docs/banner.svg" alt="Accomplish - ÙˆÙƒÙŠÙ„ Ø³Ø·Ø­ Ù…ÙƒØªØ¨ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± ÙŠÙ‚ÙˆÙ… Ø¨Ø£ØªÙ…ØªØ© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆÙ…Ù‡Ø§Ù… Ø§Ù„Ù…ØªØµÙØ­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙØ§ØªÙŠØ­ API Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ" width="100%" />
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="Ø±Ø®ØµØ© MIT" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/stargazers"><img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Ù†Ø¬ÙˆÙ… GitHub" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/issues"><img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Ù…Ø´ÙƒÙ„Ø§Øª GitHub" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/commits"><img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«" /></a>
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="ØªØ­Ù…ÙŠÙ„ Ù„Ù€ macOS" /></a>
</p>

# Accomplishâ„¢ - ÙˆÙƒÙŠÙ„ Ø³Ø·Ø­ Ù…ÙƒØªØ¨ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø±

Accomplish Ù‡Ùˆ ÙˆÙƒÙŠÙ„ Ø³Ø·Ø­ Ù…ÙƒØªØ¨ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± ÙŠÙ‚ÙˆÙ… Ø¨Ø£ØªÙ…ØªØ© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆÙ…Ù‡Ø§Ù… Ø§Ù„Ù…ØªØµÙØ­ Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ. Ø§Ø³ØªØ®Ø¯Ù… Ù…ÙØ§ØªÙŠØ­ API Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ (OpenAIØŒ AnthropicØŒ GoogleØŒ xAI) Ø£Ùˆ Ø´ØºÙ‘Ù„ Ù†Ù…Ø§Ø°Ø¬ Ù…Ø­Ù„ÙŠØ© Ø¹Ø¨Ø± Ollama.

<p align="center">
  <strong>ÙŠØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ. Ø§Ø³ØªØ®Ø¯Ù… Ù…ÙØ§ØªÙŠØ­ API Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ Ø£Ùˆ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ù…Ø­Ù„ÙŠØ©. Ù…Ø±Ø®Øµ Ø¨Ù€ MIT.</strong>
</p>

<p align="center">
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><strong>ØªØ­Ù…ÙŠÙ„ Ù„Ù€ Mac (Apple Silicon)</strong></a>
  Â·
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe"><strong>ØªØ­Ù…ÙŠÙ„ Ù„Ù€ Windows 11</strong></a>
  Â·
  <a href="https://www.accomplish.ai/">Ù…ÙˆÙ‚Ø¹ Accomplish</a>
  Â·
  <a href="https://www.accomplish.ai/blog/">Ù…Ø¯ÙˆÙ†Ø© Accomplish</a>
  Â·
  <a href="https://github.com/accomplish-ai/accomplish/releases">Ø¥ØµØ¯Ø§Ø±Ø§Øª Accomplish</a>
</p>

<br />

---

<br />

## Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙ…ÙŠØ²Ù‡

<table>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ–¥ï¸ ÙŠØ¹Ù…Ù„ Ù…Ø­Ù„ÙŠØ§Ù‹

<div align="left">

- Ù…Ù„ÙØ§ØªÙƒ ØªØ¨Ù‚Ù‰ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ
- Ø£Ù†Øª ØªÙ‚Ø±Ø± Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡Ø§
- Ù„Ø§ ÙŠØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø£ÙŠ Ø´ÙŠØ¡ Ø¥Ù„Ù‰ Accomplish (Ø£Ùˆ Ø£ÙŠ Ø´Ø®Øµ Ø¢Ø®Ø±)

</div>

</td>
<td width="50%" valign="top" align="center">

### ðŸ”‘ Ø§Ø³ØªØ®Ø¯Ù… Ø°ÙƒØ§Ø¡Ùƒ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ

<div align="left">

- Ø§Ø³ØªØ®Ø¯Ù… Ù…ÙØªØ§Ø­ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ (OpenAIØŒ AnthropicØŒ Ø¥Ù„Ø®)
- Ø£Ùˆ Ø´ØºÙ‘Ù„ Ù…Ø¹ [Ollama](https://ollama.com) (Ø¨Ø¯ÙˆÙ† Ø­Ø§Ø¬Ø© Ù„Ù…ÙØªØ§Ø­ API)
- Ø¨Ø¯ÙˆÙ† Ø§Ø´ØªØ±Ø§ÙƒØŒ Ø¨Ø¯ÙˆÙ† Ø¨ÙŠØ¹ Ø¥Ø¶Ø§ÙÙŠ
- Ø¥Ù†Ù‡ Ø£Ø¯Ø§Ø© â€” ÙˆÙ„ÙŠØ³ Ø®Ø¯Ù…Ø©

</div>

</td>
</tr>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ“– Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø±

<div align="left">

- ÙƒÙ„ Ø³Ø·Ø± Ù…Ù† Ø§Ù„ÙƒÙˆØ¯ Ø¹Ù„Ù‰ GitHub
- Ù…Ø±Ø®Øµ Ø¨Ù€ MIT
- Ø¹Ø¯Ù‘Ù„Ù‡ØŒ Ø§Ù†Ø³Ø®Ù‡ØŒ Ø§ÙƒØ³Ø±Ù‡ØŒ Ø£ØµÙ„Ø­Ù‡

</div>

</td>
<td width="50%" valign="top" align="center">

### âš¡ ÙŠØªØµØ±ÙØŒ Ù„Ø§ ÙŠØ¯Ø±Ø¯Ø´ ÙÙ‚Ø·

<div align="left">

- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª
- Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª
- Ø£ØªÙ…ØªØ© Ù…Ø®ØµØµØ©
- ØªØ¹Ù„Ù… Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª

</div>

</td>
</tr>
</table>

<br />

---

<br />

## Ù…Ø§ Ø§Ù„Ø°ÙŠ ÙŠÙØ¹Ù„Ù‡ ÙØ¹Ù„Ø§Ù‹

| | | |
|:--|:--|:--|
| **ðŸ“ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª** | **âœï¸ ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª** | **ðŸ”— Ø±Ø¨Ø· Ø§Ù„Ø£Ø¯ÙˆØ§Øª** |
| ÙØ±Ø² ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ³Ù…ÙŠØ© ÙˆÙ†Ù‚Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø£Ùˆ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªÙŠ ØªØ­Ø¯Ø¯Ù‡Ø§ | Ø§Ø·Ù„Ø¨ Ù…Ù†Ù‡ ÙƒØªØ§Ø¨Ø© Ø£Ùˆ ØªÙ„Ø®ÙŠØµ Ø£Ùˆ Ø¥Ø¹Ø§Ø¯Ø© ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª | ÙŠØ¹Ù…Ù„ Ù…Ø¹ Notion ÙˆGoogle Drive ÙˆDropbox ÙˆØ§Ù„Ù…Ø²ÙŠØ¯ (Ø¹Ø¨Ø± APIs Ø§Ù„Ù…Ø­Ù„ÙŠØ©) |
| | | |
| **âš™ï¸ Ù…Ù‡Ø§Ø±Ø§Øª Ù…Ø®ØµØµØ©** | **ðŸ›¡ï¸ ØªØ­ÙƒÙ… ÙƒØ§Ù…Ù„** | |
| Ø­Ø¯Ø¯ Ø³ÙŠØ± Ø¹Ù…Ù„ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªÙƒØ±Ø§Ø±ØŒ Ø§Ø­ÙØ¸Ù‡Ø§ ÙƒÙ…Ù‡Ø§Ø±Ø§Øª | Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ ÙƒÙ„ Ø¥Ø¬Ø±Ø§Ø¡. ÙŠÙ…ÙƒÙ†Ùƒ Ø±Ø¤ÙŠØ© Ø§Ù„Ø³Ø¬Ù„Ø§Øª. ÙŠÙ…ÙƒÙ†Ùƒ Ø¥ÙŠÙ‚Ø§ÙÙ‡ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª. | |

<br />

## Ø­Ø§Ù„Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

- ØªÙ†Ø¸ÙŠÙ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„ÙÙˆØ¶ÙˆÙŠØ© Ø­Ø³Ø¨ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø£Ùˆ Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù Ø£Ùˆ Ø§Ù„ØªØ§Ø±ÙŠØ®
- ØµÙŠØ§ØºØ© ÙˆØªÙ„Ø®ÙŠØµ ÙˆØ¥Ø¹Ø§Ø¯Ø© ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆÙ…Ø­Ø§Ø¶Ø± Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª
- Ø£ØªÙ…ØªØ© Ø³ÙŠØ± Ø¹Ù…Ù„ Ø§Ù„Ù…ØªØµÙØ­ Ù…Ø«Ù„ Ø§Ù„Ø¨Ø­Ø« ÙˆÙ…Ù„Ø¡ Ø§Ù„Ù†Ù…Ø§Ø°Ø¬
- Ø¥Ù†Ø´Ø§Ø¡ ØªØ­Ø¯ÙŠØ«Ø§Øª Ø£Ø³Ø¨ÙˆØ¹ÙŠØ© Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
- ØªØ­Ø¶ÙŠØ± Ù…ÙˆØ§Ø¯ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª Ù…Ù† Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ù„ØªÙ‚ÙˆÙŠÙ…Ø§Øª

<br />

## Ø§Ù„Ù†Ù…Ø§Ø°Ø¬ ÙˆØ§Ù„Ù…ÙˆÙØ±ÙˆÙ† Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…ÙˆÙ†

- Anthropic (Claude)
- OpenAI (GPT)
- Google AI (Gemini)
- xAI (Grok)
- DeepSeek
- Moonshot AI (Kimi)
- Z.AI (GLM)
- MiniMax
- Amazon Bedrock
- Azure Foundry
- OpenRouter
- LiteLLM
- Ollama (Ù†Ù…Ø§Ø°Ø¬ Ù…Ø­Ù„ÙŠØ©)
- LM Studio (Ù†Ù…Ø§Ø°Ø¬ Ù…Ø­Ù„ÙŠØ©)

<br />

## Ø§Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„Ù…Ø­Ù„ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹

ÙŠØ¹Ù…Ù„ Accomplish Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ. Ù…Ù„ÙØ§ØªÙƒ ØªØ¨Ù‚Ù‰ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²ÙƒØŒ ÙˆØ£Ù†Øª ØªØ®ØªØ§Ø± Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡Ø§.

<br />

## Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…

- macOS (Apple Silicon)
- Windows 11

<br />

---

<br />

## ÙƒÙŠÙÙŠØ© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

> **Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ ÙŠØ³ØªØºØ±Ù‚ Ø¯Ù‚ÙŠÙ‚ØªÙŠÙ†.**

| Ø§Ù„Ø®Ø·ÙˆØ© | Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡ | Ø§Ù„ØªÙØ§ØµÙŠÙ„ |
|:----:|--------|---------|
| **1** | **ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚** | Ø­Ù…Ù‘Ù„ Ù…Ù„Ù DMG ÙˆØ§Ø³Ø­Ø¨Ù‡ Ø¥Ù„Ù‰ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª |
| **2** | **Ø±Ø¨Ø· Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ** | Ø§Ø³ØªØ®Ø¯Ù… Ù…ÙØªØ§Ø­ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ù…Ù† Google Ø£Ùˆ OpenAI Ø£Ùˆ Anthropic (Ø£Ùˆ ØºÙŠØ±Ù‡Ø§) â€” Ø£Ùˆ Ø³Ø¬Ù‘Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ ChatGPT (Plus/Pro). Ø¨Ø¯ÙˆÙ† Ø§Ø´ØªØ±Ø§ÙƒØ§Øª. |
| **3** | **Ù…Ù†Ø­ Ø§Ù„ÙˆØµÙˆÙ„** | Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ†Ù‡ Ø±Ø¤ÙŠØªÙ‡Ø§. Ø£Ù†Øª ØªØªØ­ÙƒÙ…. |
| **4** | **Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¹Ù…Ù„** | Ø§Ø·Ù„Ø¨ Ù…Ù†Ù‡ ØªÙ„Ø®ÙŠØµ Ù…Ø³ØªÙ†Ø¯ØŒ ØªÙ†Ø¸ÙŠÙ… Ù…Ø¬Ù„Ø¯ØŒ Ø£Ùˆ Ø¥Ù†Ø´Ø§Ø¡ ØªÙ‚Ø±ÙŠØ±. Ø£Ù†Øª ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ ÙƒÙ„ Ø´ÙŠØ¡. |

<br />


<br />

<div align="center">

[**ØªØ­Ù…ÙŠÙ„ Ù„Ù€ Mac (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg) Â· [**ØªØ­Ù…ÙŠÙ„ Ù„Ù€ Windows 11**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)

</div>

<br />

---

<br />

## Ù„Ù‚Ø·Ø§Øª Ø§Ù„Ø´Ø§Ø´Ø© ÙˆØ§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ

Ù†Ø¸Ø±Ø© Ø³Ø±ÙŠØ¹Ø© Ø¹Ù„Ù‰ Accomplish Ø¹Ù„Ù‰ macOSØŒ Ø¨Ø§Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ ÙÙŠØ¯ÙŠÙˆ Ø¹Ø±Ø¶ ØªÙˆØ¶ÙŠØ­ÙŠ Ù‚ØµÙŠØ±.

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">
    <img src="docs/video-thumbnail.png" alt="Ø¹Ø±Ø¶ Accomplish - ÙˆÙƒÙŠÙ„ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠØ¤ØªÙ…Øª Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆÙ…Ù‡Ø§Ù… Ø§Ù„Ù…ØªØµÙØ­" width="600" />
  </a>
</p>

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ â†</a>
</p>

<br />

## Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©

**Ù‡Ù„ ÙŠØ¹Ù…Ù„ Accomplish Ù…Ø­Ù„ÙŠØ§Ù‹ØŸ**
Ù†Ø¹Ù…. ÙŠØ¹Ù…Ù„ Accomplish Ù…Ø­Ù„ÙŠØ§Ù‹ Ø¹Ù„Ù‰ Ø¬Ù‡Ø§Ø²Ùƒ ÙˆØ£Ù†Øª ØªØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯Ø§Øª Ø§Ù„ØªÙŠ ÙŠÙ…ÙƒÙ†Ù‡ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„ÙŠÙ‡Ø§.

**Ù‡Ù„ Ø£Ø­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…ÙØªØ§Ø­ APIØŸ**
ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙØ§ØªÙŠØ­ API Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ (OpenAIØŒ AnthropicØŒ GoogleØŒ xAIØŒ Ø¥Ù„Ø®) Ø£Ùˆ ØªØ´ØºÙŠÙ„ Ù†Ù…Ø§Ø°Ø¬ Ù…Ø­Ù„ÙŠØ© Ø¹Ø¨Ø± Ollama.

**Ù‡Ù„ Accomplish Ù…Ø¬Ø§Ù†ÙŠØŸ**
Ù†Ø¹Ù…. Accomplish Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø± ÙˆÙ…Ø±Ø®Øµ Ø¨Ù€ MIT.

**Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù…Ù†ØµØ§Øª Ø§Ù„Ù…Ø¯Ø¹ÙˆÙ…Ø©ØŸ**
macOS (Apple Silicon) Ùˆ Windows 11 Ù…ØªØ§Ø­Ø§Ù† Ø§Ù„Ø¢Ù†.

<br />

---

<br />

## Ø§Ù„ØªØ·ÙˆÙŠØ±

```bash
pnpm install
pnpm dev
```

Ù‡Ø°Ø§ ÙƒÙ„ Ø´ÙŠØ¡.

<details>
<summary><strong>Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø³Ø¨Ù‚Ø©</strong></summary>

- Node.js 20+
- pnpm 9+

</details>

<details>
<summary><strong>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆØ§Ù…Ø±</strong></summary>

| Ø§Ù„Ø£Ù…Ø± | Ø§Ù„ÙˆØµÙ |
|---------|-------------|
| `pnpm dev` | ØªØ´ØºÙŠÙ„ ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ ÙÙŠ ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ± |
| `pnpm dev:clean` | ÙˆØ¶Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ± Ù…Ø¹ Ø¨Ø¯Ø§ÙŠØ© Ù†Ø¸ÙŠÙØ© |
| `pnpm build` | Ø¨Ù†Ø§Ø¡ Ø¬Ù…ÙŠØ¹ Ù…Ø³Ø§Ø­Ø§Øª Ø§Ù„Ø¹Ù…Ù„ |
| `pnpm build:desktop` | Ø¨Ù†Ø§Ø¡ ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ ÙÙ‚Ø· |
| `pnpm lint` | ÙØ­ÙˆØµØ§Øª TypeScript |
| `pnpm typecheck` | Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ |
| `pnpm -F @accomplish/desktop test:e2e` | Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª Playwright E2E |

</details>

<details>
<summary><strong>Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø©</strong></summary>

| Ø§Ù„Ù…ØªØºÙŠØ± | Ø§Ù„ÙˆØµÙ |
|----------|-------------|
| `CLEAN_START=1` | Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ø¹Ù†Ø¯ Ø¨Ø¯Ø¡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ |
| `E2E_SKIP_AUTH=1` | ØªØ®Ø·ÙŠ ØªØ¯ÙÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±) |

</details>

<details>
<summary><strong>Ø§Ù„Ø¨Ù†ÙŠØ©</strong></summary>

```
apps/
  desktop/        # ØªØ·Ø¨ÙŠÙ‚ Electron (main + preload + renderer)
packages/
  shared/         # Ø£Ù†ÙˆØ§Ø¹ TypeScript Ù…Ø´ØªØ±ÙƒØ©
```

ÙŠØ³ØªØ®Ø¯Ù… ØªØ·Ø¨ÙŠÙ‚ Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ Electron Ù…Ø¹ ÙˆØ§Ø¬Ù‡Ø© React Ù…ÙØ¬Ù…Ù‘Ø¹Ø© Ø¹Ø¨Ø± Vite. ØªÙÙ†ØªØ¬ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© [OpenCode](https://github.com/sst/opencode) CLI Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… `node-pty` Ù„ØªÙ†ÙÙŠØ° Ø§Ù„Ù…Ù‡Ø§Ù…. ÙŠØªÙ… ØªØ®Ø²ÙŠÙ† Ù…ÙØ§ØªÙŠØ­ API Ø¨Ø£Ù…Ø§Ù† ÙÙŠ Ø³Ù„Ø³Ù„Ø© Ù…ÙØ§ØªÙŠØ­ Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„.

Ø±Ø§Ø¬Ø¹ [CLAUDE.md](CLAUDE.md) Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ÙˆØ«Ø§Ø¦Ù‚ Ø§Ù„Ø¨Ù†ÙŠØ© Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©.

</details>

<br />

---

<br />

## Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø©

Ø§Ù„Ù…Ø³Ø§Ù‡Ù…Ø§Øª Ù…Ø±Ø­Ø¨ Ø¨Ù‡Ø§! Ù„Ø§ ØªØªØ±Ø¯Ø¯ ÙÙŠ ÙØªØ­ PR.

```bash
# Fork â†’ Clone â†’ Branch â†’ Commit â†’ Push â†’ PR
git checkout -b feature/amazing-feature
git commit -m 'Add amazing feature'
git push origin feature/amazing-feature
```

<br />

---

<br />

<div align="center">

**[Ù…ÙˆÙ‚Ø¹ Accomplish](https://www.accomplish.ai/)** Â· **[Ù…Ø¯ÙˆÙ†Ø© Accomplish](https://www.accomplish.ai/blog/)** Â· **[Ø¥ØµØ¯Ø§Ø±Ø§Øª Accomplish](https://github.com/accomplish-ai/accomplish/releases)** Â· **[Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª](https://github.com/accomplish-ai/accomplish/issues)** Â· **[Twitter](https://x.com/Accomplish_ai)**

<br />

Ø±Ø®ØµØ© MIT Â· ØµÙ†Ø¹ Ø¨ÙˆØ§Ø³Ø·Ø© [Accomplish](https://www.accomplish.ai)

<br />

**Ø§Ù„ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…ÙØªØ§Ø­ÙŠØ©:** ÙˆÙƒÙŠÙ„ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ ÙˆÙƒÙŠÙ„ Ø³Ø·Ø­ Ù…ÙƒØªØ¨ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ Ø£ØªÙ…ØªØ© Ø³Ø·Ø­ Ø§Ù„Ù…ÙƒØªØ¨ØŒ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§ØªØŒ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§ØªØŒ Ø£ØªÙ…ØªØ© Ø§Ù„Ù…ØªØµÙØ­ØŒ Ù…Ø­Ù„ÙŠ Ø£ÙˆÙ„Ø§Ù‹ØŒ macOSØŒ Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ø£ÙˆÙ„Ø§Ù‹ØŒ Ù…ÙØªÙˆØ­ Ø§Ù„Ù…ØµØ¯Ø±ØŒ ElectronØŒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±ØŒ Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ Ø£ØªÙ…ØªØ© Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ØŒ OpenAIØŒ AnthropicØŒ GoogleØŒ xAIØŒ ClaudeØŒ GPT-4ØŒ Ollama

</div>


## Links discovered
- [Ollama](https://ollama.com)
- [**ØªØ­Ù…ÙŠÙ„ Ù„Ù€ Mac (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [**ØªØ­Ù…ÙŠÙ„ Ù„Ù€ Windows 11**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [OpenCode](https://github.com/sst/opencode)
- [CLAUDE.md](https://github.com/accomplish-ai/accomplish/blob/main/CLAUDE.md)
- [Ù…ÙˆÙ‚Ø¹ Accomplish](https://www.accomplish.ai/)
- [Ù…Ø¯ÙˆÙ†Ø© Accomplish](https://www.accomplish.ai/blog/)
- [Ø¥ØµØ¯Ø§Ø±Ø§Øª Accomplish](https://github.com/accomplish-ai/accomplish/releases)
- [Ø§Ù„Ù…Ø´ÙƒÙ„Ø§Øª](https://github.com/accomplish-ai/accomplish/issues)
- [Twitter](https://x.com/Accomplish_ai)
- [Accomplish](https://www.accomplish.ai)
- [English](https://github.com/accomplish-ai/accomplish/blob/main/README.md)
- [ä¸­æ–‡](https://github.com/accomplish-ai/accomplish/blob/main/README.zh-CN.md)
- [æ—¥æœ¬èªž](https://github.com/accomplish-ai/accomplish/blob/main/README.ja.md)
- [í•œêµ­ì–´](https://github.com/accomplish-ai/accomplish/blob/main/README.ko.md)
- [EspaÃ±ol](https://github.com/accomplish-ai/accomplish/blob/main/README.es.md)
- [TÃ¼rkÃ§e](https://github.com/accomplish-ai/accomplish/blob/main/README.tr.md)
- [Bahasa Indonesia](https://github.com/accomplish-ai/accomplish/blob/main/README.id.md)
- [<img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="Ø±Ø®ØµØ© MIT" />](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)
- [<img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Ù†Ø¬ÙˆÙ… GitHub" />](https://github.com/accomplish-ai/accomplish/stargazers)
- [<img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Ù…Ø´ÙƒÙ„Ø§Øª GitHub" />](https://github.com/accomplish-ai/accomplish/issues)
- [<img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«" />](https://github.com/accomplish-ai/accomplish/commits)
- [<img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="ØªØ­Ù…ÙŠÙ„ Ù„Ù€ macOS" />](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>ØªØ­Ù…ÙŠÙ„ Ù„Ù€ Mac (Apple Silicon)</strong>](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>ØªØ­Ù…ÙŠÙ„ Ù„Ù€ Windows 11</strong>](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [<img src="docs/video-thumbnail.png" alt="Ø¹Ø±Ø¶ Accomplish - ÙˆÙƒÙŠÙ„ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙŠØ¤ØªÙ…Øª Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ù„ÙØ§Øª ÙˆÙ…Ù‡Ø§Ù… Ø§Ù„Ù…ØªØµÙØ­" width="600" />](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)
- [Ø´Ø§Ù‡Ø¯ Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„ØªÙˆØ¶ÙŠØ­ÙŠ â†](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)

--- README.es.md ---
<p align="center">
  <a href="README.md">English</a> | <a href="README.zh-CN.md">ä¸­æ–‡</a> | <a href="README.ja.md">æ—¥æœ¬èªž</a> | <a href="README.ko.md">í•œêµ­ì–´</a> | <strong>EspaÃ±ol</strong> | <a href="README.tr.md">TÃ¼rkÃ§e</a> | <a href="README.ar.md">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a> | <a href="README.id.md">Bahasa Indonesia</a>
</p>

<p align="center">
  <img src="docs/banner.svg" alt="Accomplish - Agente de escritorio de IA de cÃ³digo abierto que automatiza la gestiÃ³n de archivos, creaciÃ³n de documentos y tareas del navegador con tus propias claves API de IA" width="100%" />
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="Licencia MIT" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/stargazers"><img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/issues"><img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/commits"><img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Ãšltimo Commit" /></a>
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="Descargar para macOS" /></a>
</p>

# Accomplishâ„¢ - Agente de Escritorio de IA de CÃ³digo Abierto

Accomplish es un agente de escritorio de IA de cÃ³digo abierto que automatiza la gestiÃ³n de archivos, creaciÃ³n de documentos y tareas del navegador localmente en tu mÃ¡quina. Usa tus propias claves API (OpenAI, Anthropic, Google, xAI) o ejecuta modelos locales a travÃ©s de Ollama.

<p align="center">
  <strong>Se ejecuta localmente en tu mÃ¡quina. Usa tus propias claves API o modelos locales. Licencia MIT.</strong>
</p>

<p align="center">
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><strong>Descargar para Mac (Apple Silicon)</strong></a>
  Â·
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe"><strong>Descargar para Windows 11</strong></a>
  Â·
  <a href="https://www.accomplish.ai/">Sitio web de Accomplish</a>
  Â·
  <a href="https://www.accomplish.ai/blog/">Blog de Accomplish</a>
  Â·
  <a href="https://github.com/accomplish-ai/accomplish/releases">Versiones de Accomplish</a>
</p>

<br />

---

<br />

## QuÃ© lo hace diferente

<table>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ–¥ï¸ Se ejecuta localmente

<div align="left">

- Tus archivos permanecen en tu mÃ¡quina
- TÃº decides a quÃ© carpetas puede acceder
- Nada se envÃ­a a Accomplish (ni a nadie mÃ¡s)

</div>

</td>
<td width="50%" valign="top" align="center">

### ðŸ”‘ Trae tu propia IA

<div align="left">

- Usa tu propia clave API (OpenAI, Anthropic, etc.)
- O ejecuta con [Ollama](https://ollama.com) (sin necesidad de clave API)
- Sin suscripciÃ³n, sin ventas adicionales
- Es una herramienta, no un servicio

</div>

</td>
</tr>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ“– Es de cÃ³digo abierto

<div align="left">

- Cada lÃ­nea de cÃ³digo estÃ¡ en GitHub
- Licencia MIT
- ModifÃ­calo, bifÃºrcalo, rÃ³mpelo, arrÃ©glalo

</div>

</td>
<td width="50%" valign="top" align="center">

### âš¡ ActÃºa, no solo chatea

<div align="left">

- GestiÃ³n de archivos
- CreaciÃ³n de documentos
- Automatizaciones personalizadas
- Aprendizaje de habilidades

</div>

</td>
</tr>
</table>

<br />

---

<br />

## Lo que realmente hace

| | | |
|:--|:--|:--|
| **ðŸ“ GestiÃ³n de Archivos** | **âœï¸ Escritura de Documentos** | **ðŸ”— Conexiones de Herramientas** |
| Ordena, renombra y mueve archivos segÃºn contenido o reglas que definas | PÃ­dele que escriba, resuma o reescriba documentos | Funciona con Notion, Google Drive, Dropbox y mÃ¡s (a travÃ©s de APIs locales) |
| | | |
| **âš™ï¸ Habilidades Personalizadas** | **ðŸ›¡ï¸ Control Total** | |
| Define flujos de trabajo repetibles, guÃ¡rdalos como habilidades | Apruebas cada acciÃ³n. Puedes ver los registros. Puedes detenerlo en cualquier momento. | |

<br />

## Casos de uso

- Organizar carpetas desordenadas por proyecto, tipo de archivo o fecha
- Redactar, resumir y reescribir documentos, informes y notas de reuniones
- Automatizar flujos de trabajo del navegador como investigaciÃ³n y llenado de formularios
- Generar actualizaciones semanales desde archivos y notas
- Preparar materiales de reuniones desde documentos y calendarios

<br />

## Modelos y proveedores compatibles

- Anthropic (Claude)
- OpenAI (GPT)
- Google AI (Gemini)
- xAI (Grok)
- DeepSeek
- Moonshot AI (Kimi)
- Z.AI (GLM)
- MiniMax
- Amazon Bedrock
- Azure Foundry
- OpenRouter
- LiteLLM
- Ollama (modelos locales)
- LM Studio (modelos locales)

<br />

## Privacidad y local primero

Accomplish se ejecuta localmente en tu mÃ¡quina. Tus archivos permanecen en tu dispositivo y tÃº eliges a quÃ© carpetas puede acceder.

<br />

## Requisitos del sistema

- macOS (Apple Silicon)
- Windows 11

<br />

---

<br />

## CÃ³mo usarlo

> **Se configura en 2 minutos.**

| Paso | AcciÃ³n | Detalles |
|:----:|--------|---------|
| **1** | **Instala la App** | Descarga el DMG y arrÃ¡stralo a Aplicaciones |
| **2** | **Conecta tu IA** | Usa tu propia clave API de Google, OpenAI, Anthropic (u otra) â€” o inicia sesiÃ³n con ChatGPT (Plus/Pro). Sin suscripciones. |
| **3** | **Dale Acceso** | Elige quÃ© carpetas puede ver. TÃº mantienes el control. |
| **4** | **Empieza a Trabajar** | PÃ­dele que resuma un documento, organice una carpeta o cree un informe. Apruebas todo. |

<br />


<br />

<div align="center">

[**Descargar para Mac (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg) Â· [**Descargar para Windows 11**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)

</div>

<br />

---

<br />

## Capturas de pantalla y Demo

Un vistazo rÃ¡pido a Accomplish en macOS, mÃ¡s un breve video de demostraciÃ³n.

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">
    <img src="docs/video-thumbnail.png" alt="Demo de Accomplish - Agente de IA automatizando gestiÃ³n de archivos y tareas del navegador" width="600" />
  </a>
</p>

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">Ver la demo â†’</a>
</p>

<br />

## Preguntas frecuentes

**Â¿Accomplish se ejecuta localmente?**
SÃ­. Accomplish se ejecuta localmente en tu mÃ¡quina y tÃº controlas a quÃ© carpetas puede acceder.

**Â¿Necesito una clave API?**
Puedes usar tus propias claves API (OpenAI, Anthropic, Google, xAI, etc.) o ejecutar modelos locales a travÃ©s de Ollama.

**Â¿Accomplish es gratis?**
SÃ­. Accomplish es de cÃ³digo abierto y tiene licencia MIT.

**Â¿QuÃ© plataformas son compatibles?**
macOS (Apple Silicon) y Windows 11 estÃ¡n disponibles ahora.

<br />

---

<br />

## Desarrollo

```bash
pnpm install
pnpm dev
```

Eso es todo.

<details>
<summary><strong>Requisitos previos</strong></summary>

- Node.js 20+
- pnpm 9+

</details>

<details>
<summary><strong>Todos los comandos</strong></summary>

| Comando | DescripciÃ³n |
|---------|-------------|
| `pnpm dev` | Ejecutar app de escritorio en modo desarrollo |
| `pnpm dev:clean` | Modo desarrollo con inicio limpio |
| `pnpm build` | Compilar todos los workspaces |
| `pnpm build:desktop` | Compilar solo app de escritorio |
| `pnpm lint` | Verificaciones de TypeScript |
| `pnpm typecheck` | ValidaciÃ³n de tipos |
| `pnpm -F @accomplish/desktop test:e2e` | Pruebas E2E con Playwright |

</details>

<details>
<summary><strong>Variables de entorno</strong></summary>

| Variable | DescripciÃ³n |
|----------|-------------|
| `CLEAN_START=1` | Borrar todos los datos almacenados al iniciar la app |
| `E2E_SKIP_AUTH=1` | Saltar flujo de onboarding (para pruebas) |

</details>

<details>
<summary><strong>Arquitectura</strong></summary>

```
apps/
  desktop/        # App Electron (main + preload + renderer)
packages/
  shared/         # Tipos TypeScript compartidos
```

La app de escritorio usa Electron con una UI de React empaquetada mediante Vite. El proceso principal genera el CLI [OpenCode](https://github.com/sst/opencode) usando `node-pty` para ejecutar tareas. Las claves API se almacenan de forma segura en el llavero del sistema operativo.

Consulta [CLAUDE.md](CLAUDE.md) para documentaciÃ³n detallada de la arquitectura.

</details>

<br />

---

<br />

## Contribuir

Â¡Las contribuciones son bienvenidas! SiÃ©ntete libre de abrir un PR.

```bash
# Fork â†’ Clone â†’ Branch â†’ Commit â†’ Push â†’ PR
git checkout -b feature/amazing-feature
git commit -m 'Add amazing feature'
git push origin feature/amazing-feature
```

<br />

---

<br />

<div align="center">

**[Sitio web de Accomplish](https://www.accomplish.ai/)** Â· **[Blog de Accomplish](https://www.accomplish.ai/blog/)** Â· **[Versiones de Accomplish](https://github.com/accomplish-ai/accomplish/releases)** Â· **[Issues](https://github.com/accomplish-ai/accomplish/issues)** Â· **[Twitter](https://x.com/Accomplish_ai)**

<br />

Licencia MIT Â· Creado por [Accomplish](https://www.accomplish.ai)

<br />

**Palabras clave:** agente de IA, agente de escritorio de IA, automatizaciÃ³n de escritorio, gestiÃ³n de archivos, creaciÃ³n de documentos, automatizaciÃ³n del navegador, local primero, macOS, privacidad primero, cÃ³digo abierto, Electron, uso de computadora, asistente de IA, automatizaciÃ³n de flujos de trabajo, OpenAI, Anthropic, Google, xAI, Claude, GPT-4, Ollama

</div>


## Links discovered
- [Ollama](https://ollama.com)
- [**Descargar para Mac (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [**Descargar para Windows 11**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [OpenCode](https://github.com/sst/opencode)
- [CLAUDE.md](https://github.com/accomplish-ai/accomplish/blob/main/CLAUDE.md)
- [Sitio web de Accomplish](https://www.accomplish.ai/)
- [Blog de Accomplish](https://www.accomplish.ai/blog/)
- [Versiones de Accomplish](https://github.com/accomplish-ai/accomplish/releases)
- [Issues](https://github.com/accomplish-ai/accomplish/issues)
- [Twitter](https://x.com/Accomplish_ai)
- [Accomplish](https://www.accomplish.ai)
- [English](https://github.com/accomplish-ai/accomplish/blob/main/README.md)
- [ä¸­æ–‡](https://github.com/accomplish-ai/accomplish/blob/main/README.zh-CN.md)
- [æ—¥æœ¬èªž](https://github.com/accomplish-ai/accomplish/blob/main/README.ja.md)
- [í•œêµ­ì–´](https://github.com/accomplish-ai/accomplish/blob/main/README.ko.md)
- [TÃ¼rkÃ§e](https://github.com/accomplish-ai/accomplish/blob/main/README.tr.md)
- [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](https://github.com/accomplish-ai/accomplish/blob/main/README.ar.md)
- [Bahasa Indonesia](https://github.com/accomplish-ai/accomplish/blob/main/README.id.md)
- [<img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="Licencia MIT" />](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)
- [<img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" />](https://github.com/accomplish-ai/accomplish/stargazers)
- [<img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" />](https://github.com/accomplish-ai/accomplish/issues)
- [<img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Ãšltimo Commit" />](https://github.com/accomplish-ai/accomplish/commits)
- [<img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="Descargar para macOS" />](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Descargar para Mac (Apple Silicon)</strong>](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Descargar para Windows 11</strong>](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [<img src="docs/video-thumbnail.png" alt="Demo de Accomplish - Agente de IA automatizando gestiÃ³n de archivos y tareas del navegador" width="600" />](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)
- [Ver la demo â†’](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)

--- README.id.md ---
<p align="center">
  <a href="README.md">English</a> | <a href="README.zh-CN.md">ä¸­æ–‡</a> | <a href="README.ja.md">æ—¥æœ¬èªž</a> | <a href="README.ko.md">í•œêµ­ì–´</a> | <a href="README.es.md">EspaÃ±ol</a> | <a href="README.tr.md">TÃ¼rkÃ§e</a> | <a href="README.ar.md">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a> | <strong>Bahasa Indonesia</strong>
</p>

<p align="center">
  <img src="docs/banner.svg" alt="Accomplish - Agen desktop AI open source yang mengotomatisasi manajemen file, pembuatan dokumen, dan tugas browser dengan kunci API AI Anda sendiri" width="100%" />
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="Lisensi MIT" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/stargazers"><img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/issues"><img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/commits"><img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Commit Terakhir" /></a>
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="Unduh untuk macOS" /></a>
</p>

# Accomplishâ„¢ - Agen Desktop AI Open Source

Accomplish adalah agen desktop AI open source yang mengotomatisasi manajemen file, pembuatan dokumen, dan tugas browser secara lokal di mesin Anda. Gunakan kunci API Anda sendiri (OpenAI, Anthropic, Google, xAI) atau jalankan model lokal melalui Ollama.

<p align="center">
  <strong>Berjalan secara lokal di mesin Anda. Gunakan kunci API atau model lokal Anda sendiri. Berlisensi MIT.</strong>
</p>

<p align="center">
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><strong>Unduh untuk Mac (Apple Silicon)</strong></a>
  Â·
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe"><strong>Unduh untuk Windows 11</strong></a>
  Â·
  <a href="https://www.accomplish.ai/">Website Accomplish</a>
  Â·
  <a href="https://www.accomplish.ai/blog/">Blog Accomplish</a>
  Â·
  <a href="https://github.com/accomplish-ai/accomplish/releases">Rilis Accomplish</a>
</p>

<br />

---

<br />

## Apa yang membuatnya berbeda

<table>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ–¥ï¸ Berjalan secara lokal

<div align="left">

- File Anda tetap di mesin Anda
- Anda yang memutuskan folder mana yang bisa diakses
- Tidak ada yang dikirim ke Accomplish (atau siapa pun)

</div>

</td>
<td width="50%" valign="top" align="center">

### ðŸ”‘ Bawa AI Anda sendiri

<div align="left">

- Gunakan kunci API Anda sendiri (OpenAI, Anthropic, dll.)
- Atau jalankan dengan [Ollama](https://ollama.com) (tanpa kunci API)
- Tanpa langganan, tanpa upsell
- Ini alatâ€”bukan layanan

</div>

</td>
</tr>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ“– Open source

<div align="left">

- Setiap baris kode ada di GitHub
- Berlisensi MIT
- Ubah, fork, rusak, perbaiki

</div>

</td>
<td width="50%" valign="top" align="center">

### âš¡ Bertindak, bukan hanya mengobrol

<div align="left">

- Manajemen file
- Pembuatan dokumen
- Otomatisasi kustom
- Pembelajaran skill

</div>

</td>
</tr>
</table>

<br />

---

<br />

## Apa yang sebenarnya dilakukan

| | | |
|:--|:--|:--|
| **ðŸ“ Manajemen File** | **âœï¸ Penulisan Dokumen** | **ðŸ”— Koneksi Tools** |
| Urutkan, ganti nama, dan pindahkan file berdasarkan konten atau aturan yang Anda berikan | Minta untuk menulis, meringkas, atau menulis ulang dokumen | Bekerja dengan Notion, Google Drive, Dropbox, dan lainnya (melalui API lokal) |
| | | |
| **âš™ï¸ Skill Kustom** | **ðŸ›¡ï¸ Kontrol Penuh** | |
| Tentukan workflow yang dapat diulang, simpan sebagai skill | Anda menyetujui setiap tindakan. Anda bisa melihat log. Anda bisa menghentikannya kapan saja. | |

<br />

## Kasus penggunaan

- Bersihkan folder berantakan berdasarkan proyek, tipe file, atau tanggal
- Buat draf, ringkas, dan tulis ulang dokumen, laporan, dan catatan rapat
- Otomatisasi workflow browser seperti riset dan pengisian formulir
- Hasilkan update mingguan dari file dan catatan
- Siapkan materi rapat dari dokumen dan kalender

<br />

## Model dan provider yang didukung

- Anthropic (Claude)
- OpenAI (GPT)
- Google AI (Gemini)
- xAI (Grok)
- DeepSeek
- Moonshot AI (Kimi)
- Z.AI (GLM)
- MiniMax
- Amazon Bedrock
- Azure Foundry
- OpenRouter
- LiteLLM
- Ollama (model lokal)
- LM Studio (model lokal)

<br />

## Privasi dan lokal-first

Accomplish berjalan secara lokal di mesin Anda. File Anda tetap di perangkat Anda, dan Anda memilih folder mana yang dapat diakses.

<br />

## Persyaratan sistem

- macOS (Apple Silicon)
- Windows 11

<br />

---

<br />

## Cara menggunakan

> **Setup hanya 2 menit.**

| Langkah | Aksi | Detail |
|:----:|--------|---------|
| **1** | **Install Aplikasi** | Unduh DMG dan seret ke Applications |
| **2** | **Hubungkan AI Anda** | Gunakan kunci API Google, OpenAI, Anthropic (atau lainnya) â€” atau masuk dengan ChatGPT (Plus/Pro). Tanpa langganan. |
| **3** | **Berikan Akses** | Pilih folder mana yang bisa dilihat. Anda tetap memegang kontrol. |
| **4** | **Mulai Bekerja** | Minta untuk meringkas dokumen, membersihkan folder, atau membuat laporan. Anda menyetujui semuanya. |

<br />


<br />

<div align="center">

[**Unduh untuk Mac (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg) Â· [**Unduh untuk Windows 11**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)

</div>

<br />

---

<br />

## Screenshot dan Demo

Sekilas tentang Accomplish di macOS, plus video demo singkat.

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">
    <img src="docs/video-thumbnail.png" alt="Demo Accomplish - Agen AI mengotomatisasi manajemen file dan tugas browser" width="600" />
  </a>
</p>

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">Tonton demo â†’</a>
</p>

<br />

## FAQ

**Apakah Accomplish berjalan secara lokal?**
Ya. Accomplish berjalan secara lokal di mesin Anda dan Anda mengontrol folder mana yang dapat diakses.

**Apakah saya butuh kunci API?**
Anda bisa menggunakan kunci API Anda sendiri (OpenAI, Anthropic, Google, xAI, dll.) atau menjalankan model lokal melalui Ollama.

**Apakah Accomplish gratis?**
Ya. Accomplish adalah open source dan berlisensi MIT.

**Platform apa yang didukung?**
macOS (Apple Silicon) dan Windows 11 tersedia sekarang.

<br />

---

<br />

## Development

```bash
pnpm install
pnpm dev
```

Itu saja.

<details>
<summary><strong>Prasyarat</strong></summary>

- Node.js 20+
- pnpm 9+

</details>

<details>
<summary><strong>Semua perintah</strong></summary>

| Perintah | Deskripsi |
|---------|-------------|
| `pnpm dev` | Jalankan aplikasi desktop dalam mode dev |
| `pnpm dev:clean` | Mode dev dengan start bersih |
| `pnpm build` | Build semua workspace |
| `pnpm build:desktop` | Build aplikasi desktop saja |
| `pnpm lint` | Pemeriksaan TypeScript |
| `pnpm typecheck` | Validasi tipe |
| `pnpm -F @accomplish/desktop test:e2e` | Test E2E Playwright |

</details>

<details>
<summary><strong>Environment variables</strong></summary>

| Variabel | Deskripsi |
|----------|-------------|
| `CLEAN_START=1` | Hapus semua data tersimpan saat aplikasi mulai |
| `E2E_SKIP_AUTH=1` | Lewati alur onboarding (untuk testing) |

</details>

<details>
<summary><strong>Arsitektur</strong></summary>

```
apps/
  desktop/        # Aplikasi Electron (main + preload + renderer)
packages/
  shared/         # Tipe TypeScript bersama
```

Aplikasi desktop menggunakan Electron dengan UI React yang dibundle via Vite. Proses utama memunculkan [OpenCode](https://github.com/sst/opencode) CLI menggunakan `node-pty` untuk menjalankan tugas. Kunci API disimpan dengan aman di keychain OS.

Lihat [CLAUDE.md](CLAUDE.md) untuk dokumentasi arsitektur detail.

</details>

<br />

---

<br />

## Kontribusi

Kontribusi diterima! Silakan buka PR.

```bash
# Fork â†’ Clone â†’ Branch â†’ Commit â†’ Push â†’ PR
git checkout -b feature/amazing-feature
git commit -m 'Add amazing feature'
git push origin feature/amazing-feature
```

<br />

---

<br />

<div align="center">

**[Website Accomplish](https://www.accomplish.ai/)** Â· **[Blog Accomplish](https://www.accomplish.ai/blog/)** Â· **[Rilis Accomplish](https://github.com/accomplish-ai/accomplish/releases)** Â· **[Issues](https://github.com/accomplish-ai/accomplish/issues)** Â· **[Twitter](https://x.com/Accomplish_ai)**

<br />

Lisensi MIT Â· Dibuat oleh [Accomplish](https://www.accomplish.ai)

<br />

**Kata kunci:** agen AI, agen desktop AI, otomatisasi desktop, manajemen file, pembuatan dokumen, otomatisasi browser, lokal-first, macOS, privasi-first, open source, Electron, penggunaan komputer, asisten AI, otomatisasi workflow, OpenAI, Anthropic, Google, xAI, Claude, GPT-4, Ollama

</div>


## Links discovered
- [Ollama](https://ollama.com)
- [**Unduh untuk Mac (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [**Unduh untuk Windows 11**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [OpenCode](https://github.com/sst/opencode)
- [CLAUDE.md](https://github.com/accomplish-ai/accomplish/blob/main/CLAUDE.md)
- [Website Accomplish](https://www.accomplish.ai/)
- [Blog Accomplish](https://www.accomplish.ai/blog/)
- [Rilis Accomplish](https://github.com/accomplish-ai/accomplish/releases)
- [Issues](https://github.com/accomplish-ai/accomplish/issues)
- [Twitter](https://x.com/Accomplish_ai)
- [Accomplish](https://www.accomplish.ai)
- [English](https://github.com/accomplish-ai/accomplish/blob/main/README.md)
- [ä¸­æ–‡](https://github.com/accomplish-ai/accomplish/blob/main/README.zh-CN.md)
- [æ—¥æœ¬èªž](https://github.com/accomplish-ai/accomplish/blob/main/README.ja.md)
- [í•œêµ­ì–´](https://github.com/accomplish-ai/accomplish/blob/main/README.ko.md)
- [EspaÃ±ol](https://github.com/accomplish-ai/accomplish/blob/main/README.es.md)
- [TÃ¼rkÃ§e](https://github.com/accomplish-ai/accomplish/blob/main/README.tr.md)
- [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](https://github.com/accomplish-ai/accomplish/blob/main/README.ar.md)
- [<img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="Lisensi MIT" />](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)
- [<img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" />](https://github.com/accomplish-ai/accomplish/stargazers)
- [<img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" />](https://github.com/accomplish-ai/accomplish/issues)
- [<img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Commit Terakhir" />](https://github.com/accomplish-ai/accomplish/commits)
- [<img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="Unduh untuk macOS" />](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Unduh untuk Mac (Apple Silicon)</strong>](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Unduh untuk Windows 11</strong>](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [<img src="docs/video-thumbnail.png" alt="Demo Accomplish - Agen AI mengotomatisasi manajemen file dan tugas browser" width="600" />](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)
- [Tonton demo â†’](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)

--- README.ja.md ---
<p align="center">
  <a href="README.md">English</a> | <a href="README.zh-CN.md">ä¸­æ–‡</a> | <strong>æ—¥æœ¬èªž</strong> | <a href="README.ko.md">í•œêµ­ì–´</a> | <a href="README.es.md">EspaÃ±ol</a> | <a href="README.tr.md">TÃ¼rkÃ§e</a> | <a href="README.ar.md">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a> | <a href="README.id.md">Bahasa Indonesia</a>
</p>

<p align="center">
  <img src="docs/banner.svg" alt="Accomplish - è‡ªåˆ†ã®AI APIã‚­ãƒ¼ã§ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã‚¿ã‚¹ã‚¯ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹AIãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ" width="100%" />
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/stargazers"><img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/issues"><img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/commits"><img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="æœ€çµ‚ã‚³ãƒŸãƒƒãƒˆ" /></a>
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="macOSç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰" /></a>
</p>

# Accomplishâ„¢ - ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹AIãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ

Accomplishã¯ã€ãŠä½¿ã„ã®ãƒžã‚·ãƒ³ä¸Šã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã€ãƒ–ãƒ©ã‚¦ã‚¶ã‚¿ã‚¹ã‚¯ã‚’è‡ªå‹•åŒ–ã™ã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹AIãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã§ã™ã€‚ç‹¬è‡ªã®APIã‚­ãƒ¼ï¼ˆOpenAIã€Anthropicã€Googleã€xAIï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€OllamaçµŒç”±ã§ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ãƒ‡ãƒ«ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

<p align="center">
  <strong>ãŠä½¿ã„ã®ãƒžã‚·ãƒ³ä¸Šã§ãƒ­ãƒ¼ã‚«ãƒ«ã«å®Ÿè¡Œã€‚ç‹¬è‡ªã®APIã‚­ãƒ¼ã¾ãŸã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ç”¨ã€‚MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã€‚</strong>
</p>

<p align="center">
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><strong>Macç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆApple Siliconï¼‰</strong></a>
  Â·
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe"><strong>Windows 11ç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</strong></a>
  Â·
  <a href="https://www.accomplish.ai/">Accomplishã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ</a>
  Â·
  <a href="https://www.accomplish.ai/blog/">Accomplishãƒ–ãƒ­ã‚°</a>
  Â·
  <a href="https://github.com/accomplish-ai/accomplish/releases">Accomplishãƒªãƒªãƒ¼ã‚¹</a>
</p>

<br />

---

<br />

## ä»–ã¨ã®é•ã„

<table>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ–¥ï¸ ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œ

<div align="left">

- ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãŠä½¿ã„ã®ãƒžã‚·ãƒ³ä¸Šã«ä¿å­˜
- ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’è‡ªåˆ†ã§æ±ºå®š
- Accomplishï¼ˆã¾ãŸã¯ä»–ã®èª°ã‹ï¼‰ã«ãƒ‡ãƒ¼ã‚¿ã¯é€ä¿¡ã•ã‚Œã¾ã›ã‚“

</div>

</td>
<td width="50%" valign="top" align="center">

### ðŸ”‘ è‡ªåˆ†ã®AIã‚’ä½¿ç”¨

<div align="left">

- ç‹¬è‡ªã®APIã‚­ãƒ¼ã‚’ä½¿ç”¨ï¼ˆOpenAIã€Anthropicãªã©ï¼‰
- ã¾ãŸã¯[Ollama](https://ollama.com)ã§å®Ÿè¡Œï¼ˆAPIã‚­ãƒ¼ä¸è¦ï¼‰
- ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãªã—ã€ã‚¢ãƒƒãƒ—ã‚»ãƒ«ãªã—
- ã‚µãƒ¼ãƒ“ã‚¹ã§ã¯ãªããƒ„ãƒ¼ãƒ«ã§ã™

</div>

</td>
</tr>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ“– ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹

<div align="left">

- ã™ã¹ã¦ã®ã‚³ãƒ¼ãƒ‰ãŒGitHubã«å…¬é–‹
- MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹
- å¤‰æ›´ã€ãƒ•ã‚©ãƒ¼ã‚¯ã€å£Šã™ã€ä¿®æ­£ã™ã‚‹ã€è‡ªç”±è‡ªåœ¨

</div>

</td>
<td width="50%" valign="top" align="center">

### âš¡ ãƒãƒ£ãƒƒãƒˆã ã‘ã§ãªãå®Ÿè¡Œ

<div align="left">

- ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ
- ã‚«ã‚¹ã‚¿ãƒ è‡ªå‹•åŒ–
- ã‚¹ã‚­ãƒ«å­¦ç¿’

</div>

</td>
</tr>
</table>

<br />

---

<br />

## å®Ÿéš›ã«ã§ãã‚‹ã“ã¨

| | | |
|:--|:--|:--|
| **ðŸ“ ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†** | **âœï¸ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆ** | **ðŸ”— ãƒ„ãƒ¼ãƒ«é€£æº** |
| ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚„ãƒ«ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ•´ç†ã€ãƒªãƒãƒ¼ãƒ ã€ç§»å‹• | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆã€è¦ç´„ã€æ›¸ãæ›ãˆã‚’æŒ‡ç¤º | Notionã€Google Driveã€Dropboxãªã©ã¨é€£æºï¼ˆãƒ­ãƒ¼ã‚«ãƒ«APIçµŒç”±ï¼‰ |
| | | |
| **âš™ï¸ ã‚«ã‚¹ã‚¿ãƒ ã‚¹ã‚­ãƒ«** | **ðŸ›¡ï¸ å®Œå…¨ãªã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«** | |
| ç¹°ã‚Šè¿”ã—ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©ã—ã¦ã‚¹ã‚­ãƒ«ã¨ã—ã¦ä¿å­˜ | ã™ã¹ã¦ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ‰¿èªã€‚ãƒ­ã‚°ã‚’ç¢ºèªå¯èƒ½ã€‚ã„ã¤ã§ã‚‚åœæ­¢å¯èƒ½ã€‚ | |

<br />

## ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹

- ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—ã€æ—¥ä»˜ã§ãƒ•ã‚©ãƒ«ãƒ€ã‚’æ•´ç†
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€ãƒ¬ãƒãƒ¼ãƒˆã€ä¼šè­°ãƒ¡ãƒ¢ã®ä½œæˆã€è¦ç´„ã€æ›¸ãæ›ãˆ
- èª¿æŸ»ã‚„ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›ãªã©ã®ãƒ–ãƒ©ã‚¦ã‚¶ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’è‡ªå‹•åŒ–
- ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ¡ãƒ¢ã‹ã‚‰é€±æ¬¡ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã‚’ç”Ÿæˆ
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‹ã‚‰ä¼šè­°è³‡æ–™ã‚’æº–å‚™

<br />

## å¯¾å¿œãƒ¢ãƒ‡ãƒ«ã¨ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼

- Anthropic (Claude)
- OpenAI (GPT)
- Google AI (Gemini)
- xAI (Grok)
- DeepSeek
- Moonshot AI (Kimi)
- Z.AI (GLM)
- MiniMax
- Amazon Bedrock
- Azure Foundry
- OpenRouter
- LiteLLM
- Ollamaï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ãƒ‡ãƒ«ï¼‰
- LM Studioï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ãƒ‡ãƒ«ï¼‰

<br />

## ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆ

Accomplishã¯ãŠä½¿ã„ã®ãƒžã‚·ãƒ³ä¸Šã§ãƒ­ãƒ¼ã‚«ãƒ«ã«å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ‡ãƒã‚¤ã‚¹ä¸Šã«ä¿å­˜ã•ã‚Œã€ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠžã§ãã¾ã™ã€‚

<br />

## ã‚·ã‚¹ãƒ†ãƒ è¦ä»¶

- macOSï¼ˆApple Siliconï¼‰
- Windows 11

<br />

---

<br />

## ä½¿ã„æ–¹

> **ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã¯2åˆ†ã§å®Œäº†ã€‚**

| ã‚¹ãƒ†ãƒƒãƒ— | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | è©³ç´° |
|:----:|--------|---------|
| **1** | **ã‚¢ãƒ—ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«** | DMGã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚©ãƒ«ãƒ€ã«ãƒ‰ãƒ©ãƒƒã‚° |
| **2** | **AIã‚’æŽ¥ç¶š** | Googleã€OpenAIã€Anthropicï¼ˆã¾ãŸã¯ãã®ä»–ï¼‰ã®APIã‚­ãƒ¼ã‚’ä½¿ç”¨ã€ã¾ãŸã¯ChatGPTï¼ˆPlus/Proï¼‰ã§ã‚µã‚¤ãƒ³ã‚¤ãƒ³ã€‚ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ãªã—ã€‚ |
| **3** | **ã‚¢ã‚¯ã‚»ã‚¹æ¨©ã‚’ä»˜ä¸Ž** | ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ãªãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠžã€‚ã‚ãªãŸãŒã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã€‚ |
| **4** | **ä½œæ¥­é–‹å§‹** | ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¦ç´„ã€ãƒ•ã‚©ãƒ«ãƒ€ã®æ•´ç†ã€ãƒ¬ãƒãƒ¼ãƒˆã®ä½œæˆã‚’ä¾é ¼ã€‚ã™ã¹ã¦ã‚’æ‰¿èªã€‚ |

<br />


<br />

<div align="center">

[**Macç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆApple Siliconï¼‰**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg) Â· [**Windows 11ç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)

</div>

<br />

---

<br />

## ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã¨ãƒ‡ãƒ¢

macOSã§ã®Accomplishã®æ¦‚è¦ã¨ã€çŸ­ã„ãƒ‡ãƒ¢å‹•ç”»ã€‚

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">
    <img src="docs/video-thumbnail.png" alt="Accomplishãƒ‡ãƒ¢ - ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã‚¿ã‚¹ã‚¯ã‚’è‡ªå‹•åŒ–ã™ã‚‹AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ" width="600" />
  </a>
</p>

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ â†’</a>
</p>

<br />

## ã‚ˆãã‚ã‚‹è³ªå•

**Accomplishã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§å‹•ä½œã—ã¾ã™ã‹ï¼Ÿ**
ã¯ã„ã€‚Accomplishã¯ãŠä½¿ã„ã®ãƒžã‚·ãƒ³ä¸Šã§ãƒ­ãƒ¼ã‚«ãƒ«ã«å‹•ä½œã—ã€ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã‚’åˆ¶å¾¡ã§ãã¾ã™ã€‚

**APIã‚­ãƒ¼ã¯å¿…è¦ã§ã™ã‹ï¼Ÿ**
ç‹¬è‡ªã®APIã‚­ãƒ¼ï¼ˆOpenAIã€Anthropicã€Googleã€xAIãªã©ï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã‹ã€OllamaçµŒç”±ã§ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¢ãƒ‡ãƒ«ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

**Accomplishã¯ç„¡æ–™ã§ã™ã‹ï¼Ÿ**
ã¯ã„ã€‚Accomplishã¯ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ã™ã€‚

**ã©ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã‹ï¼Ÿ**
macOSï¼ˆApple Siliconï¼‰ã¨Windows 11ãŒåˆ©ç”¨å¯èƒ½ã§ã™ã€‚

<br />

---

<br />

## é–‹ç™º

```bash
pnpm install
pnpm dev
```

ä»¥ä¸Šã§ã™ã€‚

<details>
<summary><strong>å‰ææ¡ä»¶</strong></summary>

- Node.js 20+
- pnpm 9+

</details>

<details>
<summary><strong>ã™ã¹ã¦ã®ã‚³ãƒžãƒ³ãƒ‰</strong></summary>

| ã‚³ãƒžãƒ³ãƒ‰ | èª¬æ˜Ž |
|---------|-------------|
| `pnpm dev` | é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã‚’å®Ÿè¡Œ |
| `pnpm dev:clean` | ã‚¯ãƒªãƒ¼ãƒ³ã‚¹ã‚¿ãƒ¼ãƒˆã§é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ |
| `pnpm build` | ã™ã¹ã¦ã®ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’ãƒ“ãƒ«ãƒ‰ |
| `pnpm build:desktop` | ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã®ã¿ãƒ“ãƒ«ãƒ‰ |
| `pnpm lint` | TypeScriptãƒã‚§ãƒƒã‚¯ |
| `pnpm typecheck` | åž‹æ¤œè¨¼ |
| `pnpm -F @accomplish/desktop test:e2e` | Playwright E2Eãƒ†ã‚¹ãƒˆ |

</details>

<details>
<summary><strong>ç’°å¢ƒå¤‰æ•°</strong></summary>

| å¤‰æ•° | èª¬æ˜Ž |
|----------|-------------|
| `CLEAN_START=1` | ã‚¢ãƒ—ãƒªèµ·å‹•æ™‚ã«ã™ã¹ã¦ã®ä¿å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¯ãƒªã‚¢ |
| `E2E_SKIP_AUTH=1` | ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ•ãƒ­ãƒ¼ã‚’ã‚¹ã‚­ãƒƒãƒ—ï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰ |

</details>

<details>
<summary><strong>ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£</strong></summary>

```
apps/
  desktop/        # Electronã‚¢ãƒ—ãƒªï¼ˆmain + preload + rendererï¼‰
packages/
  shared/         # å…±æœ‰TypeScriptåž‹
```

ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¢ãƒ—ãƒªã¯Viteã§ãƒãƒ³ãƒ‰ãƒ«ã•ã‚ŒãŸReact UIã‚’æŒã¤Electronã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚ãƒ¡ã‚¤ãƒ³ãƒ—ãƒ­ã‚»ã‚¹ã¯`node-pty`ã‚’ä½¿ç”¨ã—ã¦[OpenCode](https://github.com/sst/opencode) CLIã‚’ç”Ÿæˆã—ã¦ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚APIã‚­ãƒ¼ã¯OSã‚­ãƒ¼ãƒã‚§ãƒ¼ãƒ³ã«å®‰å…¨ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚

è©³ç´°ãªã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯[CLAUDE.md](CLAUDE.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

</details>

<br />

---

<br />

## ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³æ­“è¿Žï¼ãŠæ°—è»½ã«PRã‚’é–‹ã„ã¦ãã ã•ã„ã€‚

```bash
# Fork â†’ Clone â†’ Branch â†’ Commit â†’ Push â†’ PR
git checkout -b feature/amazing-feature
git commit -m 'Add amazing feature'
git push origin feature/amazing-feature
```

<br />

---

<br />

<div align="center">

**[Accomplishã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ](https://www.accomplish.ai/)** Â· **[Accomplishãƒ–ãƒ­ã‚°](https://www.accomplish.ai/blog/)** Â· **[Accomplishãƒªãƒªãƒ¼ã‚¹](https://github.com/accomplish-ai/accomplish/releases)** Â· **[Issues](https://github.com/accomplish-ai/accomplish/issues)** Â· **[Twitter](https://x.com/Accomplish_ai)**

<br />

MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ Â· [Accomplish](https://www.accomplish.ai)è£½

<br />

**ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼š** AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€AIãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã€ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—è‡ªå‹•åŒ–ã€ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã€ãƒ–ãƒ©ã‚¦ã‚¶è‡ªå‹•åŒ–ã€ãƒ­ãƒ¼ã‚«ãƒ«ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€macOSã€ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã€Electronã€ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ä½¿ç”¨ã€AIã‚¢ã‚·ã‚¹ã‚¿ãƒ³ãƒˆã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–ã€OpenAIã€Anthropicã€Googleã€xAIã€Claudeã€GPT-4ã€Ollama

</div>


## Links discovered
- [Ollama](https://ollama.com)
- [**Macç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆApple Siliconï¼‰**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [**Windows 11ç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [OpenCode](https://github.com/sst/opencode)
- [CLAUDE.md](https://github.com/accomplish-ai/accomplish/blob/main/CLAUDE.md)
- [Accomplishã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆ](https://www.accomplish.ai/)
- [Accomplishãƒ–ãƒ­ã‚°](https://www.accomplish.ai/blog/)
- [Accomplishãƒªãƒªãƒ¼ã‚¹](https://github.com/accomplish-ai/accomplish/releases)
- [Issues](https://github.com/accomplish-ai/accomplish/issues)
- [Twitter](https://x.com/Accomplish_ai)
- [Accomplish](https://www.accomplish.ai)
- [English](https://github.com/accomplish-ai/accomplish/blob/main/README.md)
- [ä¸­æ–‡](https://github.com/accomplish-ai/accomplish/blob/main/README.zh-CN.md)
- [í•œêµ­ì–´](https://github.com/accomplish-ai/accomplish/blob/main/README.ko.md)
- [EspaÃ±ol](https://github.com/accomplish-ai/accomplish/blob/main/README.es.md)
- [TÃ¼rkÃ§e](https://github.com/accomplish-ai/accomplish/blob/main/README.tr.md)
- [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](https://github.com/accomplish-ai/accomplish/blob/main/README.ar.md)
- [Bahasa Indonesia](https://github.com/accomplish-ai/accomplish/blob/main/README.id.md)
- [<img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹" />](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)
- [<img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" />](https://github.com/accomplish-ai/accomplish/stargazers)
- [<img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" />](https://github.com/accomplish-ai/accomplish/issues)
- [<img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="æœ€çµ‚ã‚³ãƒŸãƒƒãƒˆ" />](https://github.com/accomplish-ai/accomplish/commits)
- [<img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="macOSç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰" />](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Macç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ï¼ˆApple Siliconï¼‰</strong>](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Windows 11ç”¨ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</strong>](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [<img src="docs/video-thumbnail.png" alt="Accomplishãƒ‡ãƒ¢ - ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã‚¿ã‚¹ã‚¯ã‚’è‡ªå‹•åŒ–ã™ã‚‹AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ" width="600" />](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)
- [ãƒ‡ãƒ¢ã‚’è¦‹ã‚‹ â†’](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)

--- README.ko.md ---
<p align="center">
  <a href="README.md">English</a> | <a href="README.zh-CN.md">ä¸­æ–‡</a> | <a href="README.ja.md">æ—¥æœ¬èªž</a> | <strong>í•œêµ­ì–´</strong> | <a href="README.es.md">EspaÃ±ol</a> | <a href="README.tr.md">TÃ¼rkÃ§e</a> | <a href="README.ar.md">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a> | <a href="README.id.md">Bahasa Indonesia</a>
</p>

<p align="center">
  <img src="docs/banner.svg" alt="Accomplish - ìžì²´ AI API í‚¤ë¡œ íŒŒì¼ ê´€ë¦¬, ë¬¸ì„œ ìž‘ì„±, ë¸Œë¼ìš°ì € ìž‘ì—…ì„ ìžë™í™”í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ AI ë°ìŠ¤í¬í†± ì—ì´ì „íŠ¸" width="100%" />
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MIT ë¼ì´ì„ ìŠ¤" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/stargazers"><img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/issues"><img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/commits"><img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="ìµœê·¼ ì»¤ë°‹" /></a>
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="macOS ë‹¤ìš´ë¡œë“œ" /></a>
</p>

# Accomplishâ„¢ - ì˜¤í”ˆì†ŒìŠ¤ AI ë°ìŠ¤í¬í†± ì—ì´ì „íŠ¸

AccomplishëŠ” ë¡œì»¬ ë¨¸ì‹ ì—ì„œ íŒŒì¼ ê´€ë¦¬, ë¬¸ì„œ ìž‘ì„±, ë¸Œë¼ìš°ì € ìž‘ì—…ì„ ìžë™í™”í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ AI ë°ìŠ¤í¬í†± ì—ì´ì „íŠ¸ìž…ë‹ˆë‹¤. ìžì²´ API í‚¤(OpenAI, Anthropic, Google, xAI)ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ Ollamaë¥¼ í†µí•´ ë¡œì»¬ ëª¨ë¸ì„ ì‹¤í–‰í•˜ì„¸ìš”.

<p align="center">
  <strong>ë¡œì»¬ ë¨¸ì‹ ì—ì„œ ì‹¤í–‰. ìžì²´ API í‚¤ ë˜ëŠ” ë¡œì»¬ ëª¨ë¸ ì‚¬ìš©. MIT ë¼ì´ì„ ìŠ¤.</strong>
</p>

<p align="center">
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><strong>Macìš© ë‹¤ìš´ë¡œë“œ (Apple Silicon)</strong></a>
  Â·
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe"><strong>Windows 11ìš© ë‹¤ìš´ë¡œë“œ</strong></a>
  Â·
  <a href="https://www.accomplish.ai/">Accomplish ì›¹ì‚¬ì´íŠ¸</a>
  Â·
  <a href="https://www.accomplish.ai/blog/">Accomplish ë¸”ë¡œê·¸</a>
  Â·
  <a href="https://github.com/accomplish-ai/accomplish/releases">Accomplish ë¦´ë¦¬ìŠ¤</a>
</p>

<br />

---

<br />

## ë¬´ì—‡ì´ ë‹¤ë¥¸ê°€

<table>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ–¥ï¸ ë¡œì»¬ì—ì„œ ì‹¤í–‰

<div align="left">

- íŒŒì¼ì€ ë‚´ ë¨¸ì‹ ì— ì €ìž¥
- ì ‘ê·¼ ê°€ëŠ¥í•œ í´ë”ë¥¼ ì§ì ‘ ê²°ì •
- Accomplish(ë˜ëŠ” ëˆ„êµ¬ì—ê²Œë„)ì— ë°ì´í„°ê°€ ì „ì†¡ë˜ì§€ ì•ŠìŒ

</div>

</td>
<td width="50%" valign="top" align="center">

### ðŸ”‘ ìžì²´ AI ì‚¬ìš©

<div align="left">

- ìžì²´ API í‚¤ ì‚¬ìš© (OpenAI, Anthropic ë“±)
- ë˜ëŠ” [Ollama](https://ollama.com)ë¡œ ì‹¤í–‰ (API í‚¤ ë¶ˆí•„ìš”)
- êµ¬ë… ì—†ìŒ, ì—…ì…€ ì—†ìŒ
- ì„œë¹„ìŠ¤ê°€ ì•„ë‹Œ ë„êµ¬

</div>

</td>
</tr>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ“– ì˜¤í”ˆì†ŒìŠ¤

<div align="left">

- ëª¨ë“  ì½”ë“œê°€ GitHubì— ê³µê°œ
- MIT ë¼ì´ì„ ìŠ¤
- ìˆ˜ì •, í¬í¬, ë³€ê²½, ìˆ˜ì • ìžìœ 

</div>

</td>
<td width="50%" valign="top" align="center">

### âš¡ ì±„íŒ…ë§Œì´ ì•„ë‹Œ ì‹¤í–‰

<div align="left">

- íŒŒì¼ ê´€ë¦¬
- ë¬¸ì„œ ìž‘ì„±
- ì»¤ìŠ¤í…€ ìžë™í™”
- ìŠ¤í‚¬ í•™ìŠµ

</div>

</td>
</tr>
</table>

<br />

---

<br />

## ì‹¤ì œ ê¸°ëŠ¥

| | | |
|:--|:--|:--|
| **ðŸ“ íŒŒì¼ ê´€ë¦¬** | **âœï¸ ë¬¸ì„œ ìž‘ì„±** | **ðŸ”— ë„êµ¬ ì—°ê²°** |
| ì½˜í…ì¸ ë‚˜ ê·œì¹™ì— ë”°ë¼ íŒŒì¼ ì •ë¦¬, ì´ë¦„ ë³€ê²½, ì´ë™ | ë¬¸ì„œ ìž‘ì„±, ìš”ì•½, ìž¬ìž‘ì„± ì§€ì‹œ | Notion, Google Drive, Dropbox ë“±ê³¼ ì—°ë™ (ë¡œì»¬ API í†µí•´) |
| | | |
| **âš™ï¸ ì»¤ìŠ¤í…€ ìŠ¤í‚¬** | **ðŸ›¡ï¸ ì™„ì „í•œ ì œì–´** | |
| ë°˜ë³µ ì›Œí¬í”Œë¡œìš°ë¥¼ ì •ì˜í•˜ê³  ìŠ¤í‚¬ë¡œ ì €ìž¥ | ëª¨ë“  ìž‘ì—…ì„ ìŠ¹ì¸. ë¡œê·¸ í™•ì¸ ê°€ëŠ¥. ì–¸ì œë“  ì¤‘ì§€ ê°€ëŠ¥. | |

<br />

## ì‚¬ìš© ì‚¬ë¡€

- í”„ë¡œì íŠ¸, íŒŒì¼ ìœ í˜•, ë‚ ì§œë³„ë¡œ í´ë” ì •ë¦¬
- ë¬¸ì„œ, ë³´ê³ ì„œ, íšŒì˜ë¡ ìž‘ì„±, ìš”ì•½, ìž¬ìž‘ì„±
- ë¦¬ì„œì¹˜ ë° ì–‘ì‹ ìž‘ì„± ë“± ë¸Œë¼ìš°ì € ì›Œí¬í”Œë¡œìš° ìžë™í™”
- íŒŒì¼ê³¼ ë…¸íŠ¸ì—ì„œ ì£¼ê°„ ì—…ë°ì´íŠ¸ ìƒì„±
- ë¬¸ì„œì™€ ìº˜ë¦°ë”ì—ì„œ íšŒì˜ ìžë£Œ ì¤€ë¹„

<br />

## ì§€ì› ëª¨ë¸ ë° ì œê³µì—…ì²´

- Anthropic (Claude)
- OpenAI (GPT)
- Google AI (Gemini)
- xAI (Grok)
- DeepSeek
- Moonshot AI (Kimi)
- Z.AI (GLM)
- MiniMax
- Amazon Bedrock
- Azure Foundry
- OpenRouter
- LiteLLM
- Ollama (ë¡œì»¬ ëª¨ë¸)
- LM Studio (ë¡œì»¬ ëª¨ë¸)

<br />

## í”„ë¼ì´ë²„ì‹œ ë° ë¡œì»¬ ìš°ì„ 

AccomplishëŠ” ë¡œì»¬ ë¨¸ì‹ ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤. íŒŒì¼ì€ ê¸°ê¸°ì— ì €ìž¥ë˜ë©°, ì ‘ê·¼ ê°€ëŠ¥í•œ í´ë”ë¥¼ ì„ íƒí•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

<br />

## ì‹œìŠ¤í…œ ìš”êµ¬ ì‚¬í•­

- macOS (Apple Silicon)
- Windows 11

<br />

---

<br />

## ì‚¬ìš© ë°©ë²•

> **ì„¤ì •ì€ 2ë¶„ì´ë©´ ì™„ë£Œ.**

| ë‹¨ê³„ | ìž‘ì—… | ì„¸ë¶€ì‚¬í•­ |
|:----:|--------|---------|
| **1** | **ì•± ì„¤ì¹˜** | DMG ë‹¤ìš´ë¡œë“œ í›„ ì‘ìš© í”„ë¡œê·¸ëž¨ í´ë”ë¡œ ë“œëž˜ê·¸ |
| **2** | **AI ì—°ê²°** | Google, OpenAI, Anthropic (ë˜ëŠ” ê¸°íƒ€) API í‚¤ ì‚¬ìš© ë˜ëŠ” ChatGPT (Plus/Pro)ë¡œ ë¡œê·¸ì¸. êµ¬ë… ì—†ìŒ. |
| **3** | **ì ‘ê·¼ ê¶Œí•œ ë¶€ì—¬** | ì ‘ê·¼ ê°€ëŠ¥í•œ í´ë” ì„ íƒ. ì‚¬ìš©ìžê°€ ì œì–´. |
| **4** | **ìž‘ì—… ì‹œìž‘** | ë¬¸ì„œ ìš”ì•½, í´ë” ì •ë¦¬, ë³´ê³ ì„œ ìƒì„± ìš”ì²­. ëª¨ë“  ìž‘ì—… ìŠ¹ì¸. |

<br />


<br />

<div align="center">

[**Macìš© ë‹¤ìš´ë¡œë“œ (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg) Â· [**Windows 11ìš© ë‹¤ìš´ë¡œë“œ**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)

</div>

<br />

---

<br />

## ìŠ¤í¬ë¦°ìƒ· ë° ë°ëª¨

macOSì—ì„œì˜ Accomplish ë¹ ë¥¸ ë‘˜ëŸ¬ë³´ê¸°ì™€ ì§§ì€ ë°ëª¨ ì˜ìƒ.

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">
    <img src="docs/video-thumbnail.png" alt="Accomplish ë°ëª¨ - íŒŒì¼ ê´€ë¦¬ ë° ë¸Œë¼ìš°ì € ìž‘ì—…ì„ ìžë™í™”í•˜ëŠ” AI ì—ì´ì „íŠ¸" width="600" />
  </a>
</p>

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">ë°ëª¨ ë³´ê¸° â†’</a>
</p>

<br />

## ìžì£¼ ë¬»ëŠ” ì§ˆë¬¸

**AccomplishëŠ” ë¡œì»¬ì—ì„œ ì‹¤í–‰ë˜ë‚˜ìš”?**
ë„¤. AccomplishëŠ” ë¡œì»¬ ë¨¸ì‹ ì—ì„œ ì‹¤í–‰ë˜ë©°, ì ‘ê·¼ ê°€ëŠ¥í•œ í´ë”ë¥¼ ì œì–´í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

**API í‚¤ê°€ í•„ìš”í•œê°€ìš”?**
ìžì²´ API í‚¤ (OpenAI, Anthropic, Google, xAI ë“±)ë¥¼ ì‚¬ìš©í•˜ê±°ë‚˜ Ollamaë¥¼ í†µí•´ ë¡œì»¬ ëª¨ë¸ì„ ì‹¤í–‰í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤.

**AccomplishëŠ” ë¬´ë£Œì¸ê°€ìš”?**
ë„¤. AccomplishëŠ” ì˜¤í”ˆì†ŒìŠ¤ì´ë©° MIT ë¼ì´ì„ ìŠ¤ìž…ë‹ˆë‹¤.

**ì–´ë–¤ í”Œëž«í¼ì„ ì§€ì›í•˜ë‚˜ìš”?**
macOS (Apple Silicon)ì™€ Windows 11ì´ í˜„ìž¬ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

<br />

---

<br />

## ê°œë°œ

```bash
pnpm install
pnpm dev
```

ëìž…ë‹ˆë‹¤.

<details>
<summary><strong>ì‚¬ì „ ìš”êµ¬ ì‚¬í•­</strong></summary>

- Node.js 20+
- pnpm 9+

</details>

<details>
<summary><strong>ëª¨ë“  ëª…ë ¹ì–´</strong></summary>

| ëª…ë ¹ì–´ | ì„¤ëª… |
|---------|-------------|
| `pnpm dev` | ê°œë°œ ëª¨ë“œë¡œ ë°ìŠ¤í¬í†± ì•± ì‹¤í–‰ |
| `pnpm dev:clean` | í´ë¦° ìŠ¤íƒ€íŠ¸ë¡œ ê°œë°œ ëª¨ë“œ |
| `pnpm build` | ëª¨ë“  ì›Œí¬ìŠ¤íŽ˜ì´ìŠ¤ ë¹Œë“œ |
| `pnpm build:desktop` | ë°ìŠ¤í¬í†± ì•±ë§Œ ë¹Œë“œ |
| `pnpm lint` | TypeScript ê²€ì‚¬ |
| `pnpm typecheck` | íƒ€ìž… ê²€ì¦ |
| `pnpm -F @accomplish/desktop test:e2e` | Playwright E2E í…ŒìŠ¤íŠ¸ |

</details>

<details>
<summary><strong>í™˜ê²½ ë³€ìˆ˜</strong></summary>

| ë³€ìˆ˜ | ì„¤ëª… |
|----------|-------------|
| `CLEAN_START=1` | ì•± ì‹œìž‘ ì‹œ ëª¨ë“  ì €ìž¥ ë°ì´í„° ì‚­ì œ |
| `E2E_SKIP_AUTH=1` | ì˜¨ë³´ë”© í”Œë¡œìš° ê±´ë„ˆë›°ê¸° (í…ŒìŠ¤íŠ¸ìš©) |

</details>

<details>
<summary><strong>ì•„í‚¤í…ì²˜</strong></summary>

```
apps/
  desktop/        # Electron ì•± (main + preload + renderer)
packages/
  shared/         # ê³µìœ  TypeScript íƒ€ìž…
```

ë°ìŠ¤í¬í†± ì•±ì€ Viteë¡œ ë²ˆë“¤ë§ëœ React UIì™€ í•¨ê»˜ Electronì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ë©”ì¸ í”„ë¡œì„¸ìŠ¤ëŠ” `node-pty`ë¥¼ ì‚¬ìš©í•˜ì—¬ [OpenCode](https://github.com/sst/opencode) CLIë¥¼ ìƒì„±í•˜ì—¬ ìž‘ì—…ì„ ì‹¤í–‰í•©ë‹ˆë‹¤. API í‚¤ëŠ” OS í‚¤ì²´ì¸ì— ì•ˆì „í•˜ê²Œ ì €ìž¥ë©ë‹ˆë‹¤.

ìžì„¸í•œ ì•„í‚¤í…ì²˜ ë¬¸ì„œëŠ” [CLAUDE.md](CLAUDE.md)ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.

</details>

<br />

---

<br />

## ê¸°ì—¬

ê¸°ì—¬ë¥¼ í™˜ì˜í•©ë‹ˆë‹¤! PRì„ ìžìœ ë¡­ê²Œ ì—´ì–´ì£¼ì„¸ìš”.

```bash
# Fork â†’ Clone â†’ Branch â†’ Commit â†’ Push â†’ PR
git checkout -b feature/amazing-feature
git commit -m 'Add amazing feature'
git push origin feature/amazing-feature
```

<br />

---

<br />

<div align="center">

**[Accomplish ì›¹ì‚¬ì´íŠ¸](https://www.accomplish.ai/)** Â· **[Accomplish ë¸”ë¡œê·¸](https://www.accomplish.ai/blog/)** Â· **[Accomplish ë¦´ë¦¬ìŠ¤](https://github.com/accomplish-ai/accomplish/releases)** Â· **[Issues](https://github.com/accomplish-ai/accomplish/issues)** Â· **[Twitter](https://x.com/Accomplish_ai)**

<br />

MIT ë¼ì´ì„ ìŠ¤ Â· [Accomplish](https://www.accomplish.ai) ì œìž‘

<br />

**í‚¤ì›Œë“œ:** AI ì—ì´ì „íŠ¸, AI ë°ìŠ¤í¬í†± ì—ì´ì „íŠ¸, ë°ìŠ¤í¬í†± ìžë™í™”, íŒŒì¼ ê´€ë¦¬, ë¬¸ì„œ ìž‘ì„±, ë¸Œë¼ìš°ì € ìžë™í™”, ë¡œì»¬ ìš°ì„ , macOS, í”„ë¼ì´ë²„ì‹œ ìš°ì„ , ì˜¤í”ˆì†ŒìŠ¤, Electron, ì»´í“¨í„° ì‚¬ìš©, AI ì–´ì‹œìŠ¤í„´íŠ¸, ì›Œí¬í”Œë¡œìš° ìžë™í™”, OpenAI, Anthropic, Google, xAI, Claude, GPT-4, Ollama

</div>


## Links discovered
- [Ollama](https://ollama.com)
- [**Macìš© ë‹¤ìš´ë¡œë“œ (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [**Windows 11ìš© ë‹¤ìš´ë¡œë“œ**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [OpenCode](https://github.com/sst/opencode)
- [CLAUDE.md](https://github.com/accomplish-ai/accomplish/blob/main/CLAUDE.md)
- [Accomplish ì›¹ì‚¬ì´íŠ¸](https://www.accomplish.ai/)
- [Accomplish ë¸”ë¡œê·¸](https://www.accomplish.ai/blog/)
- [Accomplish ë¦´ë¦¬ìŠ¤](https://github.com/accomplish-ai/accomplish/releases)
- [Issues](https://github.com/accomplish-ai/accomplish/issues)
- [Twitter](https://x.com/Accomplish_ai)
- [Accomplish](https://www.accomplish.ai)
- [English](https://github.com/accomplish-ai/accomplish/blob/main/README.md)
- [ä¸­æ–‡](https://github.com/accomplish-ai/accomplish/blob/main/README.zh-CN.md)
- [æ—¥æœ¬èªž](https://github.com/accomplish-ai/accomplish/blob/main/README.ja.md)
- [EspaÃ±ol](https://github.com/accomplish-ai/accomplish/blob/main/README.es.md)
- [TÃ¼rkÃ§e](https://github.com/accomplish-ai/accomplish/blob/main/README.tr.md)
- [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](https://github.com/accomplish-ai/accomplish/blob/main/README.ar.md)
- [Bahasa Indonesia](https://github.com/accomplish-ai/accomplish/blob/main/README.id.md)
- [<img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MIT ë¼ì´ì„ ìŠ¤" />](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)
- [<img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" />](https://github.com/accomplish-ai/accomplish/stargazers)
- [<img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" />](https://github.com/accomplish-ai/accomplish/issues)
- [<img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="ìµœê·¼ ì»¤ë°‹" />](https://github.com/accomplish-ai/accomplish/commits)
- [<img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="macOS ë‹¤ìš´ë¡œë“œ" />](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Macìš© ë‹¤ìš´ë¡œë“œ (Apple Silicon)</strong>](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Windows 11ìš© ë‹¤ìš´ë¡œë“œ</strong>](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [<img src="docs/video-thumbnail.png" alt="Accomplish ë°ëª¨ - íŒŒì¼ ê´€ë¦¬ ë° ë¸Œë¼ìš°ì € ìž‘ì—…ì„ ìžë™í™”í•˜ëŠ” AI ì—ì´ì „íŠ¸" width="600" />](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)
- [ë°ëª¨ ë³´ê¸° â†’](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)

--- README.md ---
<p align="center">
  <strong>English</strong> | <a href="README.zh-CN.md">ä¸­æ–‡</a> | <a href="README.ja.md">æ—¥æœ¬èªž</a> | <a href="README.ko.md">í•œêµ­ì–´</a> | <a href="README.es.md">EspaÃ±ol</a> | <a href="README.tr.md">TÃ¼rkÃ§e</a> | <a href="README.ar.md">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a> | <a href="README.id.md">Bahasa Indonesia</a>
</p>

<p align="center">
  <img src="docs/banner.svg" alt="Accomplish - Open source AI desktop agent that automates file management, document creation, and browser tasks with your own AI API keys" width="100%" />
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MIT License" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/stargazers"><img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/issues"><img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/commits"><img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Last Commit" /></a>
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="Download for macOS" /></a>
</p>

# Accomplishâ„¢ (formerly Openwork) - Open Source AI Desktop Agent

Accomplish is an open source AI desktop agent that automates file management, document creation, and browser tasks locally on your machine. Bring your own API keys (OpenAI, Anthropic, Google, xAI) or run local models via Ollama.

<p align="center">
  <strong>Runs locally on your machine. Bring your own API keys or local models. MIT licensed.</strong>
</p>

<p align="center">
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><strong>Download for Mac (Apple Silicon)</strong></a>
  Â·
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe"><strong>Download for Windows 11</strong></a>
  Â·
  <a href="https://www.accomplish.ai/">Accomplish website</a>
  Â·
  <a href="https://www.accomplish.ai/blog/">Accomplish blog</a>
  Â·
  <a href="https://github.com/accomplish-ai/accomplish/releases">Accomplish releases</a>
</p>

<br />

---

<br />

## What makes it different

<table>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ–¥ï¸  It runs locally

<div align="left">

- Your files stay on your machine
- You decide which folders it can touch
- Nothing gets sent to Accomplish (or anyone else)

</div>

</td>
<td width="50%" valign="top" align="center">

### ðŸ”‘  You bring your own AI

<div align="left">

- Use your own API key (OpenAI, Anthropic, etc.)
- Or run with [Ollama](https://ollama.com) (no API key needed)
- No subscription, no upsell
- It's a toolâ€”not a service

</div>

</td>
</tr>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ“–  It's open source

<div align="left">

- Every line of code is on GitHub
- MIT licensed
- Change it, fork it, break it, fix it

</div>

</td>
<td width="50%" valign="top" align="center">

### âš¡  It acts, not just chats

<div align="left">

- File management
- Document creation
- Custom automations
- Skill learning

</div>

</td>
</tr>
</table>

<br />

---

<br />

## What it actually does

| | | |
|:--|:--|:--|
| **ðŸ“ File Management** | **âœï¸ Document Writing** | **ðŸ”— Tool Connections** |
| Sort, rename, and move files based on content or rules you give it | Prompt it to write, summarize, or rewrite documents | Works with Notion, Google Drive, Dropbox, and more (through local APIs) |
| | | |
| **âš™ï¸ Custom Skills** | **ðŸ›¡ï¸ Full Control** | |
| Define repeatable workflows, save them as skills | You approve every action. You can see logs. You can stop it anytime. | |

<br />

## Use cases

- Clean up messy folders by project, file type, or date
- Draft, summarize, and rewrite docs, reports, and meeting notes
- Automate browser workflows like research and form entry
- Generate weekly updates from files and notes
- Prepare meeting materials from docs and calendars

<br />

## Supported models and providers

- Anthropic (Claude)
- OpenAI (GPT)
- Google AI (Gemini)
- xAI (Grok)
- DeepSeek
- Moonshot AI (Kimi)
- Z.AI (GLM)
- MiniMax
- Amazon Bedrock
- Azure Foundry
- OpenRouter
- LiteLLM
- Ollama (local models)
- LM Studio (local models)

<br />

## Privacy and local-first

Accomplish runs locally on your machine. Your files stay on your device, and you choose which folders it can access.

<br />

## System requirements

- macOS (Apple Silicon)
- Windows 11

<br />

---

<br />

## How to use it

> **Takes 2 minutes to set up.**

| Step | Action | Details |
|:----:|--------|---------|
| **1** | **Install the App** | Download the DMG and drag it into Applications |
| **2** | **Connect Your AI** | Use your own Google, OpenAI, Anthropic (or other) API key â€” or sign in with ChatGPT (Plus/Pro). No subscriptions. |
| **3** | **Give It Access** | Choose which folders it can see. You stay in control. |
| **4** | **Start Working** | Ask it to summarize a doc, clean a folder, or create a report. You approve everything. |

<br />


<br />

<div align="center">

[**Download for Mac (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg) Â· [**Download for Windows 11**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)

</div>

<br />

---

<br />

## Screenshots and Demo

A quick look at Accomplish on macOS, plus a short demo video.

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">
    <img src="docs/video-thumbnail.png" alt="Accomplish demo - AI agent automating file management and browser tasks" width="600" />
  </a>
</p>

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">Watch the demo â†’</a>
</p>

<br />

## FAQ

**Does Accomplish run locally?**  
Yes. Accomplish runs locally on your machine and you control which folders it can access.

**Do I need an API key?**  
You can use your own API keys (OpenAI, Anthropic, Google, xAI, etc.) or run local models via Ollama.

**Is Accomplish free?**  
Yes. Accomplish is open source and MIT licensed.

**Which platforms are supported?**
macOS (Apple Silicon) and Windows 11 are available now.

<br />

---

<br />

## Development

```bash
pnpm install
pnpm dev
```

That's it.

<details>
<summary><strong>Prerequisites</strong></summary>

- Node.js 20+
- pnpm 9+

</details>

<details>
<summary><strong>All Commands</strong></summary>

| Command | Description |
|---------|-------------|
| `pnpm dev` | Run desktop app in dev mode |
| `pnpm dev:clean` | Dev mode with clean start |
| `pnpm build` | Build all workspaces |
| `pnpm build:desktop` | Build desktop app only |
| `pnpm lint` | TypeScript checks |
| `pnpm typecheck` | Type validation |
| `pnpm -F @accomplish/desktop test:e2e` | Playwright E2E tests |

</details>

<details>
<summary><strong>Environment Variables</strong></summary>

| Variable | Description |
|----------|-------------|
| `CLEAN_START=1` | Clear all stored data on app start |
| `E2E_SKIP_AUTH=1` | Skip onboarding flow (for testing) |

</details>

<details>
<summary><strong>Architecture</strong></summary>

```
apps/
  desktop/        # Electron app (main + preload + renderer)
packages/
  shared/         # Shared TypeScript types
```

The desktop app uses Electron with a React UI bundled via Vite. The main process spawns [OpenCode](https://github.com/sst/opencode) CLI using `node-pty` to execute tasks. API keys are stored securely in the OS keychain.

See [CLAUDE.md](CLAUDE.md) for detailed architecture documentation.

</details>

<br />

---

<br />

## Contributing

Contributions welcome! Feel free to open a PR.

```bash
# Fork â†’ Clone â†’ Branch â†’ Commit â†’ Push â†’ PR
git checkout -b feature/amazing-feature
git commit -m 'Add amazing feature'
git push origin feature/amazing-feature
```

<br />

---

<br />

<div align="center">

**[Accomplish website](https://www.accomplish.ai/)** Â· **[Accomplish blog](https://www.accomplish.ai/blog/)** Â· **[Accomplish releases](https://github.com/accomplish-ai/accomplish/releases)** Â· **[Issues](https://github.com/accomplish-ai/accomplish/issues)** Â· **[Twitter](https://x.com/Accomplish_ai)**

<br />

MIT License Â· Built by [Accomplish](https://www.accomplish.ai)

<br />

**Keywords:** AI agent, AI desktop agent, desktop automation, file management, document creation, browser automation, local-first, macOS, privacy-first, open source, Electron, computer use, AI assistant, workflow automation, OpenAI, Anthropic, Google, xAI, Claude, GPT-4, Ollama

</div>


## Links discovered
- [Ollama](https://ollama.com)
- [**Download for Mac (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [**Download for Windows 11**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [OpenCode](https://github.com/sst/opencode)
- [CLAUDE.md](https://github.com/accomplish-ai/accomplish/blob/main/CLAUDE.md)
- [Accomplish website](https://www.accomplish.ai/)
- [Accomplish blog](https://www.accomplish.ai/blog/)
- [Accomplish releases](https://github.com/accomplish-ai/accomplish/releases)
- [Issues](https://github.com/accomplish-ai/accomplish/issues)
- [Twitter](https://x.com/Accomplish_ai)
- [Accomplish](https://www.accomplish.ai)
- [ä¸­æ–‡](https://github.com/accomplish-ai/accomplish/blob/main/README.zh-CN.md)
- [æ—¥æœ¬èªž](https://github.com/accomplish-ai/accomplish/blob/main/README.ja.md)
- [í•œêµ­ì–´](https://github.com/accomplish-ai/accomplish/blob/main/README.ko.md)
- [EspaÃ±ol](https://github.com/accomplish-ai/accomplish/blob/main/README.es.md)
- [TÃ¼rkÃ§e](https://github.com/accomplish-ai/accomplish/blob/main/README.tr.md)
- [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](https://github.com/accomplish-ai/accomplish/blob/main/README.ar.md)
- [Bahasa Indonesia](https://github.com/accomplish-ai/accomplish/blob/main/README.id.md)
- [<img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MIT License" />](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)
- [<img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" />](https://github.com/accomplish-ai/accomplish/stargazers)
- [<img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" />](https://github.com/accomplish-ai/accomplish/issues)
- [<img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Last Commit" />](https://github.com/accomplish-ai/accomplish/commits)
- [<img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="Download for macOS" />](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Download for Mac (Apple Silicon)</strong>](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Download for Windows 11</strong>](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [<img src="docs/video-thumbnail.png" alt="Accomplish demo - AI agent automating file management and browser tasks" width="600" />](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)
- [Watch the demo â†’](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)

--- README.tr.md ---
<p align="center">
  <a href="README.md">English</a> | <a href="README.zh-CN.md">ä¸­æ–‡</a> | <a href="README.ja.md">æ—¥æœ¬èªž</a> | <a href="README.ko.md">í•œêµ­ì–´</a> | <a href="README.es.md">EspaÃ±ol</a> | <strong>TÃ¼rkÃ§e</strong> | <a href="README.ar.md">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a> | <a href="README.id.md">Bahasa Indonesia</a>
</p>

<p align="center">
  <img src="docs/banner.svg" alt="Accomplish - Kendi AI API anahtarlarÄ±nÄ±zla dosya yÃ¶netimi, belge oluÅŸturma ve tarayÄ±cÄ± gÃ¶revlerini otomatikleÅŸtiren aÃ§Ä±k kaynaklÄ± AI masaÃ¼stÃ¼ ajanÄ±" width="100%" />
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MIT LisansÄ±" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/stargazers"><img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/issues"><img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/commits"><img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Son Commit" /></a>
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="macOS iÃ§in Ä°ndir" /></a>
</p>

# Accomplishâ„¢ - AÃ§Ä±k KaynaklÄ± AI MasaÃ¼stÃ¼ AjanÄ±

Accomplish, bilgisayarÄ±nÄ±zda yerel olarak dosya yÃ¶netimi, belge oluÅŸturma ve tarayÄ±cÄ± gÃ¶revlerini otomatikleÅŸtiren aÃ§Ä±k kaynaklÄ± bir AI masaÃ¼stÃ¼ ajanÄ±dÄ±r. Kendi API anahtarlarÄ±nÄ±zÄ± (OpenAI, Anthropic, Google, xAI) kullanÄ±n veya Ollama Ã¼zerinden yerel modeller Ã§alÄ±ÅŸtÄ±rÄ±n.

<p align="center">
  <strong>BilgisayarÄ±nÄ±zda yerel olarak Ã§alÄ±ÅŸÄ±r. Kendi API anahtarlarÄ±nÄ±zÄ± veya yerel modellerinizi kullanÄ±n. MIT lisanslÄ±.</strong>
</p>

<p align="center">
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><strong>Mac iÃ§in Ä°ndirin (Apple Silicon)</strong></a>
  Â·
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe"><strong>Windows 11 iÃ§in Ä°ndirin</strong></a>
  Â·
  <a href="https://www.accomplish.ai/">Accomplish web sitesi</a>
  Â·
  <a href="https://www.accomplish.ai/blog/">Accomplish blogu</a>
  Â·
  <a href="https://github.com/accomplish-ai/accomplish/releases">Accomplish sÃ¼rÃ¼mleri</a>
</p>

<br />

---

<br />

## FarkÄ± ne

<table>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ–¥ï¸ Yerel olarak Ã§alÄ±ÅŸÄ±r

<div align="left">

- DosyalarÄ±nÄ±z bilgisayarÄ±nÄ±zda kalÄ±r
- Hangi klasÃ¶rlere eriÅŸebileceÄŸine siz karar verirsiniz
- Accomplish'e (veya baÅŸka birine) hiÃ§bir ÅŸey gÃ¶nderilmez

</div>

</td>
<td width="50%" valign="top" align="center">

### ðŸ”‘ Kendi AI'Ä±nÄ±zÄ± getirin

<div align="left">

- Kendi API anahtarÄ±nÄ±zÄ± kullanÄ±n (OpenAI, Anthropic, vb.)
- Veya [Ollama](https://ollama.com) ile Ã§alÄ±ÅŸtÄ±rÄ±n (API anahtarÄ± gerekmez)
- Abonelik yok, ek satÄ±ÅŸ yok
- Bu bir araÃ§â€”hizmet deÄŸil

</div>

</td>
</tr>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ“– AÃ§Ä±k kaynak

<div align="left">

- Her satÄ±r kod GitHub'da
- MIT lisanslÄ±
- DeÄŸiÅŸtirin, forklayÄ±n, bozun, dÃ¼zeltin

</div>

</td>
<td width="50%" valign="top" align="center">

### âš¡ Sadece sohbet deÄŸil, eylem

<div align="left">

- Dosya yÃ¶netimi
- Belge oluÅŸturma
- Ã–zel otomasyonlar
- Beceri Ã¶ÄŸrenme

</div>

</td>
</tr>
</table>

<br />

---

<br />

## GerÃ§ekte ne yapÄ±yor

| | | |
|:--|:--|:--|
| **ðŸ“ Dosya YÃ¶netimi** | **âœï¸ Belge Yazma** | **ðŸ”— AraÃ§ BaÄŸlantÄ±larÄ±** |
| Ä°Ã§eriÄŸe veya belirlediÄŸiniz kurallara gÃ¶re dosyalarÄ± sÄ±ralar, yeniden adlandÄ±rÄ±r ve taÅŸÄ±r | Belge yazmasÄ±nÄ±, Ã¶zetlemesini veya yeniden yazmasÄ±nÄ± isteyin | Notion, Google Drive, Dropbox ve daha fazlasÄ±yla Ã§alÄ±ÅŸÄ±r (yerel API'ler aracÄ±lÄ±ÄŸÄ±yla) |
| | | |
| **âš™ï¸ Ã–zel Beceriler** | **ðŸ›¡ï¸ Tam Kontrol** | |
| Tekrarlanabilir iÅŸ akÄ±ÅŸlarÄ± tanÄ±mlayÄ±n, beceri olarak kaydedin | Her eylemi onaylarsÄ±nÄ±z. GÃ¼nlÃ¼kleri gÃ¶rebilirsiniz. Ä°stediÄŸiniz zaman durdurabilirsiniz. | |

<br />

## KullanÄ±m senaryolarÄ±

- DaÄŸÄ±nÄ±k klasÃ¶rleri proje, dosya tÃ¼rÃ¼ veya tarihe gÃ¶re temizleyin
- Belgeler, raporlar ve toplantÄ± notlarÄ± taslaÄŸÄ± oluÅŸturun, Ã¶zetleyin ve yeniden yazÄ±n
- AraÅŸtÄ±rma ve form doldurma gibi tarayÄ±cÄ± iÅŸ akÄ±ÅŸlarÄ±nÄ± otomatikleÅŸtirin
- Dosyalardan ve notlardan haftalÄ±k gÃ¼ncellemeler oluÅŸturun
- Belgelerden ve takvimlerden toplantÄ± materyalleri hazÄ±rlayÄ±n

<br />

## Desteklenen modeller ve saÄŸlayÄ±cÄ±lar

- Anthropic (Claude)
- OpenAI (GPT)
- Google AI (Gemini)
- xAI (Grok)
- DeepSeek
- Moonshot AI (Kimi)
- Z.AI (GLM)
- MiniMax
- Amazon Bedrock
- Azure Foundry
- OpenRouter
- LiteLLM
- Ollama (yerel modeller)
- LM Studio (yerel modeller)

<br />

## Gizlilik ve yerel Ã¶ncelikli

Accomplish bilgisayarÄ±nÄ±zda yerel olarak Ã§alÄ±ÅŸÄ±r. DosyalarÄ±nÄ±z cihazÄ±nÄ±zda kalÄ±r ve hangi klasÃ¶rlere eriÅŸebileceÄŸini siz seÃ§ersiniz.

<br />

## Sistem gereksinimleri

- macOS (Apple Silicon)
- Windows 11

<br />

---

<br />

## NasÄ±l kullanÄ±lÄ±r

> **Kurulum 2 dakika sÃ¼rer.**

| AdÄ±m | Eylem | Detaylar |
|:----:|--------|---------|
| **1** | **UygulamayÄ± Kurun** | DMG'yi indirin ve Uygulamalar'a sÃ¼rÃ¼kleyin |
| **2** | **AI'Ä±nÄ±zÄ± BaÄŸlayÄ±n** | Kendi Google, OpenAI, Anthropic (veya diÄŸer) API anahtarÄ±nÄ±zÄ± kullanÄ±n â€” veya ChatGPT (Plus/Pro) ile giriÅŸ yapÄ±n. Abonelik yok. |
| **3** | **EriÅŸim Verin** | Hangi klasÃ¶rleri gÃ¶rebileceÄŸini seÃ§in. Kontrol sizde. |
| **4** | **Ã‡alÄ±ÅŸmaya BaÅŸlayÄ±n** | Bir belgeyi Ã¶zetlemesini, klasÃ¶r dÃ¼zenlemesini veya rapor oluÅŸturmasÄ±nÄ± isteyin. Her ÅŸeyi onaylarsÄ±nÄ±z. |

<br />


<br />

<div align="center">

[**Mac iÃ§in Ä°ndirin (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg) Â· [**Windows 11 iÃ§in Ä°ndirin**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)

</div>

<br />

---

<br />

## Ekran gÃ¶rÃ¼ntÃ¼leri ve Demo

macOS'ta Accomplish'e hÄ±zlÄ± bir bakÄ±ÅŸ ve kÄ±sa bir demo videosu.

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">
    <img src="docs/video-thumbnail.png" alt="Accomplish demosu - Dosya yÃ¶netimi ve tarayÄ±cÄ± gÃ¶revlerini otomatikleÅŸtiren AI ajanÄ±" width="600" />
  </a>
</p>

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">Demoyu izle â†’</a>
</p>

<br />

## SÄ±k sorulan sorular

**Accomplish yerel olarak mÄ± Ã§alÄ±ÅŸÄ±yor?**
Evet. Accomplish bilgisayarÄ±nÄ±zda yerel olarak Ã§alÄ±ÅŸÄ±r ve hangi klasÃ¶rlere eriÅŸebileceÄŸini kontrol edersiniz.

**API anahtarÄ±na ihtiyacÄ±m var mÄ±?**
Kendi API anahtarlarÄ±nÄ±zÄ± (OpenAI, Anthropic, Google, xAI, vb.) kullanabilir veya Ollama Ã¼zerinden yerel modeller Ã§alÄ±ÅŸtÄ±rabilirsiniz.

**Accomplish Ã¼cretsiz mi?**
Evet. Accomplish aÃ§Ä±k kaynaklÄ±dÄ±r ve MIT lisanslÄ±dÄ±r.

**Hangi platformlar destekleniyor?**
macOS (Apple Silicon) ve Windows 11 ÅŸu anda mevcut.

<br />

---

<br />

## GeliÅŸtirme

```bash
pnpm install
pnpm dev
```

Hepsi bu kadar.

<details>
<summary><strong>Ã–n koÅŸullar</strong></summary>

- Node.js 20+
- pnpm 9+

</details>

<details>
<summary><strong>TÃ¼m komutlar</strong></summary>

| Komut | AÃ§Ä±klama |
|---------|-------------|
| `pnpm dev` | MasaÃ¼stÃ¼ uygulamasÄ±nÄ± geliÅŸtirme modunda Ã§alÄ±ÅŸtÄ±r |
| `pnpm dev:clean` | Temiz baÅŸlangÄ±Ã§la geliÅŸtirme modu |
| `pnpm build` | TÃ¼m workspace'leri derle |
| `pnpm build:desktop` | Sadece masaÃ¼stÃ¼ uygulamasÄ±nÄ± derle |
| `pnpm lint` | TypeScript kontrolleri |
| `pnpm typecheck` | Tip doÄŸrulama |
| `pnpm -F @accomplish/desktop test:e2e` | Playwright E2E testleri |

</details>

<details>
<summary><strong>Ortam deÄŸiÅŸkenleri</strong></summary>

| DeÄŸiÅŸken | AÃ§Ä±klama |
|----------|-------------|
| `CLEAN_START=1` | Uygulama baÅŸlangÄ±cÄ±nda tÃ¼m kayÄ±tlÄ± verileri temizle |
| `E2E_SKIP_AUTH=1` | Onboarding akÄ±ÅŸÄ±nÄ± atla (test iÃ§in) |

</details>

<details>
<summary><strong>Mimari</strong></summary>

```
apps/
  desktop/        # Electron uygulamasÄ± (main + preload + renderer)
packages/
  shared/         # PaylaÅŸÄ±lan TypeScript tipleri
```

MasaÃ¼stÃ¼ uygulamasÄ±, Vite ile paketlenmiÅŸ React UI ile Electron kullanÄ±r. Ana sÃ¼reÃ§, gÃ¶revleri yÃ¼rÃ¼tmek iÃ§in `node-pty` kullanarak [OpenCode](https://github.com/sst/opencode) CLI'Ä± Ã§alÄ±ÅŸtÄ±rÄ±r. API anahtarlarÄ± iÅŸletim sistemi anahtarlÄ±ÄŸÄ±nda gÃ¼venli bir ÅŸekilde saklanÄ±r.

DetaylÄ± mimari dokÃ¼mantasyonu iÃ§in [CLAUDE.md](CLAUDE.md) dosyasÄ±na bakÄ±n.

</details>

<br />

---

<br />

## KatkÄ±da bulunma

KatkÄ±lar hoÅŸ karÅŸÄ±lanÄ±r! PR aÃ§maktan Ã§ekinmeyin.

```bash
# Fork â†’ Clone â†’ Branch â†’ Commit â†’ Push â†’ PR
git checkout -b feature/amazing-feature
git commit -m 'Add amazing feature'
git push origin feature/amazing-feature
```

<br />

---

<br />

<div align="center">

**[Accomplish web sitesi](https://www.accomplish.ai/)** Â· **[Accomplish blogu](https://www.accomplish.ai/blog/)** Â· **[Accomplish sÃ¼rÃ¼mleri](https://github.com/accomplish-ai/accomplish/releases)** Â· **[Issues](https://github.com/accomplish-ai/accomplish/issues)** Â· **[Twitter](https://x.com/Accomplish_ai)**

<br />

MIT LisansÄ± Â· [Accomplish](https://www.accomplish.ai) tarafÄ±ndan yapÄ±ldÄ±

<br />

**Anahtar kelimeler:** AI ajanÄ±, AI masaÃ¼stÃ¼ ajanÄ±, masaÃ¼stÃ¼ otomasyonu, dosya yÃ¶netimi, belge oluÅŸturma, tarayÄ±cÄ± otomasyonu, yerel Ã¶ncelikli, macOS, gizlilik Ã¶ncelikli, aÃ§Ä±k kaynak, Electron, bilgisayar kullanÄ±mÄ±, AI asistanÄ±, iÅŸ akÄ±ÅŸÄ± otomasyonu, OpenAI, Anthropic, Google, xAI, Claude, GPT-4, Ollama

</div>


## Links discovered
- [Ollama](https://ollama.com)
- [**Mac iÃ§in Ä°ndirin (Apple Silicon)**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [**Windows 11 iÃ§in Ä°ndirin**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [OpenCode](https://github.com/sst/opencode)
- [CLAUDE.md](https://github.com/accomplish-ai/accomplish/blob/main/CLAUDE.md)
- [Accomplish web sitesi](https://www.accomplish.ai/)
- [Accomplish blogu](https://www.accomplish.ai/blog/)
- [Accomplish sÃ¼rÃ¼mleri](https://github.com/accomplish-ai/accomplish/releases)
- [Issues](https://github.com/accomplish-ai/accomplish/issues)
- [Twitter](https://x.com/Accomplish_ai)
- [Accomplish](https://www.accomplish.ai)
- [English](https://github.com/accomplish-ai/accomplish/blob/main/README.md)
- [ä¸­æ–‡](https://github.com/accomplish-ai/accomplish/blob/main/README.zh-CN.md)
- [æ—¥æœ¬èªž](https://github.com/accomplish-ai/accomplish/blob/main/README.ja.md)
- [í•œêµ­ì–´](https://github.com/accomplish-ai/accomplish/blob/main/README.ko.md)
- [EspaÃ±ol](https://github.com/accomplish-ai/accomplish/blob/main/README.es.md)
- [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](https://github.com/accomplish-ai/accomplish/blob/main/README.ar.md)
- [Bahasa Indonesia](https://github.com/accomplish-ai/accomplish/blob/main/README.id.md)
- [<img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MIT LisansÄ±" />](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)
- [<img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" />](https://github.com/accomplish-ai/accomplish/stargazers)
- [<img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" />](https://github.com/accomplish-ai/accomplish/issues)
- [<img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="Son Commit" />](https://github.com/accomplish-ai/accomplish/commits)
- [<img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="macOS iÃ§in Ä°ndir" />](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Mac iÃ§in Ä°ndirin (Apple Silicon)</strong>](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>Windows 11 iÃ§in Ä°ndirin</strong>](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [<img src="docs/video-thumbnail.png" alt="Accomplish demosu - Dosya yÃ¶netimi ve tarayÄ±cÄ± gÃ¶revlerini otomatikleÅŸtiren AI ajanÄ±" width="600" />](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)
- [Demoyu izle â†’](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)

--- README.zh-CN.md ---
<p align="center">
  <a href="README.md">English</a> | <strong>ä¸­æ–‡</strong> | <a href="README.ja.md">æ—¥æœ¬èªž</a> | <a href="README.ko.md">í•œêµ­ì–´</a> | <a href="README.es.md">EspaÃ±ol</a> | <a href="README.tr.md">TÃ¼rkÃ§e</a> | <a href="README.ar.md">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a> | <a href="README.id.md">Bahasa Indonesia</a>
</p>

<p align="center">
  <img src="docs/banner.svg" alt="Accomplish - å¼€æº AI æ¡Œé¢ä»£ç†ï¼Œä½¿ç”¨æ‚¨è‡ªå·±çš„ AI API å¯†é’¥è‡ªåŠ¨åŒ–æ–‡ä»¶ç®¡ç†ã€æ–‡æ¡£åˆ›å»ºå’Œæµè§ˆå™¨ä»»åŠ¡" width="100%" />
</p>

<p align="center">
  <a href="LICENSE"><img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MIT è®¸å¯è¯" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/stargazers"><img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/issues"><img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" /></a>
  <a href="https://github.com/accomplish-ai/accomplish/commits"><img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="æœ€è¿‘æäº¤" /></a>
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="ä¸‹è½½ macOS ç‰ˆ" /></a>
</p>

# Accomplishâ„¢ - å¼€æº AI æ¡Œé¢ä»£ç†

Accomplish æ˜¯ä¸€æ¬¾å¼€æº AI æ¡Œé¢ä»£ç†ï¼Œå¯åœ¨æ‚¨çš„æœ¬åœ°æœºå™¨ä¸Šè‡ªåŠ¨åŒ–æ–‡ä»¶ç®¡ç†ã€æ–‡æ¡£åˆ›å»ºå’Œæµè§ˆå™¨ä»»åŠ¡ã€‚ä½¿ç”¨æ‚¨è‡ªå·±çš„ API å¯†é’¥ï¼ˆOpenAIã€Anthropicã€Googleã€xAIï¼‰æˆ–é€šè¿‡ Ollama è¿è¡Œæœ¬åœ°æ¨¡åž‹ã€‚

<p align="center">
  <strong>åœ¨æ‚¨çš„æœºå™¨ä¸Šæœ¬åœ°è¿è¡Œã€‚ä½¿ç”¨æ‚¨è‡ªå·±çš„ API å¯†é’¥æˆ–æœ¬åœ°æ¨¡åž‹ã€‚MIT è®¸å¯è¯ã€‚</strong>
</p>

<p align="center">
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg"><strong>ä¸‹è½½ Mac ç‰ˆï¼ˆApple Siliconï¼‰</strong></a>
  Â·
  <a href="https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe"><strong>ä¸‹è½½ Windows 11 ç‰ˆ</strong></a>
  Â·
  <a href="https://www.accomplish.ai/">Accomplish å®˜ç½‘</a>
  Â·
  <a href="https://www.accomplish.ai/blog/">Accomplish åšå®¢</a>
  Â·
  <a href="https://github.com/accomplish-ai/accomplish/releases">Accomplish å‘å¸ƒç‰ˆæœ¬</a>
</p>

<br />

---

<br />

## æœ‰ä½•ä¸åŒ

<table>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ–¥ï¸ æœ¬åœ°è¿è¡Œ

<div align="left">

- æ‚¨çš„æ–‡ä»¶ä¿ç•™åœ¨æ‚¨çš„æœºå™¨ä¸Š
- æ‚¨å†³å®šå®ƒå¯ä»¥è®¿é—®å“ªäº›æ–‡ä»¶å¤¹
- ä¸ä¼šå‘ Accomplishï¼ˆæˆ–ä»»ä½•äººï¼‰å‘é€ä»»ä½•æ•°æ®

</div>

</td>
<td width="50%" valign="top" align="center">

### ðŸ”‘ è‡ªå¸¦ AI

<div align="left">

- ä½¿ç”¨æ‚¨è‡ªå·±çš„ API å¯†é’¥ï¼ˆOpenAIã€Anthropic ç­‰ï¼‰
- æˆ–ä½¿ç”¨ [Ollama](https://ollama.com) è¿è¡Œï¼ˆæ— éœ€ API å¯†é’¥ï¼‰
- æ— è®¢é˜…ï¼Œæ— è¿½åŠ é”€å”®
- è¿™æ˜¯ä¸€ä¸ªå·¥å…·â€”â€”ä¸æ˜¯æœåŠ¡

</div>

</td>
</tr>
<tr>
<td width="50%" valign="top" align="center">

### ðŸ“– å¼€æº

<div align="left">

- æ¯ä¸€è¡Œä»£ç éƒ½åœ¨ GitHub ä¸Š
- MIT è®¸å¯è¯
- ä¿®æ”¹å®ƒã€åˆ†å‰å®ƒã€æ‰“ç ´å®ƒã€ä¿®å¤å®ƒ

</div>

</td>
<td width="50%" valign="top" align="center">

### âš¡ è¡ŒåŠ¨æ´¾ï¼Œä¸åªæ˜¯èŠå¤©

<div align="left">

- æ–‡ä»¶ç®¡ç†
- æ–‡æ¡£åˆ›å»º
- è‡ªå®šä¹‰è‡ªåŠ¨åŒ–
- æŠ€èƒ½å­¦ä¹ 

</div>

</td>
</tr>
</table>

<br />

---

<br />

## å®žé™…åŠŸèƒ½

| | | |
|:--|:--|:--|
| **ðŸ“ æ–‡ä»¶ç®¡ç†** | **âœï¸ æ–‡æ¡£æ’°å†™** | **ðŸ”— å·¥å…·è¿žæŽ¥** |
| æ ¹æ®å†…å®¹æˆ–æ‚¨è®¾å®šçš„è§„åˆ™å¯¹æ–‡ä»¶è¿›è¡ŒæŽ’åºã€é‡å‘½åå’Œç§»åŠ¨ | æç¤ºå®ƒæ’°å†™ã€æ€»ç»“æˆ–é‡å†™æ–‡æ¡£ | ä¸Ž Notionã€Google Driveã€Dropbox ç­‰é…åˆä½¿ç”¨ï¼ˆé€šè¿‡æœ¬åœ° APIï¼‰ |
| | | |
| **âš™ï¸ è‡ªå®šä¹‰æŠ€èƒ½** | **ðŸ›¡ï¸ å®Œå…¨æŽ§åˆ¶** | |
| å®šä¹‰å¯é‡å¤çš„å·¥ä½œæµç¨‹ï¼Œä¿å­˜ä¸ºæŠ€èƒ½ | æ‚¨æ‰¹å‡†æ¯ä¸€ä¸ªæ“ä½œã€‚æ‚¨å¯ä»¥æŸ¥çœ‹æ—¥å¿—ã€‚æ‚¨å¯ä»¥éšæ—¶åœæ­¢å®ƒã€‚ | |

<br />

## ä½¿ç”¨åœºæ™¯

- æŒ‰é¡¹ç›®ã€æ–‡ä»¶ç±»åž‹æˆ–æ—¥æœŸæ•´ç†å‡Œä¹±çš„æ–‡ä»¶å¤¹
- èµ·è‰ã€æ€»ç»“å’Œé‡å†™æ–‡æ¡£ã€æŠ¥å‘Šå’Œä¼šè®®è®°å½•
- è‡ªåŠ¨åŒ–æµè§ˆå™¨å·¥ä½œæµç¨‹ï¼Œå¦‚ç ”ç©¶å’Œè¡¨å•å¡«å†™
- ä»Žæ–‡ä»¶å’Œç¬”è®°ç”Ÿæˆæ¯å‘¨æ›´æ–°
- ä»Žæ–‡æ¡£å’Œæ—¥åŽ†å‡†å¤‡ä¼šè®®ææ–™

<br />

## æ”¯æŒçš„æ¨¡åž‹å’Œæä¾›å•†

- Anthropic (Claude)
- OpenAI (GPT)
- Google AI (Gemini)
- xAI (Grok)
- DeepSeek
- Moonshot AI (Kimi)
- Z.AI (GLM)
- MiniMax
- Amazon Bedrock
- Azure Foundry
- OpenRouter
- LiteLLM
- Ollamaï¼ˆæœ¬åœ°æ¨¡åž‹ï¼‰
- LM Studioï¼ˆæœ¬åœ°æ¨¡åž‹ï¼‰

<br />

## éšç§å’Œæœ¬åœ°ä¼˜å…ˆ

Accomplish åœ¨æ‚¨çš„æœºå™¨ä¸Šæœ¬åœ°è¿è¡Œã€‚æ‚¨çš„æ–‡ä»¶ä¿ç•™åœ¨æ‚¨çš„è®¾å¤‡ä¸Šï¼Œæ‚¨å¯ä»¥é€‰æ‹©å®ƒå¯ä»¥è®¿é—®å“ªäº›æ–‡ä»¶å¤¹ã€‚

<br />

## ç³»ç»Ÿè¦æ±‚

- macOSï¼ˆApple Siliconï¼‰
- Windows 11

<br />

---

<br />

## å¦‚ä½•ä½¿ç”¨

> **è®¾ç½®åªéœ€ 2 åˆ†é’Ÿã€‚**

| æ­¥éª¤ | æ“ä½œ | è¯¦æƒ… |
|:----:|--------|---------|
| **1** | **å®‰è£…åº”ç”¨** | ä¸‹è½½ DMG å¹¶å°†å…¶æ‹–å…¥åº”ç”¨ç¨‹åºæ–‡ä»¶å¤¹ |
| **2** | **è¿žæŽ¥æ‚¨çš„ AI** | ä½¿ç”¨æ‚¨è‡ªå·±çš„ Googleã€OpenAIã€Anthropicï¼ˆæˆ–å…¶ä»–ï¼‰API å¯†é’¥â€”â€”æˆ–ä½¿ç”¨ ChatGPTï¼ˆPlus/Proï¼‰ç™»å½•ã€‚æ— è®¢é˜…ã€‚ |
| **3** | **æŽˆäºˆè®¿é—®æƒé™** | é€‰æ‹©å®ƒå¯ä»¥æŸ¥çœ‹å“ªäº›æ–‡ä»¶å¤¹ã€‚æ‚¨ä¿æŒæŽ§åˆ¶æƒã€‚ |
| **4** | **å¼€å§‹å·¥ä½œ** | è®©å®ƒæ€»ç»“æ–‡æ¡£ã€æ•´ç†æ–‡ä»¶å¤¹æˆ–åˆ›å»ºæŠ¥å‘Šã€‚æ‚¨æ‰¹å‡†æ‰€æœ‰æ“ä½œã€‚ |

<br />


<br />

<div align="center">

[**ä¸‹è½½ Mac ç‰ˆï¼ˆApple Siliconï¼‰**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg) Â· [**ä¸‹è½½ Windows 11 ç‰ˆ**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)

</div>

<br />

---

<br />

## æˆªå›¾å’Œæ¼”ç¤º

å¿«é€Ÿäº†è§£ macOS ä¸Šçš„ Accomplishï¼Œä»¥åŠç®€çŸ­çš„æ¼”ç¤ºè§†é¢‘ã€‚

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">
    <img src="docs/video-thumbnail.png" alt="Accomplish æ¼”ç¤º - AI ä»£ç†è‡ªåŠ¨åŒ–æ–‡ä»¶ç®¡ç†å’Œæµè§ˆå™¨ä»»åŠ¡" width="600" />
  </a>
</p>

<p align="center">
  <a href="https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB">è§‚çœ‹æ¼”ç¤º â†’</a>
</p>

<br />

## å¸¸è§é—®é¢˜

**Accomplish æ˜¯æœ¬åœ°è¿è¡Œçš„å—ï¼Ÿ**
æ˜¯çš„ã€‚Accomplish åœ¨æ‚¨çš„æœºå™¨ä¸Šæœ¬åœ°è¿è¡Œï¼Œæ‚¨å¯ä»¥æŽ§åˆ¶å®ƒå¯ä»¥è®¿é—®å“ªäº›æ–‡ä»¶å¤¹ã€‚

**æˆ‘éœ€è¦ API å¯†é’¥å—ï¼Ÿ**
æ‚¨å¯ä»¥ä½¿ç”¨æ‚¨è‡ªå·±çš„ API å¯†é’¥ï¼ˆOpenAIã€Anthropicã€Googleã€xAI ç­‰ï¼‰æˆ–é€šè¿‡ Ollama è¿è¡Œæœ¬åœ°æ¨¡åž‹ã€‚

**Accomplish æ˜¯å…è´¹çš„å—ï¼Ÿ**
æ˜¯çš„ã€‚Accomplish æ˜¯å¼€æºçš„ï¼Œé‡‡ç”¨ MIT è®¸å¯è¯ã€‚

**æ”¯æŒå“ªäº›å¹³å°ï¼Ÿ**
macOSï¼ˆApple Siliconï¼‰å’Œ Windows 11 çŽ°å·²å¯ç”¨ã€‚

<br />

---

<br />

## å¼€å‘

```bash
pnpm install
pnpm dev
```

å°±è¿™æ ·ã€‚

<details>
<summary><strong>å‰ææ¡ä»¶</strong></summary>

- Node.js 20+
- pnpm 9+

</details>

<details>
<summary><strong>æ‰€æœ‰å‘½ä»¤</strong></summary>

| å‘½ä»¤ | æè¿° |
|---------|-------------|
| `pnpm dev` | åœ¨å¼€å‘æ¨¡å¼ä¸‹è¿è¡Œæ¡Œé¢åº”ç”¨ |
| `pnpm dev:clean` | å¹²å‡€å¯åŠ¨çš„å¼€å‘æ¨¡å¼ |
| `pnpm build` | æž„å»ºæ‰€æœ‰å·¥ä½œåŒº |
| `pnpm build:desktop` | ä»…æž„å»ºæ¡Œé¢åº”ç”¨ |
| `pnpm lint` | TypeScript æ£€æŸ¥ |
| `pnpm typecheck` | ç±»åž‹éªŒè¯ |
| `pnpm -F @accomplish/desktop test:e2e` | Playwright E2E æµ‹è¯• |

</details>

<details>
<summary><strong>çŽ¯å¢ƒå˜é‡</strong></summary>

| å˜é‡ | æè¿° |
|----------|-------------|
| `CLEAN_START=1` | åº”ç”¨å¯åŠ¨æ—¶æ¸…é™¤æ‰€æœ‰å­˜å‚¨æ•°æ® |
| `E2E_SKIP_AUTH=1` | è·³è¿‡å¼•å¯¼æµç¨‹ï¼ˆç”¨äºŽæµ‹è¯•ï¼‰ |

</details>

<details>
<summary><strong>æž¶æž„</strong></summary>

```
apps/
  desktop/        # Electron åº”ç”¨ï¼ˆmain + preload + rendererï¼‰
packages/
  shared/         # å…±äº« TypeScript ç±»åž‹
```

æ¡Œé¢åº”ç”¨ä½¿ç”¨ Electron å’Œé€šè¿‡ Vite æ‰“åŒ…çš„ React UIã€‚ä¸»è¿›ç¨‹ä½¿ç”¨ `node-pty` ç”Ÿæˆ [OpenCode](https://github.com/sst/opencode) CLI æ¥æ‰§è¡Œä»»åŠ¡ã€‚API å¯†é’¥å®‰å…¨å­˜å‚¨åœ¨æ“ä½œç³»ç»Ÿå¯†é’¥é“¾ä¸­ã€‚

è¯¦ç»†æž¶æž„æ–‡æ¡£è¯·å‚é˜… [CLAUDE.md](CLAUDE.md)ã€‚

</details>

<br />

---

<br />

## è´¡çŒ®

æ¬¢è¿Žè´¡çŒ®ï¼éšæ—¶æäº¤ PRã€‚

```bash
# Fork â†’ Clone â†’ Branch â†’ Commit â†’ Push â†’ PR
git checkout -b feature/amazing-feature
git commit -m 'Add amazing feature'
git push origin feature/amazing-feature
```

<br />

---

<br />

<div align="center">

**[Accomplish å®˜ç½‘](https://www.accomplish.ai/)** Â· **[Accomplish åšå®¢](https://www.accomplish.ai/blog/)** Â· **[Accomplish å‘å¸ƒç‰ˆæœ¬](https://github.com/accomplish-ai/accomplish/releases)** Â· **[é—®é¢˜åé¦ˆ](https://github.com/accomplish-ai/accomplish/issues)** Â· **[Twitter](https://x.com/Accomplish_ai)**

<br />

MIT è®¸å¯è¯ Â· ç”± [Accomplish](https://www.accomplish.ai) æž„å»º

<br />

**å…³é”®è¯ï¼š** AI ä»£ç†ã€AI æ¡Œé¢ä»£ç†ã€æ¡Œé¢è‡ªåŠ¨åŒ–ã€æ–‡ä»¶ç®¡ç†ã€æ–‡æ¡£åˆ›å»ºã€æµè§ˆå™¨è‡ªåŠ¨åŒ–ã€æœ¬åœ°ä¼˜å…ˆã€macOSã€éšç§ä¼˜å…ˆã€å¼€æºã€Electronã€è®¡ç®—æœºä½¿ç”¨ã€AI åŠ©æ‰‹ã€å·¥ä½œæµè‡ªåŠ¨åŒ–ã€OpenAIã€Anthropicã€Googleã€xAIã€Claudeã€GPT-4ã€Ollama

</div>


## Links discovered
- [Ollama](https://ollama.com)
- [**ä¸‹è½½ Mac ç‰ˆï¼ˆApple Siliconï¼‰**](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [**ä¸‹è½½ Windows 11 ç‰ˆ**](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [OpenCode](https://github.com/sst/opencode)
- [CLAUDE.md](https://github.com/accomplish-ai/accomplish/blob/main/CLAUDE.md)
- [Accomplish å®˜ç½‘](https://www.accomplish.ai/)
- [Accomplish åšå®¢](https://www.accomplish.ai/blog/)
- [Accomplish å‘å¸ƒç‰ˆæœ¬](https://github.com/accomplish-ai/accomplish/releases)
- [é—®é¢˜åé¦ˆ](https://github.com/accomplish-ai/accomplish/issues)
- [Twitter](https://x.com/Accomplish_ai)
- [Accomplish](https://www.accomplish.ai)
- [English](https://github.com/accomplish-ai/accomplish/blob/main/README.md)
- [æ—¥æœ¬èªž](https://github.com/accomplish-ai/accomplish/blob/main/README.ja.md)
- [í•œêµ­ì–´](https://github.com/accomplish-ai/accomplish/blob/main/README.ko.md)
- [EspaÃ±ol](https://github.com/accomplish-ai/accomplish/blob/main/README.es.md)
- [TÃ¼rkÃ§e](https://github.com/accomplish-ai/accomplish/blob/main/README.tr.md)
- [Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©](https://github.com/accomplish-ai/accomplish/blob/main/README.ar.md)
- [Bahasa Indonesia](https://github.com/accomplish-ai/accomplish/blob/main/README.id.md)
- [<img src="https://img.shields.io/badge/License-MIT-22c55e?style=flat-square" alt="MIT è®¸å¯è¯" />](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)
- [<img src="https://img.shields.io/github/stars/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Stars" />](https://github.com/accomplish-ai/accomplish/stargazers)
- [<img src="https://img.shields.io/github/issues/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="GitHub Issues" />](https://github.com/accomplish-ai/accomplish/issues)
- [<img src="https://img.shields.io/github/last-commit/accomplish-ai/accomplish?style=flat-square&color=22c55e" alt="æœ€è¿‘æäº¤" />](https://github.com/accomplish-ai/accomplish/commits)
- [<img src="https://img.shields.io/badge/Download-macOS-0ea5e9?style=flat-square" alt="ä¸‹è½½ macOS ç‰ˆ" />](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>ä¸‹è½½ Mac ç‰ˆï¼ˆApple Siliconï¼‰</strong>](https://downloads.accomplish.ai/downloads/0.3.8/macos/Accomplish-0.3.8-mac-arm64.dmg)
- [<strong>ä¸‹è½½ Windows 11 ç‰ˆ</strong>](https://downloads.accomplish.ai/downloads/0.3.8/windows/Accomplish-v2-0.3.8-win-x64.exe)
- [<img src="docs/video-thumbnail.png" alt="Accomplish æ¼”ç¤º - AI ä»£ç†è‡ªåŠ¨åŒ–æ–‡ä»¶ç®¡ç†å’Œæµè§ˆå™¨ä»»åŠ¡" width="600" />](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)
- [è§‚çœ‹æ¼”ç¤º â†’](https://youtu.be/UJ0FIufMOlc?si=iFcu3VTG4B4q9VCB)

--- TRADEMARKS.md ---
# Trademarks

## Overview

This repository contains open source software. While the source code is made available under an open source license (see [LICENSE](LICENSE)), the trademarks associated with the project are not licensed for unrestricted use.

This document describes the trademarks owned by Accomplish Ltd. and provides guidelines for their permitted and prohibited use.

## Trademark Ownership

ACCOMPLISHâ„¢ is a trademark of Accomplish Ltd.
OPENWORKâ„¢ is also a trademark of Accomplish Ltd.

Additional trademarks, service marks, logos, product names, or other brand identifiers may be owned or used by Accomplish Ltd. now or in the future. All such marks, including ACCOMPLISHâ„¢ and OPENWORKâ„¢, are collectively referred to in this document as the "Accomplish Trademarks".

ACCOMPLISHâ„¢ and OPENWORKâ„¢ are currently the subject of pending trademark applications in the United States. Use of these marks prior to registration does not imply that they are registered trademarks.

## Permitted Use

You may use the Accomplish Trademarks without prior written permission solely for the following purposes:

- To refer to the ACCOMPLISHâ„¢ project or the OPENWORKâ„¢ brand in a factual and descriptive manner.
- To identify an unmodified copy of the ACCOMPLISHâ„¢ software (including releases formerly branded as OPENWORKâ„¢).
- To indicate compatibility with ACCOMPLISHâ„¢ or OPENWORKâ„¢, provided such use is truthful and non-misleading.
- To discuss or review the ACCOMPLISHâ„¢ project or the OPENWORKâ„¢ brand, including in documentation, articles, or presentations.

Any permitted use must be consistent with honest commercial practices and must not create confusion as to source, sponsorship, affiliation, or endorsement.

## Prohibited Use

You may not use the Accomplish Trademarks in any manner that:

- Suggests sponsorship, endorsement, or affiliation with Accomplish Ltd. where none exists.
- Is likely to cause confusion regarding the source of goods or services.
- Is used as part of the name of a product, service, company, or domain name.
- Is used in a logo, branding, or marketing material for a derived or competing product.
- Is modified, stylized, abbreviated, or combined with other marks in a way that alters its distinctive character.

## Open Source and Trademarks

The [open source license](LICENSE) applicable to this repository grants rights to use, modify, and distribute the source code. It does not grant any rights to use the Accomplish Trademarks, except as expressly permitted in this policy.

## Reservation of Rights

All rights in and to the Accomplish Trademarks are reserved by Accomplish Ltd. Any goodwill arising from use of the Accomplish Trademarks inures exclusively to the benefit of Accomplish Ltd.

## Questions and Contact

If you have questions about use of the Accomplish Trademarks, or wish to request permission for a use not covered by this policy, please contact:

support@accomplish.ai


## Links discovered
- [LICENSE](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)
- [open source license](https://github.com/accomplish-ai/accomplish/blob/main/LICENSE.md)

--- .github/PULL_REQUEST_TEMPLATE.md ---
## Description

<!-- Brief description of what this PR does -->

## Type of Change

<!-- Mark the relevant option with 'x' -->

- [ ] `feat`: New feature or functionality
- [ ] `fix`: Bug fix
- [ ] `docs`: Documentation only changes
- [ ] `chore`: Maintenance, dependencies, or tooling
- [ ] `refactor`: Code refactoring (no feature change)
- [ ] `test`: Adding or updating tests
- [ ] `perf`: Performance improvement
- [ ] `ci`: CI/CD changes

## Checklist

- [ ] PR title follows conventional commit format (e.g., `feat: add dark mode support`)
- [ ] Changes have been tested locally
- [ ] Any new dependencies are justified

## Related Issues

<!-- Link any related issues: Fixes #123, Relates to #456 -->


--- .github/ISSUE_TEMPLATE/bug_report.md ---
---
name: Bug Report
about: Report a bug to help us improve
title: '[Bug] '
labels: bug
assignees: ''
---

## Description
A clear description of the bug.

## Steps to Reproduce
1. Go to '...'
2. Click on '...'
3. See error

## Expected Behavior
What you expected to happen.

## Actual Behavior
What actually happened.

## Environment
- OS: [e.g., macOS 14.0]
- Accomplish Version: [e.g., 0.1.0]

## Screenshots
If applicable, add screenshots.

## Additional Context
Any other relevant information.


--- .github/ISSUE_TEMPLATE/feature_request.md ---
---
name: Feature Request
about: Suggest an idea for this project
title: '[Feature] '
labels: enhancement
assignees: ''
---

## Problem
What problem does this feature solve?

## Proposed Solution
How would you like this to work?

## Alternatives Considered
Any alternative solutions you've thought of.

## Additional Context
Any other relevant information or screenshots.


--- apps/desktop/e2e/README.md ---
# E2E Test Infrastructure

This directory contains the E2E test infrastructure for the Accomplish desktop app using Playwright.

## Structure

```
e2e/
â”œâ”€â”€ fixtures/          # Test fixtures (Electron app launch)
â”œâ”€â”€ pages/             # Page object models
â”œâ”€â”€ specs/             # Test specifications
â”œâ”€â”€ utils/             # Test utilities (screenshots, helpers)
â””â”€â”€ test-results/      # Test output (screenshots, videos, traces)
```

## Fixtures

### electron-app.ts

Provides Electron app launch fixture with E2E configuration:

- **electronApp**: Launches the Electron app with E2E flags
- **window**: Returns the first window (main app window)

Environment variables automatically set:
- `E2E_SKIP_AUTH=1` - Skip onboarding flow
- `E2E_MOCK_TASK_EVENTS=1` - Mock task execution events

## Page Objects

### HomePage

Methods for interacting with the home page:
- `title` - Home page title
- `taskInput` - Task input textarea
- `submitButton` - Submit button
- `getExampleCard(index)` - Get example card by index
- `enterTask(text)` - Enter task text
- `submitTask()` - Submit task

### ExecutionPage

Methods for interacting with the task execution page:
- `statusBadge` - Status badge
- `cancelButton` - Cancel button
- `thinkingIndicator` - Thinking indicator
- `followUpInput` - Follow-up input
- `stopButton` - Stop button
- `permissionModal` - Permission modal
- `allowButton` - Allow button (in permission modal)
- `denyButton` - Deny button (in permission modal)
- `waitForComplete()` - Wait for task completion

### SettingsPage

Methods for interacting with the settings page:
- `title` - Settings page title
- `debugModeToggle` - Debug mode toggle
- `modelSection` - Model section
- `modelSelect` - Model select dropdown
- `apiKeyInput` - API key input
- `addApiKeyButton` - Add API key button
- `navigateToSettings()` - Navigate to settings page
- `toggleDebugMode()` - Toggle debug mode
- `selectModel(modelName)` - Select a model
- `addApiKey(provider, key)` - Add API key

## Utilities

### screenshots.ts

Provides AI-friendly screenshot capture with metadata:

```typescript
import { captureForAI } from '../utils';

await captureForAI(
  page,
  'task-execution',
  'running',
  [
    'Task is actively running',
    'Status badge shows "Running"',
    'Cancel button is visible'
  ]
);
```

The utility creates:
- `{testName}-{stateName}-{timestamp}.png` - Screenshot
- `{testName}-{stateName}-{timestamp}.json` - Metadata (viewport, route, criteria)

## Usage Example

```typescript
import { test, expect } from '../fixtures';
import { HomePage, ExecutionPage } from '../pages';
import { captureForAI } from '../utils';

test('should submit a task and navigate to execution', async ({ window }) => {
  const homePage = new HomePage(window);
  const executionPage = new ExecutionPage(window);

  // Enter task
  await homePage.enterTask('Create a new file called hello.txt');
  await homePage.submitTask();

  // Wait for navigation to execution page
  await executionPage.statusBadge.waitFor({ state: 'visible' });

  // Capture screenshot for AI evaluation
  await captureForAI(
    window,
    'task-submission',
    'execution-started',
    ['Task execution page loaded', 'Status badge visible']
  );

  // Assert
  await expect(executionPage.statusBadge).toBeVisible();
});
```

## Running Tests

Tests run in Docker by default (both locally and in CI). This ensures consistent behavior and enables concurrent test runs from multiple worktrees.

### Prerequisites

- Docker Desktop installed and running

### Commands

```bash
# Run all E2E tests (in Docker)
pnpm test:e2e

# Pre-build Docker image (useful for caching)
pnpm test:e2e:build

# Clean up Docker resources
pnpm test:e2e:clean

# View HTML report
pnpm test:e2e:report
```

### Native Mode (for debugging)

Run tests directly without Docker when you need Playwright UI or debugger:

```bash
# Run natively (Electron windows will pop up)
pnpm test:e2e:native

# Run with Playwright UI
pnpm test:e2e:native:ui

# Run in debug mode
pnpm test:e2e:native:debug

# Run fast tests only
pnpm test:e2e:native:fast

# Run integration tests only
pnpm test:e2e:native:integration
```

## How Docker Testing Works

1. Docker container runs Ubuntu with Xvfb (X Virtual Framebuffer)
2. Xvfb provides a virtual display at `:99`
3. Electron runs "headfully" inside the container, but the display is virtual
4. Test results are mounted to the host for viewing

### Concurrent Worktree Testing

Each worktree can run `pnpm test:e2e` simultaneously because:
- Each container has its own isolated filesystem
- Each container has its own virtual display
- Electron's single-instance lock is per-container, not per-host

### Troubleshooting

**Tests fail with "cannot open display"**
- Ensure Xvfb is starting (check Docker logs)
- Verify `DISPLAY=:99` is set

**Tests fail with sandbox errors**
- The `--no-sandbox` flag is automatically added in Docker
- Ensure `DOCKER_ENV=1` is in the environment

**Out of memory errors**
- Increase Docker's memory allocation in Docker Desktop settings
- The compose file sets `shm_size: 2gb` for Chromium

## Writing Tests

1. Import fixtures and page objects:
   ```typescript
   import { test, expect } from '../fixtures';
   import { HomePage } from '../pages';
   ```

2. Use page objects instead of direct selectors:
   ```typescript
   // Good
   await homePage.submitTask();

   // Bad
   await window.getByTestId('task-input-submit').click();
   ```

3. Add test IDs to new UI elements in renderer:
   ```tsx
   <button data-testid="my-button">Click me</button>
   ```

4. Use `captureForAI` for screenshots with evaluation criteria:
   ```typescript
   await captureForAI(
     window,
     'my-test',
     'some-state',
     ['Criterion 1', 'Criterion 2']
   );
   ```

## Best Practices

- Use page objects for all UI interactions
- Add descriptive test IDs (`data-testid`) to UI elements
- Use `captureForAI` for important states to enable AI-based evaluation
- Keep tests focused and independent
- Use serial execution (configured in playwright.config.ts)
- Mock task events for fast tests, use real execution for integration tests


--- apps/desktop/index.html ---
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; img-src 'self' data: https:; connect-src 'self'">
    <title>Accomplish</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/renderer/main.tsx"></script>
  </body>
</html>


--- apps/desktop/postcss.config.js ---
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {},
  },
};


--- apps/desktop/tailwind.config.ts ---
import type { Config } from 'tailwindcss';
import tailwindcssAnimate from 'tailwindcss-animate';
import tailwindcssTypography from '@tailwindcss/typography';

const config: Config = {
  content: [
    './index.html',
    './src/renderer/**/*.{js,ts,jsx,tsx}',
  ],
  theme: {
    extend: {
      colors: {
        // Shadcn-inspired theme using CSS variables
        background: 'hsl(var(--background))',
        foreground: 'hsl(var(--foreground))',
        card: {
          DEFAULT: 'hsl(var(--card))',
          foreground: 'hsl(var(--card-foreground))',
        },
        popover: {
          DEFAULT: 'hsl(var(--popover))',
          foreground: 'hsl(var(--popover-foreground))',
        },
        primary: {
          DEFAULT: 'hsl(var(--primary))',
          foreground: 'hsl(var(--primary-foreground))',
        },
        secondary: {
          DEFAULT: 'hsl(var(--secondary))',
          foreground: 'hsl(var(--secondary-foreground))',
        },
        muted: {
          DEFAULT: 'hsl(var(--muted))',
          foreground: 'hsl(var(--muted-foreground))',
        },
        accent: {
          DEFAULT: 'hsl(var(--accent))',
          foreground: 'hsl(var(--accent-foreground))',
          hover: 'hsl(var(--accent-foreground))',
          blue: '#3397FC', // Keep for backward compatibility
        },
        destructive: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
        },
        border: 'hsl(var(--border))',
        input: 'hsl(var(--input))',
        ring: 'hsl(var(--ring))',
        // Legacy aliases for backward compatibility
        'background-card': 'hsl(var(--card))',
        'background-subtle': 'hsl(var(--muted))',
        'background-muted': 'hsl(var(--muted))',
        'text': 'hsl(var(--foreground))',
        'text-secondary': 'hsl(var(--foreground))',
        'text-muted': 'hsl(var(--muted-foreground))',
        'text-subtle': 'hsl(var(--muted-foreground))',
        'border-strong': 'hsl(var(--border))',
        // Keep danger/warning/success for compatibility
        danger: {
          DEFAULT: 'hsl(var(--destructive))',
          foreground: 'hsl(var(--destructive-foreground))',
          subtle: 'hsl(var(--destructive) / 0.1)',
        },
        warning: {
          DEFAULT: '#EE7909',
          subtle: '#fef4e6',
        },
        success: {
          DEFAULT: '#019E55',
          subtle: '#e6f7ef',
        },
      },
      boxShadow: {
        sm: '0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 1px 2px -1px hsl(0 0% 0% / 0.10)',
        DEFAULT: '0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 1px 2px -1px hsl(0 0% 0% / 0.10)',
        md: '0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 2px 4px -1px hsl(0 0% 0% / 0.10)',
        lg: '0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 4px 6px -1px hsl(0 0% 0% / 0.10)',
        xl: '0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 8px 10px -1px hsl(0 0% 0% / 0.10)',
        '2xl': '0 1px 3px 0px hsl(0 0% 0% / 0.25)',
        // Legacy shadows for backward compatibility
        input: '0 1px 2px 0 rgba(0, 0, 0, 0.03)',
        'input-focus': '0 0 0 2px hsl(var(--ring) / 0.2)',
        card: '0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 1px 2px -1px hsl(0 0% 0% / 0.10)',
        'card-hover': '0 1px 3px 0px hsl(0 0% 0% / 0.10), 0 4px 6px -1px hsl(0 0% 0% / 0.10)',
      },
      borderRadius: {
        sm: 'calc(var(--radius) - 4px)',
        DEFAULT: 'var(--radius)',
        md: 'calc(var(--radius) - 2px)',
        lg: 'var(--radius)',
        xl: 'calc(var(--radius) + 4px)',
        // Legacy border radius for backward compatibility
        input: 'var(--radius)',
        card: 'var(--radius)',
        chip: '9999px',
        button: 'var(--radius)',
      },
      fontFamily: {
        sans: [
          'DM Sans',
          'ui-sans-serif',
          'system-ui',
          '-apple-system',
          'BlinkMacSystemFont',
          'Segoe UI',
          'Roboto',
          'Helvetica Neue',
          'Arial',
          'sans-serif',
        ],
      },
      transitionTimingFunction: {
        'accomplish': 'cubic-bezier(0.64, 0, 0.78, 0)',
      },
      animation: {
        'fade-in': 'fadeIn 0.2s ease-out',
        'slide-up': 'slideUp 0.3s ease-out',
        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
        'shimmer': 'shimmer 2s infinite',
        'spin-ccw': 'spinCcw 1s linear infinite',
      },
      keyframes: {
        fadeIn: {
          '0%': { opacity: '0' },
          '100%': { opacity: '1' },
        },
        slideUp: {
          '0%': { opacity: '0', transform: 'translateY(10px)' },
          '100%': { opacity: '1', transform: 'translateY(0)' },
        },
        shimmer: {
          '0%': { backgroundPosition: '-200% 0' },
          '100%': { backgroundPosition: '200% 0' },
        },
        spinCcw: {
          '0%': { transform: 'rotate(360deg)' },
          '100%': { transform: 'rotate(0deg)' },
        },
      },
    },
  },
  plugins: [tailwindcssAnimate, tailwindcssTypography],
};

export default config;


--- apps/desktop/vite.config.ts ---
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import electron from 'vite-plugin-electron';
import path from 'path';
import pkg from './package.json';

// Desktop app with local React UI
// No longer uses remote UI from Vercel

export default defineConfig(() => ({
  plugins: [
    react(),
    electron([
      {
        // Main process entry
        entry: 'src/main/index.ts',
        onstart({ startup }) {
          startup();
        },
        vite: {
          resolve: {
            alias: {
              '@accomplish_ai/agent-core': path.resolve(__dirname, '../../packages/agent-core/src'),
            },
          },
          build: {
            outDir: 'dist-electron/main',
            rollupOptions: {
              external: ['electron', 'electron-store', 'keytar', 'node-pty', 'better-sqlite3'],
            },
          },
        },
      },
      {
        // Preload script for local renderer
        entry: 'src/preload/index.ts',
        onstart({ reload }) {
          reload();
        },
        vite: {
          define: {
            'process.env.npm_package_version': JSON.stringify(pkg.version),
          },
          build: {
            outDir: 'dist-electron/preload',
            lib: {
              formats: ['cjs'],
              fileName: (format, entryName) =>
                format === 'cjs' ? `${entryName}.cjs` : `${entryName}.mjs`,
            },
            rollupOptions: {
              external: ['electron'],
              output: {
                inlineDynamicImports: true,
              },
            },
          },
        },
      },
    ]),
  ],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, 'src/renderer'),
      '@main': path.resolve(__dirname, 'src/main'),
      '@renderer': path.resolve(__dirname, 'src/renderer'),
      '@accomplish_ai/agent-core/common': path.resolve(__dirname, '../../packages/agent-core/src/common'),
      '@accomplish_ai/agent-core': path.resolve(__dirname, '../../packages/agent-core/src'),
    },
  },
  // Build the React renderer
  build: {
    outDir: 'dist',
    emptyOutDir: true,
    rollupOptions: {
      external: ['electron', 'electron-store', 'keytar', 'node-pty', 'better-sqlite3'],
    },
  },
  optimizeDeps: {
    exclude: ['electron', 'electron-store', 'keytar', 'node-pty', 'better-sqlite3'],
    // Force exclude in development
    esbuildOptions: {
      external: ['electron', 'electron-store', 'keytar', 'node-pty', 'better-sqlite3'],
    },
  },
}));


--- apps/desktop/vitest.config.ts ---
import { defineConfig } from 'vitest/config';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, 'src/renderer'),
      '@main': path.resolve(__dirname, 'src/main'),
      '@renderer': path.resolve(__dirname, 'src/renderer'),
      '@accomplish_ai/agent-core/common': path.resolve(__dirname, '../../packages/agent-core/src/common'),
      '@accomplish_ai/agent-core': path.resolve(__dirname, '../../packages/agent-core/src'),
    },
  },
  test: {
    globals: true,
    root: __dirname,
    include: ['__tests__/**/*.test.ts', '__tests__/**/*.test.tsx'],
    exclude: ['**/node_modules/**', '**/dist/**', '**/dist-electron/**', '**/release/**'],
    setupFiles: ['__tests__/setup.ts'],
    // Use different environments based on test type
    // Unit tests for main process use Node environment
    // Unit tests for renderer use jsdom
    environment: 'node',
    environmentMatchGlobs: [
      // Renderer tests use jsdom for DOM APIs
      ['__tests__/**/*.renderer.*.test.{ts,tsx}', 'jsdom'],
      ['__tests__/**/renderer/**/*.test.{ts,tsx}', 'jsdom'],
    ],
    coverage: {
      provider: 'v8',
      enabled: false, // Enable via CLI with --coverage
      reporter: ['text', 'html', 'lcov', 'json'],
      reportsDirectory: './coverage',
      include: ['src/**/*.{ts,tsx}'],
      exclude: [
        'src/**/*.d.ts',
        'src/**/index.ts',
        'src/vite-env.d.ts',
        'src/renderer/main.tsx',
        '**/node_modules/**',
        // Thin UI wrappers (Radix UI components with only styling, no business logic)
        'src/renderer/components/ui/avatar.tsx',
        'src/renderer/components/ui/badge.tsx',
        'src/renderer/components/ui/card.tsx',
        'src/renderer/components/ui/dialog.tsx',
        'src/renderer/components/ui/dropdown-menu.tsx',
        'src/renderer/components/ui/label.tsx',
        'src/renderer/components/ui/separator.tsx',
        'src/renderer/components/ui/skeleton.tsx',
        'src/renderer/components/ui/textarea.tsx',
        'src/renderer/components/ui/tooltip.tsx',
        'src/renderer/components/ui/popover.tsx',
        'src/renderer/components/ui/select.tsx',
        // Simple page wrappers
        'src/renderer/pages/History.tsx',
        // Infrastructure code - HTTP server and file system cleanup utilities
        'src/main/permission-api.ts', // MCP permission HTTP server - infrastructure
        'src/main/store/freshInstallCleanup.ts', // One-time cleanup utility
        // E2E test utilities - not production code
        'src/main/test-utils/**',
      ],
      thresholds: {
        statements: 80,
        branches: 70, // Branch coverage is harder to achieve with complex conditionals
        functions: 80,
        lines: 80,
      },
    },
    // Timeout for individual tests (5 seconds)
    testTimeout: 5000,
    // Timeout for hooks (10 seconds)
    hookTimeout: 10000,
    // Retry failed tests once
    retry: 0,
    // Reporter configuration
    reporters: ['default'],
    // Watch mode configuration
    watch: false,
  },
});


--- apps/desktop/vitest.integration.config.ts ---
import { defineConfig } from 'vitest/config';
import react from '@vitejs/plugin-react';
import path from 'path';
import { fileURLToPath } from 'url';

const __dirname = path.dirname(fileURLToPath(import.meta.url));

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, 'src/renderer'),
      '@main': path.resolve(__dirname, 'src/main'),
      '@renderer': path.resolve(__dirname, 'src/renderer'),
      '@accomplish_ai/agent-core/common': path.resolve(__dirname, '../../packages/agent-core/src/common'),
      '@accomplish_ai/agent-core': path.resolve(__dirname, '../../packages/agent-core/src'),
    },
  },
  test: {
    name: 'integration',
    globals: true,
    root: __dirname,
    include: ['__tests__/**/*.integration.test.{ts,tsx}'],
    exclude: ['**/node_modules/**', '**/dist/**', '**/dist-electron/**', '**/release/**'],
    setupFiles: ['__tests__/setup.ts'],
    environment: 'node',
    environmentMatchGlobs: [
      ['__tests__/**/*.renderer.*.test.{ts,tsx}', 'jsdom'],
      ['__tests__/**/renderer/**/*.test.{ts,tsx}', 'jsdom'],
    ],
    // Integration tests may need longer timeouts
    testTimeout: 10000,
    hookTimeout: 15000,
  },
});


--- apps/desktop/vitest.unit.config.ts ---
import { defineConfig } from 'vitest/config';
import react from '@vitejs/plugin-react';
import path from 'path';
import { fileURLToPath } from 'url';

const __dirname = path.dirname(fileURLToPath(import.meta.url));

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, 'src/renderer'),
      '@main': path.resolve(__dirname, 'src/main'),
      '@renderer': path.resolve(__dirname, 'src/renderer'),
      '@accomplish_ai/agent-core/common': path.resolve(__dirname, '../../packages/agent-core/src/common'),
      '@accomplish_ai/agent-core': path.resolve(__dirname, '../../packages/agent-core/src'),
    },
  },
  test: {
    name: 'unit',
    globals: true,
    root: __dirname,
    include: ['__tests__/**/*.unit.test.{ts,tsx}'],
    exclude: ['**/node_modules/**', '**/dist/**', '**/dist-electron/**', '**/release/**'],
    setupFiles: ['__tests__/setup.ts'],
    environment: 'node',
    environmentMatchGlobs: [
      ['__tests__/**/*.renderer.*.test.{ts,tsx}', 'jsdom'],
      ['__tests__/**/renderer/**/*.test.{ts,tsx}', 'jsdom'],
      ['__tests__/**/renderer/**/*.unit.test.{ts,tsx}', 'jsdom'],
    ],
    testTimeout: 5000,
    hookTimeout: 10000,
  },
});


--- apps/desktop/e2e/playwright.config.ts ---
import { defineConfig } from '@playwright/test';

export default defineConfig({
  testDir: './specs',
  outputDir: './test-results',

  // Serial execution (Electron single-instance)
  workers: 1,
  fullyParallel: false,

  // Timeouts
  timeout: 60000,
  expect: {
    timeout: 10000,
    toHaveScreenshot: { maxDiffPixels: 100, threshold: 0.2 }
  },

  // Retry on CI
  retries: process.env.CI ? 2 : 0,

  // Reporters (paths relative to config file location)
  reporter: [
    ['html', { outputFolder: './html-report' }],
    ['json', { outputFile: './test-results.json' }],
    ['list']
  ],

  use: {
    screenshot: 'only-on-failure',
    video: 'retain-on-failure',
    trace: 'retain-on-failure',
  },

  projects: [
    {
      name: 'electron-fast',
      testMatch: /.*(home|execution|settings|settings-bedrock)\.spec\.ts/,
      timeout: 60000,
    },
    {
      name: 'electron-integration',
      testMatch: /.*integration\.spec\.ts/,
      timeout: 120000,
      retries: 0,
    }
  ],
});


--- apps/desktop/__tests__/setup.ts ---
/**
 * Vitest setup file for tests
 * Configures testing-library matchers and global test utilities
 */

import '@testing-library/jest-dom/vitest';
import { vi } from 'vitest';

// Mock scrollIntoView for jsdom (not implemented in jsdom)
// Only apply when running in jsdom environment (Element is defined)
if (typeof Element !== 'undefined') {
  Element.prototype.scrollIntoView = () => {};
}

// Mock better-sqlite3 native module (not available in test environment)
// This prevents the native module from being loaded, which would fail in CI
vi.mock('better-sqlite3', () => {
  // Create a mock database class that can be instantiated with `new`
  class MockDatabase {
    pragma = vi.fn().mockReturnThis();
    prepare = vi.fn().mockReturnValue({
      run: vi.fn(),
      get: vi.fn().mockReturnValue(null),
      all: vi.fn().mockReturnValue([]),
    });
    exec = vi.fn();
    transaction = vi.fn((fn: () => unknown) => () => fn());
    close = vi.fn();
  }

  return {
    default: MockDatabase,
  };
});

// Extend global types for test utilities
declare global {
  // Add any global test utilities here if needed
}

export {};


--- packages/agent-core/README.md ---
# @accomplish_ai/agent-core

Core library for the Accomplish desktop automation assistant. Provides factory-based APIs for task management, persistent storage, permission handling, logging, and more -- designed for embedding the Accomplish agent runtime into Node.js host applications.

## Installation

```bash
npm install @accomplish_ai/agent-core
# or
pnpm add @accomplish_ai/agent-core
```

## Quick Start

```typescript
import { createStorage, createTaskManager } from '@accomplish_ai/agent-core';

// Initialize storage (SQLite + encrypted secure storage)
const storage = createStorage({
  databasePath: '/path/to/accomplish.db',
  userDataPath: '/path/to/user-data',
});
storage.initialize();

// Set up a task manager
const taskManager = createTaskManager({
  defaultWorkingDirectory: process.cwd(),
  isCliAvailable: async () => true,
  adapterOptions: {
    platform: process.platform,
    isPackaged: false,
    tempPath: '/tmp',
    getCliCommand: () => ({ command: 'opencode', args: [] }),
    buildEnvironment: async () => ({ ...process.env }),
    buildCliArgs: async (config, taskId) => [config.prompt],
  },
});

// Start a task
await taskManager.startTask('task-1', { prompt: 'Hello' }, {
  onMessage: (msg) => console.log(msg),
  onProgress: (p) => console.log(p.stage),
  onPermissionRequest: (req) => console.log(req),
  onComplete: (result) => console.log('Done:', result),
  onError: (err) => console.error(err),
});
```

## API

The package exports seven factory functions. Each returns an interface that hides internal implementation details.

### createTaskManager(options) â†’ TaskManagerAPI

Spawns and manages OpenCode CLI tasks via PTY. Supports concurrent task execution, queuing, cancellation, and lifecycle callbacks (messages, progress, permissions, completion).

```typescript
import { createTaskManager } from '@accomplish_ai/agent-core';
```

### createStorage(options) â†’ StorageAPI

SQLite-backed storage for tasks, app settings, and provider configuration. Includes AES-256-GCM encrypted secure storage for API keys. Combines `TaskStorageAPI`, `AppSettingsAPI`, `ProviderSettingsAPI`, `SecureStorageAPI`, and `DatabaseLifecycleAPI` into a single interface.

```typescript
import { createStorage } from '@accomplish_ai/agent-core';
```

### createPermissionHandler(options?) â†’ PermissionHandlerAPI

Handles file operation and tool permission requests from running tasks. Creates request/response pairs with configurable timeouts, validates incoming request data, and builds structured permission request objects.

```typescript
import { createPermissionHandler } from '@accomplish_ai/agent-core';
```

### createThoughtStreamHandler(options?) â†’ ThoughtStreamAPI

Streams AI thought and checkpoint events from MCP tools. Tracks active tasks, validates incoming thought/checkpoint data, and categorizes events (observation, reasoning, decision, action).

```typescript
import { createThoughtStreamHandler } from '@accomplish_ai/agent-core';
```

### createLogWriter(options) â†’ LogWriterAPI

Structured rotating log file writer with buffered writes. Supports multiple log sources (main, mcp, browser, opencode, env, ipc) and configurable rotation size, retention period, and flush intervals.

```typescript
import { createLogWriter } from '@accomplish_ai/agent-core';
```

### createSkillsManager(options) â†’ SkillsManagerAPI

Manages custom prompt skill files. Loads skills from bundled and user directories, supports enabling/disabling, adding, deleting, and reading skill content.

```typescript
import { createSkillsManager } from '@accomplish_ai/agent-core';
```

### createSpeechService(options) â†’ SpeechServiceAPI

Speech-to-text transcription via ElevenLabs. Validates API keys, transcribes audio buffers, and returns structured results with confidence scores and duration.

```typescript
import { createSpeechService } from '@accomplish_ai/agent-core';
```

### Browser Configuration

The config generator accepts a `browser` option to control how the agent connects to a browser:

```typescript
import { generateConfig, type BrowserConfig } from '@accomplish_ai/agent-core';

// Default â€” uses the dev-browser HTTP server
generateConfig({ browser: { mode: 'builtin' } });

// Remote CDP â€” connect to any Chrome DevTools Protocol endpoint
generateConfig({
  browser: {
    mode: 'remote',
    cdpEndpoint: 'http://localhost:9222',
    cdpHeaders: { 'X-CDP-Secret': 'token' },  // optional auth
  },
});

// No browser â€” omits browser tools entirely
generateConfig({ browser: { mode: 'none' } });
```

| Mode | Description |
|------|-------------|
| `builtin` | Default. Connects via the dev-browser HTTP server (used by the desktop app). |
| `remote` | Connects directly to a CDP endpoint (headless Chromium, remote browser, etc.). |
| `none` | Disables browser tools. Strips browser identity from the agent's system prompt. |

## Sub-path Exports

The package provides a `common` sub-path export for browser-safe types and constants that can be used in renderer or browser contexts without pulling in Node.js dependencies:

```typescript
import {
  // Types
  type TaskStatus,
  type TaskConfig,
  type PermissionRequest,
  type ProviderId,
  type OpenCodeMessage,

  // Constants
  DEFAULT_PROVIDERS,
  PROVIDER_META,
  MODEL_DISPLAY_NAMES,

  // Utility functions
  createTaskId,
  getModelDisplayName,
  isWaitingForUser,
} from '@accomplish_ai/agent-core/common';
```

## Requirements

- **Node.js >= 20**
- Native dependencies: [`better-sqlite3`](https://github.com/WiseLibs/better-sqlite3) (SQLite), [`node-pty`](https://github.com/microsoft/node-pty) (PTY for CLI spawning). These require a C++ build toolchain for installation.

## License

MIT


## Links discovered
- [`better-sqlite3`](https://github.com/WiseLibs/better-sqlite3)
- [`node-pty`](https://github.com/microsoft/node-pty)

--- packages/agent-core/mcp-tools/dev-browser-mcp/README.md ---
# dev-browser-mcp

An MCP (Model Context Protocol) server for browser automation using Playwright.

## Installation

```bash
npm install
```

## Connection Modes

The server supports two connection modes, determined by the `CDP_ENDPOINT` environment variable.

### Builtin mode (default)

Connects to the dev-browser HTTP server, which manages browser lifecycle and page routing. This is how the Accomplish desktop app uses it.

```bash
# Uses http://localhost:9224 by default
npx tsx src/index.ts

# Custom port
DEV_BROWSER_PORT=5555 npx tsx src/index.ts
```

### Remote CDP mode

Connects directly to any Chrome DevTools Protocol endpoint â€” no dev-browser HTTP server needed. Pages are managed in a local in-memory registry.

```bash
# Local headless Chromium
CDP_ENDPOINT=http://localhost:9222 npx tsx src/index.ts

# Remote browser with auth
CDP_ENDPOINT=ws://remote-browser:9222 CDP_SECRET=my-token npx tsx src/index.ts
```

### Environment variables

| Variable | Mode | Description |
|----------|------|-------------|
| `CDP_ENDPOINT` | remote | CDP endpoint URL (http or ws). When set, enables remote mode. |
| `CDP_SECRET` | remote | Sent as `X-CDP-Secret` header for authenticated endpoints. |
| `DEV_BROWSER_PORT` | builtin | Port for the dev-browser HTTP server (default: `9224`). |
| `ACCOMPLISH_TASK_ID` | both | Task ID for page name isolation (default: `default`). |

### Launching a headless browser for remote mode

```bash
# Start headless Chromium with a CDP port
chromium --headless --no-sandbox --remote-debugging-port=9222

# Verify it's running
curl http://localhost:9222/json/version

# Connect the MCP server
CDP_ENDPOINT=http://localhost:9222 npx tsx src/index.ts
```

All `browser_*` tools (navigate, snapshot, click, type, evaluate, screenshot, tabs, etc.) work identically in both modes.

## browser_snapshot Parameters

| Parameter | Type | Default | Description |
|-----------|------|---------|-------------|
| page_name | string | "main" | Name of the page to snapshot |
| interactive_only | boolean | true | Only include interactive elements |
| full_snapshot | boolean | false | Bypass all limits (escape hatch) |
| max_elements | number | 300 | Maximum elements (1-1000) |
| max_tokens | number | 8000 | Token budget (1000-50000) |
| viewport_only | boolean | false | Filter to viewport-visible elements |
| include_history | boolean | true | Include navigation history |

### Token Optimization

The snapshot tool automatically optimizes output using a 3-tier system:

1. **Element Filtering** - Prioritizes interactive elements by role (buttons > textboxes > links)
2. **Token Budget** - Truncates when approaching token limit
3. **Context Management** - Tracks session navigation history

When truncated, output includes metadata header:
```yaml
# Elements: 300 of 5538 (truncated: element limit)
# Tokens: ~4500
# Navigation: Home â†’ Search â†’ Results
```


--- packages/agent-core/vitest.config.ts ---
import { defineConfig } from 'vitest/config';

export default defineConfig({
  test: {
    globals: true,
    environment: 'node',
    include: ['tests/**/*.test.ts'],
    coverage: {
      provider: 'v8',
      reporter: ['text', 'json', 'html'],
      include: ['src/**/*.ts'],
      exclude: ['src/**/*.d.ts', 'src/**/index.ts'],
    },
  },
});


--- packages/agent-core/src/common.ts ---
// =============================================================================
// @accomplish_ai/agent-core/common - Browser-safe exports
// =============================================================================
// This file exports only browser-safe code (types, constants, pure functions).
// Use this entry point for renderer/browser contexts.
// =============================================================================

// === TYPES ===

// Task types
export type {
  TaskStatus,
  TaskConfig,
  Task,
  TaskAttachment,
  TaskMessage,
  TaskResult,
  TaskProgress,
  TaskUpdateEvent,
} from './common/types/task.js';
export { STARTUP_STAGES } from './common/types/task.js';

// Permission types
export type {
  FileOperation,
  PermissionRequest,
  PermissionOption,
  PermissionResponse,
} from './common/types/permission.js';
export {
  FILE_OPERATIONS,
  FILE_PERMISSION_REQUEST_PREFIX,
  QUESTION_REQUEST_PREFIX,
} from './common/types/permission.js';

// Provider types
export type {
  ProviderType,
  ApiKeyProvider,
  ProviderConfig,
  ModelConfig,
  SelectedModel,
  OllamaConfig,
  AzureFoundryConfig,
  LiteLLMModel,
  LiteLLMConfig,
  LMStudioConfig,
} from './common/types/provider.js';
export {
  DEFAULT_PROVIDERS,
  DEFAULT_MODEL,
  ALLOWED_API_KEY_PROVIDERS,
  STANDARD_VALIDATION_PROVIDERS,
  ZAI_ENDPOINTS,
} from './common/types/provider.js';

// Provider settings types
export type {
  ProviderId,
  ProviderCategory,
  ProviderMeta,
  ConnectionStatus,
  ApiKeyCredentials,
  BedrockProviderCredentials,
  OllamaCredentials,
  OpenRouterCredentials,
  LiteLLMCredentials,
  ZaiRegion,
  ZaiCredentials,
  LMStudioCredentials,
  AzureFoundryCredentials,
  OAuthCredentials,
  ProviderCredentials,
  ToolSupportStatus,
  ConnectedProvider,
  ProviderSettings,
} from './common/types/providerSettings.js';
export {
  PROVIDER_META,
  DEFAULT_MODELS,
  PROVIDER_ID_TO_OPENCODE,
  isProviderReady,
  hasAnyReadyProvider,
  getActiveProvider,
  getDefaultModelForProvider,
} from './common/types/providerSettings.js';

// Auth types
export type {
  ApiKeyConfig,
  BedrockCredentials,
  BedrockAccessKeyCredentials,
  BedrockProfileCredentials,
  BedrockApiKeyCredentials,
} from './common/types/auth.js';

// OpenCode message types
export type {
  OpenCodeMessage,
  OpenCodeMessageBase,
  OpenCodeToolUseMessage,
  OpenCodeStepStartMessage,
  OpenCodeTextMessage,
  OpenCodeToolCallMessage,
  OpenCodeToolResultMessage,
  OpenCodeStepFinishMessage,
  OpenCodeErrorMessage,
} from './common/types/opencode.js';

// Skills types
export type { SkillSource, Skill, SkillFrontmatter } from './common/types/skills.js';

// Other types
export type { TodoItem } from './common/types/todo.js';
export type { LogLevel, LogSource, LogEntry } from './common/types/logging.js';
export type { ThoughtEvent, CheckpointEvent } from './common/types/thought-stream.js';

// === CONSTANTS ===
export {
  DEV_BROWSER_PORT,
  DEV_BROWSER_CDP_PORT,
  THOUGHT_STREAM_PORT,
  PERMISSION_API_PORT,
  QUESTION_API_PORT,
  PERMISSION_REQUEST_TIMEOUT_MS,
  LOG_MAX_FILE_SIZE_BYTES,
  LOG_RETENTION_DAYS,
  LOG_BUFFER_FLUSH_INTERVAL_MS,
  LOG_BUFFER_MAX_ENTRIES,
} from './common/constants.js';

export {
  MODEL_DISPLAY_NAMES,
  PROVIDER_PREFIXES,
  getModelDisplayName,
} from './common/constants/model-display.js';

// === BROWSER-SAFE UTILS ===
export {
  createTaskId,
  createMessageId,
  createFilePermissionRequestId,
  createQuestionRequestId,
  isFilePermissionRequest,
  isQuestionRequest,
} from './common/utils/id.js';

export { isWaitingForUser } from './common/utils/waiting-detection.js';
export { detectLogSource, LOG_SOURCE_PATTERNS } from './common/utils/log-source-detector.js';

// === SCHEMAS ===
export {
  taskConfigSchema,
  permissionResponseSchema,
  resumeSessionSchema,
  validate,
} from './common/schemas/validation.js';


--- packages/agent-core/src/index.ts ---
// =============================================================================
// @accomplish/core - Public API
// =============================================================================
// This file explicitly exports the public API for the @accomplish/core package.
// All exports are explicit named exports to ensure API stability and clarity.
// =============================================================================

// -----------------------------------------------------------------------------
// Factory Functions (NEW - Preferred API)
// -----------------------------------------------------------------------------
// Use these factory functions instead of directly instantiating classes.
// Factories return interfaces, hiding internal implementation details.

// Factory functions - new encapsulated API
export {
  createTaskManager,
  createStorage,
  createPermissionHandler,
  createThoughtStreamHandler,
  createLogWriter,
  createSkillsManager,
  createSpeechService,
} from './factories/index.js';

// -----------------------------------------------------------------------------
// API Interfaces (NEW - Public contracts)
// -----------------------------------------------------------------------------
// These interfaces define the public API contracts returned by factory functions.

// Preferred API names (aliased for clarity)
export type {
  // Task Manager API
  TaskManagerAPI,
  TaskManagerOptions as TaskManagerFactoryOptions,
  TaskAdapterOptions,
  TaskCallbacks as TaskManagerCallbacks,
  TaskProgressEvent as TaskManagerProgressEvent,
  // Storage API
  StorageAPI,
  StorageOptions,
  StoredTask,
  AppSettings,
  TaskStorageAPI,
  AppSettingsAPI,
  ProviderSettingsAPI,
  SecureStorageAPI,
  DatabaseLifecycleAPI,
  // Permission Handler API
  PermissionHandlerAPI,
  PermissionHandlerOptions,
  FilePermissionRequestData as PermissionFileRequestData,
  QuestionRequestData as PermissionQuestionRequestData,
  QuestionResponseData as PermissionQuestionResponseData,
  PermissionValidationResult,
  // Thought Stream API
  ThoughtStreamAPI,
  ThoughtStreamOptions,
  ThoughtEvent as ThoughtStreamEvent,
  CheckpointEvent as ThoughtStreamCheckpointEvent,
  ThoughtCategory,
  CheckpointStatus,
  // Log Writer API
  LogWriterAPI,
  LogWriterOptions,
  LogEntry as LogWriterEntry,
  // Skills Manager API
  SkillsManagerAPI,
  SkillsManagerOptions,
  // Speech Service API
  SpeechServiceAPI,
  SpeechServiceOptions,
  TranscriptionResult as SpeechTranscriptionResult,
  TranscriptionError as SpeechTranscriptionError,
} from './types/index.js';

// Backward-compatible re-exports (original names)
export type {
  TaskManagerOptions,
  TaskCallbacks,
  TaskProgressEvent,
  TranscriptionResult,
  TranscriptionError,
} from './types/index.js';

// -----------------------------------------------------------------------------
// Types (from ./types.ts)
// -----------------------------------------------------------------------------
export type {
  PlatformConfig,
  CliResolverConfig,
  ResolvedCliPaths,
  BundledNodePaths,
} from './types.js';

// -----------------------------------------------------------------------------
// OpenCode Module (from ./opencode/)
// -----------------------------------------------------------------------------

// Error classes (still exported - these are safe)
export { OpenCodeCliNotFoundError } from './opencode/adapter.js';

// Adapter types - AdapterOptions/OpenCodeAdapterEvents are internal (use TaskAdapterOptions)
// createLogWatcher/OpenCodeLogError are internal (used by OpenCodeAdapter internally)

// Low-level OpenCode utilities for advanced integrations
export { resolveCliPath, isCliAvailable } from './opencode/cli-resolver.js';

export {
  generateConfig,
  buildCliArgs,
  ACCOMPLISH_AGENT_NAME,
} from './opencode/config-generator.js';

export type { BrowserConfig } from './opencode/config-generator.js';

export { buildOpenCodeEnvironment } from './opencode/environment.js';

export type { EnvironmentConfig } from './opencode/environment.js';

export { buildProviderConfigs, syncApiKeysToOpenCodeAuth } from './opencode/config-builder.js';

export { getOpenCodeAuthPath, getOpenAiOauthStatus } from './opencode/auth.js';

// Message processing is now internal to TaskManager (use onBatchedMessages callback)
// CompletionEnforcerCallbacks is internal (wiring between adapter and enforcer)
// Proxy lifecycle is now internal to TaskManager.dispose()

export {
  getAzureEntraToken,
} from './opencode/proxies/index.js';

// -----------------------------------------------------------------------------
// Storage Module (from ./storage/)
// -----------------------------------------------------------------------------

// Errors
export { FutureSchemaError } from './storage/migrations/errors.js';

// -----------------------------------------------------------------------------
// Providers Module (from ./providers/)
// -----------------------------------------------------------------------------

// Validation functions
export { validateApiKey } from './providers/validation.js';

export {
  validateBedrockCredentials,
  fetchBedrockModels,
} from './providers/bedrock.js';

export {
  validateAzureFoundry,
  testAzureFoundryConnection,
} from './providers/azure-foundry.js';

export { fetchOpenRouterModels } from './providers/openrouter.js';

export { testLiteLLMConnection, fetchLiteLLMModels } from './providers/litellm.js';

export { testOllamaConnection } from './providers/ollama.js';

export { testOllamaModelToolSupport } from './providers/tool-support-testing.js';

export {
  testLMStudioConnection,
  fetchLMStudioModels,
  validateLMStudioConfig,
} from './providers/lmstudio.js';

// -----------------------------------------------------------------------------
// Utils Module (from ./utils/)
// -----------------------------------------------------------------------------

// Bundled Node.js binary path resolution
export {
  getBundledNodePaths,
  isBundledNodeAvailable,
  getNodePath,
  getNpmPath,
  getNpxPath,
  logBundledNodeInfo,
} from './utils/bundled-node.js';

export type { BundledNodePathsExtended } from './utils/bundled-node.js';

// System PATH resolution
export { getExtendedNodePath, findCommandInPath } from './utils/system-path.js';

// Sanitization functions
export { sanitizeString } from './utils/sanitize.js';

// URL validation functions
export { validateHttpUrl } from './utils/url.js';

// Task validation functions
export { validateTaskConfig } from './utils/task-validation.js';

// JSON parsing functions
export { safeParseJson } from './utils/json.js';

export type { SafeParseResult } from './utils/json.js';

// Redaction functions
export { redact } from './utils/redact.js';

export { mapResultToStatus } from './utils/task-status.js';

// Logging - use createLogWriter factory from ./factories/log-writer.js instead

// -----------------------------------------------------------------------------
// Browser Module (from ./browser/)
// -----------------------------------------------------------------------------

// Browser server for dev-browser MCP tool
export { ensureDevBrowserServer } from './browser/server.js';

export type { BrowserServerConfig } from './browser/server.js';

// -----------------------------------------------------------------------------
// Services Module (from ./services/)
// -----------------------------------------------------------------------------

// Summarizer functions
export { generateTaskSummary } from './services/summarizer.js';

export type { GetApiKeyFn } from './services/summarizer.js';

// -----------------------------------------------------------------------------
// Skills Module (from ./skills/)
// -----------------------------------------------------------------------------

// Use createSkillsManager factory from ./factories/skills-manager.js instead

// -----------------------------------------------------------------------------
// Shared Module (from ./common/) - Merged from @accomplish/shared
// -----------------------------------------------------------------------------

// Task types
export type {
  TaskStatus,
  TaskConfig,
  Task,
  TaskAttachment,
  TaskMessage,
  TaskResult,
  TaskProgress,
  TaskUpdateEvent,
} from './common/types/task.js';
export { STARTUP_STAGES } from './common/types/task.js';

// Permission types
export type {
  FileOperation,
  PermissionRequest,
  PermissionOption,
  PermissionResponse,
} from './common/types/permission.js';
export {
  FILE_OPERATIONS,
  FILE_PERMISSION_REQUEST_PREFIX,
  QUESTION_REQUEST_PREFIX,
} from './common/types/permission.js';

// Provider types
export type {
  ProviderType,
  ApiKeyProvider,
  ProviderConfig,
  ModelConfig,
  SelectedModel,
  OllamaConfig,
  AzureFoundryConfig,
  LiteLLMModel,
  LiteLLMConfig,
  LMStudioConfig,
} from './common/types/provider.js';
export {
  DEFAULT_PROVIDERS,
  DEFAULT_MODEL,
  ALLOWED_API_KEY_PROVIDERS,
  STANDARD_VALIDATION_PROVIDERS,
  ZAI_ENDPOINTS,
} from './common/types/provider.js';

// Provider settings types
export type {
  ProviderId,
  ProviderCategory,
  ProviderMeta,
  ConnectionStatus,
  ApiKeyCredentials,
  BedrockProviderCredentials,
  OllamaCredentials,
  OpenRouterCredentials,
  LiteLLMCredentials,
  ZaiRegion,
  ZaiCredentials,
  LMStudioCredentials,
  AzureFoundryCredentials,
  OAuthCredentials,
  ProviderCredentials,
  ToolSupportStatus,
  ConnectedProvider,
  ProviderSettings,
} from './common/types/providerSettings.js';
export {
  PROVIDER_META,
  DEFAULT_MODELS,
  PROVIDER_ID_TO_OPENCODE,
  isProviderReady,
  hasAnyReadyProvider,
  getActiveProvider,
  getDefaultModelForProvider,
} from './common/types/providerSettings.js';

// Auth types
export type {
  ApiKeyConfig,
  BedrockCredentials,
  BedrockAccessKeyCredentials,
  BedrockProfileCredentials,
  BedrockApiKeyCredentials,
} from './common/types/auth.js';

// OpenCode message types
export type {
  OpenCodeMessage,
  OpenCodeMessageBase,
  OpenCodeToolUseMessage,
  OpenCodeStepStartMessage,
  OpenCodeTextMessage,
  OpenCodeToolCallMessage,
  OpenCodeToolResultMessage,
  OpenCodeStepFinishMessage,
  OpenCodeErrorMessage,
} from './common/types/opencode.js';

// Skills types
export type { SkillSource, Skill, SkillFrontmatter } from './common/types/skills.js';

// Other types
export type { TodoItem } from './common/types/todo.js';
export type { LogLevel, LogSource, LogEntry } from './common/types/logging.js';
export type { ThoughtEvent, CheckpointEvent } from './common/types/thought-stream.js';

// Constants
export {
  DEV_BROWSER_PORT,
  DEV_BROWSER_CDP_PORT,
  THOUGHT_STREAM_PORT,
  PERMISSION_API_PORT,
  QUESTION_API_PORT,
  PERMISSION_REQUEST_TIMEOUT_MS,
  LOG_MAX_FILE_SIZE_BYTES,
  LOG_RETENTION_DAYS,
  LOG_BUFFER_FLUSH_INTERVAL_MS,
  LOG_BUFFER_MAX_ENTRIES,
} from './common/constants.js';

export {
  MODEL_DISPLAY_NAMES,
  PROVIDER_PREFIXES,
  getModelDisplayName,
} from './common/constants/model-display.js';

// Utils
export {
  createTaskId,
  createMessageId,
  createFilePermissionRequestId,
  createQuestionRequestId,
  isFilePermissionRequest,
  isQuestionRequest,
} from './common/utils/id.js';

// Shell and network utilities for PTY spawning
export { stripAnsi, quoteForShell, getPlatformShell, getShellArgs } from './utils/shell.js';
export { isPortInUse, waitForPortRelease } from './utils/network.js';
export { isWaitingForUser } from './common/utils/waiting-detection.js';
export { detectLogSource, LOG_SOURCE_PATTERNS } from './common/utils/log-source-detector.js';

// Schemas
export {
  taskConfigSchema,
  permissionResponseSchema,
  resumeSessionSchema,
  validate,
} from './common/schemas/validation.js';


--- packages/agent-core/src/types.ts ---
export interface PlatformConfig {
  userDataPath: string;
  tempPath: string;
  isPackaged: boolean;
  resourcesPath?: string;
  appPath?: string;
  platform: NodeJS.Platform;
  arch: string;
}

export interface CliResolverConfig {
  isPackaged: boolean;
  resourcesPath?: string;
  appPath?: string;
}

export interface ResolvedCliPaths {
  cliPath: string;
  cliDir: string;
  source: 'bundled' | 'local' | 'global';
}

export interface BundledNodePaths {
  nodePath: string;
  npmPath: string;
  npxPath: string;
  binDir: string;
}


--- packages/agent-core/src/opencode/adapter.ts ---
import * as pty from 'node-pty';
import { EventEmitter } from 'events';
import fs from 'fs';
import path from 'path';
import { spawn } from 'child_process';
import { StreamParser } from './stream-parser.js';
import { OpenCodeLogWatcher, createLogWatcher, OpenCodeLogError } from './log-watcher.js';
import { CompletionEnforcer, CompletionEnforcerCallbacks } from './completion/index.js';
import type { TaskConfig, Task, TaskMessage, TaskResult } from '../common/types/task.js';
import type { OpenCodeMessage } from '../common/types/opencode.js';
import type { PermissionRequest } from '../common/types/permission.js';
import type { TodoItem } from '../common/types/todo.js';

export class OpenCodeCliNotFoundError extends Error {
  constructor() {
    super(
      'OpenCode CLI is not available. The bundled CLI may be missing or corrupted. Please reinstall the application.'
    );
    this.name = 'OpenCodeCliNotFoundError';
  }
}

export interface AdapterOptions {
  platform: NodeJS.Platform;
  isPackaged: boolean;
  tempPath: string;
  getCliCommand: () => { command: string; args: string[] };
  buildEnvironment: (taskId: string) => Promise<NodeJS.ProcessEnv>;
  buildCliArgs: (config: TaskConfig) => Promise<string[]>;
  onBeforeStart?: () => Promise<void>;
  getModelDisplayName?: (modelId: string) => string;
}

export interface OpenCodeAdapterEvents {
  message: [OpenCodeMessage];
  'tool-use': [string, unknown];
  'tool-result': [string];
  'permission-request': [PermissionRequest];
  progress: [{ stage: string; message?: string; modelName?: string }];
  complete: [TaskResult];
  error: [Error];
  debug: [{ type: string; message: string; data?: unknown }];
  'todo:update': [TodoItem[]];
  'auth-error': [{ providerId: string; message: string }];
}

export class OpenCodeAdapter extends EventEmitter<OpenCodeAdapterEvents> {
  private ptyProcess: pty.IPty | null = null;
  private streamParser: StreamParser;
  private logWatcher: OpenCodeLogWatcher | null = null;
  private currentSessionId: string | null = null;
  private currentTaskId: string | null = null;
  private messages: TaskMessage[] = [];
  private hasCompleted: boolean = false;
  private isDisposed: boolean = false;
  private wasInterrupted: boolean = false;
  private completionEnforcer: CompletionEnforcer;
  private lastWorkingDirectory: string | undefined;
  private currentModelId: string | null = null;
  private waitingTransitionTimer: ReturnType<typeof setTimeout> | null = null;
  private hasReceivedFirstTool: boolean = false;
  private startTaskCalled: boolean = false;
  private options: AdapterOptions;

  constructor(options: AdapterOptions, taskId?: string) {
    super();
    this.options = options;
    this.currentTaskId = taskId || null;
    this.streamParser = new StreamParser();
    this.completionEnforcer = this.createCompletionEnforcer();
    this.setupStreamParsing();
    this.setupLogWatcher();
  }

  private createCompletionEnforcer(): CompletionEnforcer {
    const callbacks: CompletionEnforcerCallbacks = {
      onStartContinuation: async (prompt: string) => {
        await this.spawnSessionResumption(prompt);
      },
      onComplete: () => {
        this.hasCompleted = true;
        this.emit('complete', {
          status: 'success',
          sessionId: this.currentSessionId || undefined,
        });
      },
      onDebug: (type: string, message: string, data?: unknown) => {
        this.emit('debug', { type, message, data });
      },
    };
    return new CompletionEnforcer(callbacks);
  }

  private setupLogWatcher(): void {
    this.logWatcher = createLogWatcher();

    this.logWatcher.on('error', (error: OpenCodeLogError) => {
      if (!this.hasCompleted && this.ptyProcess) {
        console.log('[OpenCode Adapter] Log watcher detected error:', error.errorName);

        const errorMessage = OpenCodeLogWatcher.getErrorMessage(error);

        this.emit('debug', {
          type: 'error',
          message: `[${error.errorName}] ${errorMessage}`,
          data: {
            errorName: error.errorName,
            statusCode: error.statusCode,
            providerID: error.providerID,
            modelID: error.modelID,
            message: error.message,
          },
        });

        if (error.isAuthError && error.providerID) {
          console.log('[OpenCode Adapter] Emitting auth-error for provider:', error.providerID);
          this.emit('auth-error', {
            providerId: error.providerID,
            message: errorMessage,
          });
        }

        this.hasCompleted = true;
        this.emit('complete', {
          status: 'error',
          sessionId: this.currentSessionId || undefined,
          error: errorMessage,
        });

        if (this.ptyProcess) {
          try {
            this.ptyProcess.kill();
          } catch (err) {
            console.warn('[OpenCode Adapter] Error killing PTY after log error:', err);
          }
          this.ptyProcess = null;
        }
      }
    });
  }

  async startTask(config: TaskConfig): Promise<Task> {
    if (this.isDisposed) {
      throw new Error('Adapter has been disposed and cannot start new tasks');
    }

    const taskId = config.taskId || this.generateTaskId();
    this.currentTaskId = taskId;
    this.currentSessionId = null;
    this.currentModelId = config.modelId || null;
    this.messages = [];
    this.streamParser.reset();
    this.hasCompleted = false;
    this.wasInterrupted = false;
    this.completionEnforcer.reset();
    this.lastWorkingDirectory = config.workingDirectory;
    this.hasReceivedFirstTool = false;
    this.startTaskCalled = false;
    if (this.waitingTransitionTimer) {
      clearTimeout(this.waitingTransitionTimer);
      this.waitingTransitionTimer = null;
    }

    if (this.logWatcher) {
      await this.logWatcher.start();
    }

    if (this.options.onBeforeStart) {
      await this.options.onBeforeStart();
    }

    const cliArgs = await this.options.buildCliArgs(config);

    const { command, args: baseArgs } = this.options.getCliCommand();
    const startMsg = `Starting: ${command} ${[...baseArgs, ...cliArgs].join(' ')}`;
    console.log('[OpenCode CLI]', startMsg);
    this.emit('debug', { type: 'info', message: startMsg });

    const env = await this.options.buildEnvironment(taskId);

    const allArgs = [...baseArgs, ...cliArgs];
    const cmdMsg = `Command: ${command}`;
    const argsMsg = `Args: ${allArgs.join(' ')}`;
    const safeCwd = config.workingDirectory || this.options.tempPath;
    const cwdMsg = `Working directory: ${safeCwd}`;

    if (this.options.isPackaged && this.options.platform === 'win32') {
      const dummyPackageJson = path.join(safeCwd, 'package.json');
      if (!fs.existsSync(dummyPackageJson)) {
        try {
          fs.writeFileSync(dummyPackageJson, JSON.stringify({ name: 'opencode-workspace', private: true }, null, 2));
          console.log('[OpenCode CLI] Created workspace package.json at:', dummyPackageJson);
        } catch (err) {
          console.warn('[OpenCode CLI] Could not create workspace package.json:', err);
        }
      }
    }

    console.log('[OpenCode CLI]', cmdMsg);
    console.log('[OpenCode CLI]', argsMsg);
    console.log('[OpenCode CLI]', cwdMsg);

    this.emit('debug', { type: 'info', message: cmdMsg });
    this.emit('debug', { type: 'info', message: argsMsg, data: { args: allArgs } });
    this.emit('debug', { type: 'info', message: cwdMsg });

    {
      const fullCommand = this.buildShellCommand(command, allArgs);

      const shellCmdMsg = `Full shell command: ${fullCommand}`;
      console.log('[OpenCode CLI]', shellCmdMsg);
      this.emit('debug', { type: 'info', message: shellCmdMsg });

      const shellCmd = this.getPlatformShell();
      const shellArgs = this.getShellArgs(fullCommand);
      const shellMsg = `Using shell: ${shellCmd} ${shellArgs.join(' ')}`;
      console.log('[OpenCode CLI]', shellMsg);
      this.emit('debug', { type: 'info', message: shellMsg });

      this.ptyProcess = pty.spawn(shellCmd, shellArgs, {
        name: 'xterm-256color',
        cols: 32000,
        rows: 30,
        cwd: safeCwd,
        env: env as { [key: string]: string },
      });
      const pidMsg = `PTY Process PID: ${this.ptyProcess.pid}`;
      console.log('[OpenCode CLI]', pidMsg);
      this.emit('debug', { type: 'info', message: pidMsg });

      this.emit('progress', { stage: 'loading', message: 'Loading agent...' });

      this.ptyProcess.onData((data: string) => {
        const cleanData = data
          .replace(/\x1B\[[0-9;?]*[a-zA-Z]/g, '')
          .replace(/\x1B\][^\x07]*\x07/g, '')
          .replace(/\x1B\][^\x1B]*\x1B\\/g, '');
        if (cleanData.trim()) {
          const truncated = cleanData.substring(0, 500) + (cleanData.length > 500 ? '...' : '');
          console.log('[OpenCode CLI stdout]:', truncated);
          this.emit('debug', { type: 'stdout', message: cleanData });

          this.streamParser.feed(cleanData);
        }
      });

      this.ptyProcess.onExit(({ exitCode, signal }) => {
        const exitMsg = `PTY Process exited with code: ${exitCode}, signal: ${signal}`;
        console.log('[OpenCode CLI]', exitMsg);
        this.emit('debug', { type: 'exit', message: exitMsg, data: { exitCode, signal } });
        this.handleProcessExit(exitCode);
      });
    }

    return {
      id: taskId,
      prompt: config.prompt,
      status: 'running',
      messages: [],
      createdAt: new Date().toISOString(),
      startedAt: new Date().toISOString(),
    };
  }

  async resumeSession(sessionId: string, prompt: string): Promise<Task> {
    return this.startTask({
      prompt,
      sessionId,
    });
  }

  async sendResponse(response: string): Promise<void> {
    if (!this.ptyProcess) {
      throw new Error('No active process');
    }

    this.ptyProcess.write(response + '\n');
    console.log('[OpenCode CLI] Response sent via PTY');
  }

  async cancelTask(): Promise<void> {
    if (this.ptyProcess) {
      this.ptyProcess.kill();
      this.ptyProcess = null;
    }
  }

  async interruptTask(): Promise<void> {
    if (!this.ptyProcess) {
      console.log('[OpenCode CLI] No active process to interrupt');
      return;
    }

    this.wasInterrupted = true;

    this.ptyProcess.write('\x03');
    console.log('[OpenCode CLI] Sent Ctrl+C interrupt signal');

    if (this.options.platform === 'win32') {
      setTimeout(() => {
        if (this.ptyProcess) {
          this.ptyProcess.write('Y\n');
          console.log('[OpenCode CLI] Sent Y to confirm batch termination');
        }
      }, 100);
    }
  }

  getSessionId(): string | null {
    return this.currentSessionId;
  }

  getTaskId(): string | null {
    return this.currentTaskId;
  }

  get running(): boolean {
    return this.ptyProcess !== null && !this.hasCompleted;
  }

  isAdapterDisposed(): boolean {
    return this.isDisposed;
  }

  dispose(): void {
    if (this.isDisposed) {
      return;
    }

    console.log(`[OpenCode Adapter] Disposing adapter for task ${this.currentTaskId}`);
    this.isDisposed = true;

    if (this.logWatcher) {
      this.logWatcher.stop().catch((err) => {
        console.warn('[OpenCode Adapter] Error stopping log watcher:', err);
      });
    }

    if (this.ptyProcess) {
      try {
        this.ptyProcess.kill();
      } catch (error) {
        console.error('[OpenCode Adapter] Error killing PTY process:', error);
      }
      this.ptyProcess = null;
    }

    this.currentSessionId = null;
    this.currentTaskId = null;
    this.messages = [];
    this.hasCompleted = true;
    this.currentModelId = null;
    this.hasReceivedFirstTool = false;
    this.startTaskCalled = false;

    if (this.waitingTransitionTimer) {
      clearTimeout(this.waitingTransitionTimer);
      this.waitingTransitionTimer = null;
    }

    this.streamParser.reset();
    this.removeAllListeners();

    console.log('[OpenCode Adapter] Adapter disposed');
  }

  private escapeShellArg(arg: string): string {
    if (this.options.platform === 'win32') {
      if (arg.includes(' ') || arg.includes('"')) {
        return `"${arg.replace(/"/g, '""')}"`;
      }
      return arg;
    } else {
      const needsEscaping = ["'", ' ', '$', '`', '\\', '"', '\n'].some(c => arg.includes(c));
      if (needsEscaping) {
        return `'${arg.replace(/'/g, "'\\''")}'`;
      }
      return arg;
    }
  }

  private buildShellCommand(command: string, args: string[]): string {
    const escapedCommand = this.escapeShellArg(command);
    const escapedArgs = args.map(arg => this.escapeShellArg(arg));
    return [escapedCommand, ...escapedArgs].join(' ');
  }

  private setupStreamParsing(): void {
    this.streamParser.on('message', (message: OpenCodeMessage) => {
      this.handleMessage(message);
    });

    this.streamParser.on('error', (error: Error) => {
      console.warn('[OpenCode Adapter] Stream parse warning:', error.message);
      this.emit('debug', { type: 'parse-warning', message: error.message });
    });
  }

  private handleMessage(message: OpenCodeMessage): void {
    console.log('[OpenCode Adapter] Handling message type:', message.type);

    switch (message.type) {
      case 'step_start':
        this.currentSessionId = message.part.sessionID;
        const modelDisplayName = this.currentModelId && this.options.getModelDisplayName
          ? this.options.getModelDisplayName(this.currentModelId)
          : 'AI';
        this.emit('progress', {
          stage: 'connecting',
          message: `Connecting to ${modelDisplayName}...`,
          modelName: modelDisplayName,
        });
        if (this.waitingTransitionTimer) {
          clearTimeout(this.waitingTransitionTimer);
        }
        this.waitingTransitionTimer = setTimeout(() => {
          if (!this.hasReceivedFirstTool && !this.hasCompleted) {
            this.emit('progress', { stage: 'waiting', message: 'Waiting for response...' });
          }
        }, 500);
        break;

      case 'text':
        if (!this.currentSessionId && message.part.sessionID) {
          this.currentSessionId = message.part.sessionID;
        }
        this.emit('message', message);

        if (message.part.text) {
          const taskMessage: TaskMessage = {
            id: this.generateMessageId(),
            type: 'assistant',
            content: message.part.text,
            timestamp: new Date().toISOString(),
          };
          this.messages.push(taskMessage);
        }
        break;

      case 'tool_call':
        this.handleToolCall(message.part.tool || 'unknown', message.part.input, message.part.sessionID);
        break;

      case 'tool_use':
        const toolUseMessage = message as import('../common/types/opencode.js').OpenCodeToolUseMessage;
        const toolUseName = toolUseMessage.part.tool || 'unknown';
        const toolUseInput = toolUseMessage.part.state?.input;
        const toolUseOutput = toolUseMessage.part.state?.output || '';

        this.handleToolCall(toolUseName, toolUseInput, toolUseMessage.part.sessionID);

        const toolDescription = (toolUseInput as { description?: string })?.description;
        if (toolDescription) {
          const syntheticTextMessage: OpenCodeMessage = {
            type: 'text',
            timestamp: message.timestamp,
            sessionID: message.sessionID,
            part: {
              id: this.generateMessageId(),
              sessionID: toolUseMessage.part.sessionID,
              messageID: toolUseMessage.part.messageID,
              type: 'text',
              text: toolDescription,
            },
          } as import('../common/types/opencode.js').OpenCodeTextMessage;
          this.emit('message', syntheticTextMessage);
        }

        this.emit('message', message);
        const toolUseStatus = toolUseMessage.part.state?.status;

        console.log('[OpenCode Adapter] Tool use:', toolUseName, 'status:', toolUseStatus);

        if (toolUseStatus === 'completed' || toolUseStatus === 'error') {
          this.emit('tool-result', toolUseOutput);
        }

        if (toolUseName === 'AskUserQuestion') {
          this.handleAskUserQuestion(toolUseInput as AskUserQuestionInput);
        }
        break;

      case 'tool_result':
        const toolOutput = message.part.output || '';
        console.log('[OpenCode Adapter] Tool result received, length:', toolOutput.length);
        this.emit('tool-result', toolOutput);
        break;

      case 'step_finish':
        if (message.part.reason === 'error') {
          if (!this.hasCompleted) {
            this.hasCompleted = true;
            this.emit('complete', {
              status: 'error',
              sessionId: this.currentSessionId || undefined,
              error: 'Task failed',
            });
          }
          break;
        }

        const action = this.completionEnforcer.handleStepFinish(message.part.reason);
        console.log(`[OpenCode Adapter] step_finish action: ${action}`);

        if (action === 'complete' && !this.hasCompleted) {
          this.hasCompleted = true;
          this.emit('complete', {
            status: 'success',
            sessionId: this.currentSessionId || undefined,
          });
        }
        break;

      case 'error':
        this.hasCompleted = true;
        this.emit('complete', {
          status: 'error',
          sessionId: this.currentSessionId || undefined,
          error: message.error,
        });
        break;

      default:
        const unknownMessage = message as unknown as { type: string };
        console.log('[OpenCode Adapter] Unknown message type:', unknownMessage.type);
    }
  }

  private handleToolCall(toolName: string, toolInput: unknown, sessionID?: string): void {
    console.log('[OpenCode Adapter] Tool call:', toolName);

    if (this.isStartTaskTool(toolName)) {
      this.startTaskCalled = true;
      const startInput = toolInput as StartTaskInput;
      if (startInput?.goal && startInput?.steps) {
        this.emitPlanMessage(startInput, sessionID || this.currentSessionId || '');
        const todos: TodoItem[] = startInput.steps.map((step, i) => ({
          id: String(i + 1),
          content: step,
          status: i === 0 ? 'in_progress' : 'pending',
          priority: 'medium',
        }));
        if (todos.length > 0) {
          this.emit('todo:update', todos);
          this.completionEnforcer.updateTodos(todos);
          console.log('[OpenCode Adapter] Created todos from start_task steps');
        }
      }
    }

    if (!this.startTaskCalled && !this.isExemptTool(toolName)) {
      console.warn(`[OpenCode Adapter] Tool "${toolName}" called before start_task`);
      this.emit('debug', {
        type: 'warning',
        message: `Tool "${toolName}" called before start_task - plan may not be captured`,
      });
    }

    if (!this.hasReceivedFirstTool) {
      this.hasReceivedFirstTool = true;
      if (this.waitingTransitionTimer) {
        clearTimeout(this.waitingTransitionTimer);
        this.waitingTransitionTimer = null;
      }
    }

    this.completionEnforcer.markToolsUsed();

    if (toolName === 'complete_task' || toolName.endsWith('_complete_task')) {
      this.completionEnforcer.handleCompleteTaskDetection(toolInput);
    }

    if (toolName === 'todowrite' || toolName.endsWith('_todowrite')) {
      const input = toolInput as { todos?: TodoItem[] };
      if (input?.todos && Array.isArray(input.todos) && input.todos.length > 0) {
        this.emit('todo:update', input.todos);
        this.completionEnforcer.updateTodos(input.todos);
      }
    }

    this.emit('tool-use', toolName, toolInput);
    this.emit('progress', {
      stage: 'tool-use',
      message: `Using ${toolName}`,
    });

    if (toolName === 'AskUserQuestion') {
      this.handleAskUserQuestion(toolInput as AskUserQuestionInput);
    }
  }

  private handleAskUserQuestion(input: AskUserQuestionInput): void {
    const question = input.questions?.[0];
    if (!question) return;

    const permissionRequest: PermissionRequest = {
      id: this.generateRequestId(),
      taskId: this.currentTaskId || '',
      type: 'question',
      question: question.question,
      options: question.options?.map((o) => ({
        label: o.label,
        description: o.description,
      })),
      multiSelect: question.multiSelect,
      createdAt: new Date().toISOString(),
    };

    this.emit('permission-request', permissionRequest);
  }

  private handleProcessExit(code: number | null): void {
    this.ptyProcess = null;

    if (this.wasInterrupted && code === 0 && !this.hasCompleted) {
      console.log('[OpenCode CLI] Task was interrupted by user');
      this.hasCompleted = true;
      this.emit('complete', {
        status: 'interrupted',
        sessionId: this.currentSessionId || undefined,
      });
      this.currentTaskId = null;
      return;
    }

    if (code === 0 && !this.hasCompleted) {
      this.completionEnforcer.handleProcessExit(code).catch((error) => {
        console.error('[OpenCode Adapter] Completion enforcer error:', error);
        this.hasCompleted = true;
        this.emit('complete', {
          status: 'error',
          sessionId: this.currentSessionId || undefined,
          error: `Failed to complete: ${error.message}`,
        });
      });
      return;
    }

    if (!this.hasCompleted) {
      if (code !== null && code !== 0) {
        this.emit('error', new Error(`OpenCode CLI exited with code ${code}`));
      }
    }

    this.currentTaskId = null;
  }

  private async spawnSessionResumption(prompt: string): Promise<void> {
    const sessionId = this.currentSessionId;
    if (!sessionId) {
      throw new Error('No session ID available for session resumption');
    }

    console.log(`[OpenCode Adapter] Starting session resumption with session ${sessionId}`);

    this.streamParser.reset();

    const config: TaskConfig = {
      prompt,
      sessionId: sessionId,
      workingDirectory: this.lastWorkingDirectory,
    };

    const cliArgs = await this.options.buildCliArgs(config);

    const { command, args: baseArgs } = this.options.getCliCommand();
    console.log('[OpenCode Adapter] Session resumption command:', command, [...baseArgs, ...cliArgs].join(' '));

    const env = await this.options.buildEnvironment(this.currentTaskId || 'default');

    const allArgs = [...baseArgs, ...cliArgs];
    const safeCwd = config.workingDirectory || this.options.tempPath;

    const fullCommand = this.buildShellCommand(command, allArgs);

    const shellCmd = this.getPlatformShell();
    const shellArgs = this.getShellArgs(fullCommand);

    this.ptyProcess = pty.spawn(shellCmd, shellArgs, {
      name: 'xterm-256color',
      cols: 32000,
      rows: 30,
      cwd: safeCwd,
      env: env as { [key: string]: string },
    });

    this.ptyProcess.onData((data: string) => {
      const cleanData = data
        .replace(/\x1B\[[0-9;?]*[a-zA-Z]/g, '')
        .replace(/\x1B\][^\x07]*\x07/g, '')
        .replace(/\x1B\][^\x1B]*\x1B\\/g, '');
      if (cleanData.trim()) {
        const truncated = cleanData.substring(0, 500) + (cleanData.length > 500 ? '...' : '');
        console.log('[OpenCode CLI stdout]:', truncated);
        this.emit('debug', { type: 'stdout', message: cleanData });

        this.streamParser.feed(cleanData);
      }
    });

    this.ptyProcess.onExit(({ exitCode }) => {
      this.handleProcessExit(exitCode);
    });
  }

  private generateTaskId(): string {
    return `task_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;
  }

  private generateMessageId(): string {
    return `msg_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;
  }

  private generateRequestId(): string {
    return `req_${Date.now()}_${Math.random().toString(36).substring(2, 11)}`;
  }

  private isStartTaskTool(toolName: string): boolean {
    return toolName === 'start_task' || toolName.endsWith('_start_task');
  }

  private isExemptTool(toolName: string): boolean {
    if (toolName === 'todowrite' || toolName.endsWith('_todowrite')) {
      return true;
    }
    if (this.isStartTaskTool(toolName)) {
      return true;
    }
    return false;
  }

  private emitPlanMessage(input: StartTaskInput, sessionId: string): void {
    const verificationSection = input.verification?.length
      ? `\n\n**Verification:**\n${input.verification.map((v, i) => `${i + 1}. ${v}`).join('\n')}`
      : '';
    const skillsSection = input.skills?.length
      ? `\n\n**Skills:** ${input.skills.join(', ')}`
      : '';
    const planText = `**Plan:**\n\n**Goal:** ${input.goal}\n\n**Steps:**\n${input.steps.map((s, i) => `${i + 1}. ${s}`).join('\n')}${verificationSection}${skillsSection}`;

    const syntheticMessage: OpenCodeMessage = {
      type: 'text',
      timestamp: Date.now(),
      sessionID: sessionId,
      part: {
        id: this.generateMessageId(),
        sessionID: sessionId,
        messageID: this.generateMessageId(),
        type: 'text',
        text: planText,
      },
    } as import('../common/types/opencode.js').OpenCodeTextMessage;

    this.emit('message', syntheticMessage);
    console.log('[OpenCode Adapter] Emitted synthetic plan message');
  }

  private getPlatformShell(): string {
    if (this.options.platform === 'win32') {
      return 'cmd.exe';
    } else if (this.options.isPackaged && this.options.platform === 'darwin') {
      return '/bin/sh';
    } else {
      const userShell = process.env.SHELL;
      if (userShell) {
        return userShell;
      }
      if (fs.existsSync('/bin/bash')) return '/bin/bash';
      if (fs.existsSync('/bin/zsh')) return '/bin/zsh';
      return '/bin/sh';
    }
  }

  private getShellArgs(command: string): string[] {
    if (this.options.platform === 'win32') {
      return ['/s', '/c', command];
    } else {
      return ['-c', command];
    }
  }
}

interface AskUserQuestionInput {
  questions?: Array<{
    question: string;
    header?: string;
    options?: Array<{ label: string; description?: string }>;
    multiSelect?: boolean;
  }>;
}

interface StartTaskInput {
  original_request: string;
  goal: string;
  steps: string[];
  verification: string[];
  skills: string[];
}

export function createAdapter(options: AdapterOptions, taskId?: string): OpenCodeAdapter {
  return new OpenCodeAdapter(options, taskId);
}


--- packages/agent-core/src/opencode/auth.ts ---
import * as os from 'os';
import * as path from 'path';
import * as fs from 'fs';

interface OpenCodeOauthAuthEntry {
  type?: string;
  refresh?: string;
  access?: string;
  expires?: number;
}

export function getOpenCodeDataHome(): string {
  return process.env.XDG_DATA_HOME || path.join(os.homedir(), '.local', 'share');
}

export function getOpenCodeAuthJsonPath(): string {
  return path.join(getOpenCodeDataHome(), 'opencode', 'auth.json');
}

function readOpenCodeAuthJson(): Record<string, unknown> | null {
  try {
    const authPath = getOpenCodeAuthJsonPath();
    if (!fs.existsSync(authPath)) return null;
    const raw = fs.readFileSync(authPath, 'utf8');
    return JSON.parse(raw) as Record<string, unknown>;
  } catch {
    return null;
  }
}

export function getOpenAiOauthStatus(): { connected: boolean; expires?: number } {
  const authJson = readOpenCodeAuthJson();
  if (!authJson) return { connected: false };

  const entry = authJson.openai;
  if (!entry || typeof entry !== 'object') return { connected: false };

  const oauth = entry as OpenCodeOauthAuthEntry;
  if (oauth.type !== 'oauth') return { connected: false };

  const refresh = oauth.refresh;
  const connected = typeof refresh === 'string' && refresh.trim().length > 0;
  return { connected, expires: oauth.expires };
}

export function getOpenCodeAuthPath(): string {
  const homeDir = os.homedir();
  if (process.platform === 'win32') {
    return path.join(homeDir, 'AppData', 'Local', 'opencode', 'auth.json');
  }
  return path.join(homeDir, '.local', 'share', 'opencode', 'auth.json');
}

export function writeOpenCodeAuth(providerKeys: Record<string, { type: string; key: string }>): void {
  const authPath = getOpenCodeAuthPath();
  const authDir = path.dirname(authPath);

  if (!fs.existsSync(authDir)) {
    fs.mkdirSync(authDir, { recursive: true });
  }

  let auth: Record<string, { type: string; key: string }> = {};
  if (fs.existsSync(authPath)) {
    try {
      auth = JSON.parse(fs.readFileSync(authPath, 'utf-8'));
    } catch (e) {
      console.warn('[OpenCode Auth] Failed to parse existing auth.json, creating new one');
      auth = {};
    }
  }

  for (const [providerId, entry] of Object.entries(providerKeys)) {
    auth[providerId] = entry;
  }

  fs.writeFileSync(authPath, JSON.stringify(auth, null, 2));
  console.log('[OpenCode Auth] Updated auth.json at:', authPath);
}


--- packages/agent-core/src/providers/azure-foundry.ts ---
import type { AzureFoundryConfig } from '../common/types/provider.js';

import { fetchWithTimeout } from '../utils/fetch.js';
import { sanitizeString } from '../utils/sanitize.js';
import { validateHttpUrl } from '../utils/url.js';
import { getAzureEntraToken } from '../opencode/proxies/azure-token-manager.js';
import type { ValidationResult } from './validation.js';

export interface AzureFoundryConnectionOptions {
  endpoint: string;
  deploymentName: string;
  authType: 'api-key' | 'entra-id';
  apiKey?: string;
  timeout?: number;
}

export interface AzureFoundryConnectionResult {
  success: boolean;
  error?: string;
}

/**
 * Tests connection to an Azure Foundry (Azure OpenAI) endpoint.
 *
 * This is used to test user-provided configuration before saving.
 * For validating stored configuration, use validateAzureFoundry instead.
 *
 * @param options - Connection options including endpoint, deployment, and auth
 * @returns Connection result indicating success or failure with error message
 */
export async function testAzureFoundryConnection(
  options: AzureFoundryConnectionOptions
): Promise<AzureFoundryConnectionResult> {
  const { endpoint, deploymentName, authType, apiKey, timeout = DEFAULT_TIMEOUT_MS } = options;

  let baseUrl: string;
  try {
    validateHttpUrl(endpoint, 'Azure Foundry endpoint');
    baseUrl = endpoint.replace(/\/$/, '');
  } catch (e) {
    return { success: false, error: e instanceof Error ? e.message : 'Invalid endpoint URL format' };
  }

  try {
    let authHeader: string;

    if (authType === 'api-key') {
      if (!apiKey) {
        return { success: false, error: 'API key is required for API key authentication' };
      }
      authHeader = apiKey;
    } else {
      const tokenResult = await getAzureEntraToken();
      if (!tokenResult.success) {
        return { success: false, error: tokenResult.error };
      }
      authHeader = `Bearer ${tokenResult.token}`;
    }

    const testUrl = `${baseUrl}/openai/deployments/${deploymentName}/chat/completions?api-version=2024-02-15-preview`;

    const headers: Record<string, string> = {
      'Content-Type': 'application/json',
    };
    if (authType === 'api-key') {
      headers['api-key'] = authHeader;
    } else {
      headers['Authorization'] = authHeader;
    }

    const response = await fetchWithTimeout(
      testUrl,
      {
        method: 'POST',
        headers,
        body: JSON.stringify({
          messages: [{ role: 'user', content: 'Hi' }],
          max_completion_tokens: 5,
        }),
      },
      timeout
    );

    if (!response.ok) {
      // Retry with max_tokens for deployments that don't support max_completion_tokens
      const retryResponse = await fetchWithTimeout(
        testUrl,
        {
          method: 'POST',
          headers,
          body: JSON.stringify({
            messages: [{ role: 'user', content: 'Hi' }],
            max_tokens: 5,
          }),
        },
        timeout
      );

      if (!retryResponse.ok) {
        const errorData = await retryResponse.json().catch(() => ({}));
        const errorMessage = (errorData as { error?: { message?: string } })?.error?.message || `API returned status ${retryResponse.status}`;
        return { success: false, error: errorMessage };
      }
    }

    console.log('[Azure Foundry] Connection test successful for deployment:', deploymentName);
    return { success: true };
  } catch (error) {
    const message = error instanceof Error ? error.message : 'Connection failed';
    console.warn('[Azure Foundry] Connection test failed:', message);

    if (error instanceof Error && error.name === 'AbortError') {
      return { success: false, error: 'Request timed out. Check your endpoint URL and network connection.' };
    }
    return { success: false, error: message };
  }
}

export interface AzureFoundryValidationOptions {
  /** API key for api-key auth type */
  apiKey?: string;
  /** Base URL override (uses config if not provided) */
  baseUrl?: string;
  /** Deployment name override (uses config if not provided) */
  deploymentName?: string;
  /** Auth type override (uses config if not provided, defaults to 'api-key') */
  authType?: 'api-key' | 'entra-id';
  /** Request timeout in milliseconds */
  timeout?: number;
}

const DEFAULT_TIMEOUT_MS = 15000;

/**
 * Validates Azure Foundry (Azure OpenAI) credentials by making a test API call.
 *
 * Supports two authentication types:
 * - API Key: Uses the api-key header
 * - Entra ID: Acquires an Azure AD token via OAuth flow and uses Bearer token
 *
 * @param config - The stored Azure Foundry configuration (can be null if not configured)
 * @param options - Validation options including API key and overrides
 * @returns Validation result indicating success or failure with error message
 */
export async function validateAzureFoundry(
  config: AzureFoundryConfig | null,
  options: AzureFoundryValidationOptions
): Promise<ValidationResult> {
  const baseUrl = options.baseUrl || config?.baseUrl;
  const deploymentName = options.deploymentName || config?.deploymentName;
  const authType = options.authType || config?.authType || 'api-key';
  const timeout = options.timeout ?? DEFAULT_TIMEOUT_MS;

  let entraToken = '';
  let sanitizedKey = '';

  if (authType === 'entra-id') {
    // For Entra ID, we only validate if both baseUrl and deploymentName are provided
    if (options.baseUrl && options.deploymentName) {
      const tokenResult = await getAzureEntraToken();
      if (!tokenResult.success) {
        return { valid: false, error: tokenResult.error };
      }
      entraToken = tokenResult.token;
    } else {
      // Skip validation if we don't have the required config yet
      return { valid: true };
    }
  } else {
    // For API key auth, validate and sanitize the key
    if (!options.apiKey) {
      return { valid: false, error: 'API key is required for api-key authentication' };
    }
    try {
      sanitizedKey = sanitizeString(options.apiKey, 'apiKey', 256);
    } catch (e) {
      return { valid: false, error: e instanceof Error ? e.message : 'Invalid API key' };
    }
  }

  // Skip validation if missing required config
  if (!baseUrl || !deploymentName) {
    console.log('[Azure Foundry] Skipping validation (missing config or options)');
    return { valid: true };
  }

  const cleanBaseUrl = baseUrl.replace(/\/+$/, '');
  const testUrl = `${cleanBaseUrl}/openai/deployments/${deploymentName}/chat/completions?api-version=2023-05-15`;

  const headers: Record<string, string> = {
    'Content-Type': 'application/json',
  };

  if (authType === 'entra-id') {
    if (!entraToken) {
      return { valid: false, error: 'Missing Entra ID access token for Azure Foundry validation request' };
    }
    headers['Authorization'] = `Bearer ${entraToken}`;
  } else {
    headers['api-key'] = sanitizedKey;
  }

  try {
    let response = await fetchWithTimeout(
      testUrl,
      {
        method: 'POST',
        headers,
        body: JSON.stringify({
          messages: [{ role: 'user', content: 'test' }],
          max_completion_tokens: 5
        }),
      },
      timeout
    );

    if (!response.ok) {
      const firstErrorData = await response.json().catch(() => ({}));
      const firstErrorMessage = (firstErrorData as { error?: { message?: string } })?.error?.message || '';

      // Some Azure OpenAI deployments don't support max_completion_tokens, retry with max_tokens
      if (firstErrorMessage.includes('max_completion_tokens')) {
        response = await fetchWithTimeout(
          testUrl,
          {
            method: 'POST',
            headers,
            body: JSON.stringify({
              messages: [{ role: 'user', content: 'test' }],
              max_tokens: 5
            }),
          },
          timeout
        );
      } else {
        return { valid: false, error: firstErrorMessage || `API returned status ${response.status}` };
      }
    }

    if (response.ok) {
      console.log('[Azure Foundry] Validation succeeded');
      return { valid: true };
    }

    const errorData = await response.json().catch(() => ({}));
    const errorMessage = (errorData as { error?: { message?: string } })?.error?.message || `API returned status ${response.status}`;
    console.warn('[Azure Foundry] Validation failed', { error: errorMessage });
    return { valid: false, error: errorMessage };
  } catch (error) {
    console.error('[Azure Foundry] Validation error', { error: error instanceof Error ? error.message : String(error) });
    if (error instanceof Error && error.name === 'AbortError') {
      return { valid: false, error: 'Request timed out. Please check your internet connection and try again.' };
    }
    return { valid: false, error: 'Failed to validate API key. Check your internet connection.' };
  }
}


--- packages/agent-core/src/providers/bedrock.ts ---
import { BedrockClient, ListFoundationModelsCommand } from '@aws-sdk/client-bedrock';
import { fromIni } from '@aws-sdk/credential-providers';
import type { BedrockCredentials } from '../common/types/auth.js';
import { safeParseJson } from '../utils/json.js';
import type { ValidationResult } from './validation.js';

/**
 * Validates AWS Bedrock credentials by making a test API call.
 * Supports three authentication types:
 * - API Key (bearer token)
 * - Access Keys (accessKeyId + secretAccessKey)
 * - IAM Profile (uses fromIni)
 *
 * @param credentialsJson - JSON string containing BedrockCredentials
 * @returns ValidationResult indicating if credentials are valid
 */
export async function validateBedrockCredentials(
  credentialsJson: string
): Promise<ValidationResult> {
  const parseResult = safeParseJson<BedrockCredentials>(credentialsJson);
  if (!parseResult.success) {
    return { valid: false, error: 'Failed to parse credentials' };
  }

  const parsed = parseResult.data;
  let client: BedrockClient;
  let cleanupEnv: (() => void) | null = null;

  if (parsed.authType === 'apiKey') {
    const originalToken = process.env.AWS_BEARER_TOKEN_BEDROCK;
    process.env.AWS_BEARER_TOKEN_BEDROCK = parsed.apiKey;
    cleanupEnv = () => {
      if (originalToken !== undefined) {
        process.env.AWS_BEARER_TOKEN_BEDROCK = originalToken;
      } else {
        delete process.env.AWS_BEARER_TOKEN_BEDROCK;
      }
    };
    client = new BedrockClient({
      region: parsed.region || 'us-east-1',
    });
  } else if (parsed.authType === 'accessKeys') {
    if (!parsed.accessKeyId || !parsed.secretAccessKey) {
      return { valid: false, error: 'Access Key ID and Secret Access Key are required' };
    }
    const awsCredentials: { accessKeyId: string; secretAccessKey: string; sessionToken?: string } =
      {
        accessKeyId: parsed.accessKeyId,
        secretAccessKey: parsed.secretAccessKey,
      };
    if (parsed.sessionToken) {
      awsCredentials.sessionToken = parsed.sessionToken;
    }
    client = new BedrockClient({
      region: parsed.region || 'us-east-1',
      credentials: awsCredentials,
    });
  } else if (parsed.authType === 'profile') {
    client = new BedrockClient({
      region: parsed.region || 'us-east-1',
      credentials: fromIni({ profile: parsed.profileName || 'default' }),
    });
  } else {
    return { valid: false, error: 'Invalid authentication type' };
  }

  try {
    const command = new ListFoundationModelsCommand({});
    await client.send(command);

    return { valid: true };
  } catch (error) {
    const message = error instanceof Error ? error.message : 'Validation failed';

    if (message.includes('UnrecognizedClientException') || message.includes('InvalidSignatureException')) {
      return {
        valid: false,
        error: 'Invalid AWS credentials. Please check your Access Key ID and Secret Access Key.',
      };
    }
    if (message.includes('AccessDeniedException')) {
      return {
        valid: false,
        error: 'Access denied. Ensure your AWS credentials have Bedrock permissions.',
      };
    }
    if (message.includes('could not be found')) {
      return { valid: false, error: 'AWS profile not found. Check your ~/.aws/credentials file.' };
    }
    if (message.includes('InvalidBearerTokenException') || message.includes('bearer token')) {
      return {
        valid: false,
        error: 'Invalid Bedrock API key. Please check your API key and try again.',
      };
    }

    return { valid: false, error: message };
  } finally {
    cleanupEnv?.();
  }
}

export interface BedrockModel {
  id: string;
  name: string;
  provider: string;
}

export interface FetchBedrockModelsResult {
  success: boolean;
  models: BedrockModel[];
  error?: string;
}

/**
 * Fetches available foundation models from AWS Bedrock.
 *
 * Creates a BedrockClient based on the authentication type (apiKey, accessKeys, or profile),
 * fetches models, filters for TEXT output modality, and returns a formatted list.
 *
 * @param credentials - The Bedrock credentials (apiKey, accessKeys, or profile based)
 * @returns Object with success status, models array, and optional error message
 */
export async function fetchBedrockModels(
  credentials: BedrockCredentials
): Promise<FetchBedrockModelsResult> {
  let bedrockClient: BedrockClient;
  let originalToken: string | undefined;

  try {
    if (credentials.authType === 'apiKey') {
      originalToken = process.env.AWS_BEARER_TOKEN_BEDROCK;
      process.env.AWS_BEARER_TOKEN_BEDROCK = credentials.apiKey;
      bedrockClient = new BedrockClient({
        region: credentials.region || 'us-east-1',
      });
    } else if (credentials.authType === 'accessKeys') {
      bedrockClient = new BedrockClient({
        region: credentials.region || 'us-east-1',
        credentials: {
          accessKeyId: credentials.accessKeyId,
          secretAccessKey: credentials.secretAccessKey,
          sessionToken: credentials.sessionToken,
        },
      });
    } else {
      bedrockClient = new BedrockClient({
        region: credentials.region || 'us-east-1',
        credentials: fromIni({ profile: credentials.profileName }),
      });
    }

    try {
      const command = new ListFoundationModelsCommand({});
      const response = await bedrockClient.send(command);

      const models = (response.modelSummaries || [])
        .filter((m) => m.outputModalities?.includes('TEXT'))
        .map((m) => ({
          id: `amazon-bedrock/${m.modelId}`,
          name: m.modelId || 'Unknown',
          provider: m.providerName || 'Unknown',
        }))
        .sort((a, b) => a.name.localeCompare(b.name));

      return { success: true, models };
    } finally {
      if (credentials.authType === 'apiKey') {
        if (originalToken !== undefined) {
          process.env.AWS_BEARER_TOKEN_BEDROCK = originalToken;
        } else {
          delete process.env.AWS_BEARER_TOKEN_BEDROCK;
        }
      }
    }
  } catch (error) {
    console.error('[Bedrock] Failed to fetch models:', error);
    const errorMessage = error instanceof Error ? error.message : 'Unknown error';
    return { success: false, error: errorMessage, models: [] };
  }
}
